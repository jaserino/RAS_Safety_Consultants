;/*FB_PKG_DELIM*/

__d("LSRemoveBlindedTokens",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.fe(b.ftr(b.db.table(308).fetch(),function(b){return b.configId===a[0]}),function(a){return a["delete"]()})},function(a){return b.resolve(c)}])}b=a;f["default"]=b}),66);
__d("LSRemoveUsedTokens",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(a){return b.fe(b.ftr(b.db.table(309).fetch(),function(a){return b.i64.le(a.redeemLimit,b.i64.cast([0,0]))}),function(a){return a["delete"]()})},function(a){return b.resolve(c)}])}b=a;f["default"]=b}),66);
__d("LSGetCurrentTokenPoolState",["LSArrayGetObjectAt","LSRemoveBlindedTokens","LSRemoveUsedTokens"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(g){return c.seq([function(b){return d[0]=c.i64.of_float(Date.now()),d[1]=c.createArray(),c.ct(c.ftr(c.db.table(307).fetch(),function(b){return b.projectName===a[0]})).then(function(a){return d[2]=a})},function(b){return c.fe(c.ftr(c.db.table(307).fetch(),function(b){return b.projectName===a[0]}),function(a){a=a.item;return d[7]=a.configId,c.i64.gt(d[0],a.expirationTimestampMs)?c.fe(c.db.table(307).fetch([[[d[7]]]]),function(a){return a["delete"]()}):c.resolve(d[8]=(d[1].push(d[7]),d[1]))})},function(a){return c.sp(b("LSRemoveUsedTokens"))},function(a){return d[3]=c.i64.cast([0,0]),d[4]=c.i64.of_int32(d[1].length),c.i64.gt(d[4],c.i64.cast([0,0]))?c.loopAsync(d[4],function(a){return d[7]=a,c.seq([function(a){return c.ntop("Array",b("LSArrayGetObjectAt"),d[1],d[7]).then(function(a){return a=a,d[8]=a[0],d[9]=a[1],a})},function(a){return c.ct(c.ftr(c.db.table(309).fetch(),function(a){return a.configId===d[8]})).then(function(a){return d[10]=a})},function(a){return d[3]=c.i64.add(d[10],d[3]),c.sp(b("LSRemoveBlindedTokens"),d[8])}])}):c.resolve()},function(a){return c.i64.gt(d[2],c.i64.cast([0,0]))?(d[7]=c.i64.of_int32(d[1].length),d[5]=c.i64.ge(d[7],c.i64.cast([0,1]))):d[5]=f,d[5]!==f?(d[5]?(c.i64.gt(d[3],c.i64.cast([0,0]))?d[8]=c.i64.cast([0,3]):d[8]=c.i64.cast([0,2]),d[7]=d[8]):d[7]=c.i64.cast([0,1]),d[6]=d[7]):d[6]=c.i64.cast([0,0]),a=[d[6],d[3]],e[0]=a[0],e[1]=a[1],a}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSIssueNextSync",["LSIssueNewTaskAndGetTaskID"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.seq([function(b){return c.ct(c.ftr(c.db.table(310).fetch(),function(b){return b.projectName===a[1]})).then(function(a){return d[0]=a})},function(e){return c.i64.gt(d[0],c.i64.cast([0,0]))&&a[3]===!0?c.resolve(0):c.seq([function(b){return c.fe(c.ftr(c.db.table(310).fetch(),function(b){return b.projectName===a[1]}),function(a){return a["delete"]()})},function(e){return c.i64.gt(a[2],c.i64.cast([0,0]))?(d[3]=c.i64.of_float(Date.now()),d[1]=c.i64.add(d[3],a[2])):d[1]=c.i64.cast([0,0]),c.sp(b("LSIssueNewTaskAndGetTaskID"),["acs_sync","_",a[1]].join(""),c.i64.cast([0,362]),"",f,f,c.i64.cast([0,0]),c.i64.cast([0,0]),f,f,d[1],c.i64.cast([0,0])).then(function(a){return a=a,d[2]=a[0],a})},function(b){return c.db.table(310).add({taskId:d[2],projectName:a[1],maxClientTokenPoolSize:a[0]})}])}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSVoprfBlind.nop",["Promise"],(function(a,b,c,d,e,f){"use strict";var g;a=function(a,c,d){return(g||(g=b("Promise"))).resolve([void 0,void 0])};f["default"]=a}),66);
__d("LSVoprfCreateNonce.nop",["Promise"],(function(a,b,c,d,e,f){"use strict";var g;a=function(a,c){return(g||(g=b("Promise"))).resolve([void 0])};f["default"]=a}),66);
__d("LSTaskSerializerAcsIssueNextSync",["LSBase64Encode.nop","LSGetCurrentTokenPoolState","LSIssueNextSync","LSVoprfBlind.nop","LSVoprfCreateNonce.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(g){return c.seq([function(e){return c.db.table(310).fetch([[[a[0]]]]).next().then(function(a,e){var h=a.done;a=a.value;return h?(function(a){c.logger(a).mustfix(a)}("Request context for the passed task_id was not found"),h=[f,f],d[0]=h[0],d[1]=h[1],h):(e=a.item,c.seq([function(a){return d[7]=e.projectName,d[8]=e.maxClientTokenPoolSize,c.sp(b("LSGetCurrentTokenPoolState"),d[7]).then(function(a){return a=a,d[3]=a[0],d[4]=a[1],a})},function(a){return c.i64.eq(d[3],c.i64.cast([0,0]))||c.i64.eq(d[3],c.i64.cast([0,1]))?c.resolve((d[9]=new c.Map(),d[9].set("project_name",d[7]),d[10]=c.toJSON(d[9]),a=[d[10],c.i64.cast([0,351])],d[5]=a[0],d[6]=a[1],a)):c.seq([function(a){return d[9]=c.i64.of_float(Date.now()),c.islc(c.sb(c.ftr(c.db.table(307).fetch(),function(a){return a.projectName===d[7]&&c.i64.gt(a.expirationTimestampMs,d[9])}),[["expirationTimestampMs","DESC"]]),0,c.i64.to_float(c.i64.cast([0,1]))).next().then(function(e,i){var a=e.done;e=e.value;return a?(function(a){c.logger(a).mustfix(a)}("A config for the passed project name was not found"),d[13]=new c.Map(),d[13].set("project_name",d[7]),d[13].set("max_client_token_pool_size",d[8]),d[14]=c.toJSON(d[13]),a=[d[14],c.i64.cast([0,362])],d[10]=a[0],d[11]=a[1],a):(i=e.item,c.seq([function(a){return d[20]=i.configId,d[13]=i.maxEvals,d[22]=i.tokenPollFrequencyMs,d[21]=i.maxClientTokenPoolSize,d[14]=c.i64.sub(d[8],d[4]),d[19]=c.i64.lt(d[13],d[14])?d[13]:d[14],d[15]=c.createArray(),c.i64.gt(d[19],c.i64.cast([0,0]))?c.loopAsync(d[19],function(a){return d[23]=a,c.seq([function(a){return c.nop(b("LSVoprfCreateNonce.nop")).then(function(a){return a=a,d[24]=a[0],a})},function(a){return c.blobs.neq(d[24],f)?c.seq([function(a){return c.nop(b("LSVoprfBlind.nop"),d[24]).then(function(a){return a=a,d[25]=a[0],d[26]=a[1],a})},function(a){return c.blobs.neq(d[25],f)?c.blobs.neq(d[26],f)?c.seq([function(a){return d[27]=c.i64.cast([-1,4294967295]),c.db.table(308).peekNextAutoIncrementId().then(function(a){return d[27]=a})},function(a){return c.db.table(308).add({tokenId:void 0,blindedNonce:d[25],blindingFactor:d[26],nonce:d[24],configId:d[20]})},function(a){return c.db.table(308).fetch([[[d[27]]]]).next().then(function(b,e){var a=b.done;b=b.value;return a?d[28]=c.i64.cast([-1,4294967295]):(e=b.item,d[28]=e.tokenId)})},function(a){return c.i64.eq(d[28],c.i64.cast([-1,4294967295]))?c.seq([function(a){return c.islc(c.db.table(308).fetchDesc([[[{gt:c.i64.cast([0,0])}]]]),0,c.i64.to_float(c.i64.cast([0,1]))).next().then(function(b,e){var a=b.done;b=b.value;return a?d[33]=c.i64.cast([-1,4294967295]):(e=b.item,d[33]=e.tokenId)})},function(a){return d[30]=d[33]}]):c.resolve(d[30]=d[28])},function(a){return c.nop(b("LSBase64Encode.nop"),d[25]).then(function(a){return a=a,d[31]=a[0],a})},function(a){return d[32]=new c.Map(),d[32].set("id",d[30]),d[32].set("data",d[31]==null?"":d[31]),d[33]=(d[15].push(d[32]),d[15])}]):c.resolve():c.resolve()}]):c.resolve()}])}):c.resolve()},function(a){return d[16]=c.i64.of_int32(d[15].length),c.i64.gt(d[16],c.i64.cast([0,0]))?c.resolve((d[23]=new c.Map(),d[23].set("project_name",d[7]),d[23].set("config_id",d[20]),d[23].set("blinded_nonces",d[15]),d[24]=c.toJSON(d[23]),a=[d[24],c.i64.cast([0,354])],d[17]=a[0],d[18]=a[1],a)):c.seq([function(a){return c.i64.neq(d[22],f)?c.seq([function(a){return c.i64.neq(d[21],f)?c.seq([function(a){return function(a){c.logger(a).info(a)}(["Already have the max number of tokens. Scheduling next ACS token sync locally for project: ",d[7]].join("")),c.sp(b("LSIssueNextSync"),d[21],d[7],d[22],!1)},function(a){return a=[f,f],d[25]=a[0],d[26]=a[1],a}]):c.resolve((function(a){c.logger(a).info(a)}(["token_poll_frequency is nonnull but max_client_token_pool_size is null. Already have the max number of tokens. Scheduling the next ACS token sync for project: ",d[7]].join("")),d[27]=new c.Map(),d[27].set("project_name",d[7]),d[27].set("max_client_token_pool_size",d[8]),d[28]=c.toJSON(d[27]),a=[d[28],c.i64.cast([0,362])],d[25]=a[0],d[26]=a[1],a))},function(a){return a=[d[25],d[26]],d[23]=a[0],d[24]=a[1],a}]):c.resolve((function(a){c.logger(a).info(a)}(["Already have the max number of tokens. Scheduling the next ACS token sync for project: ",d[7]].join("")),d[25]=new c.Map(),d[25].set("project_name",d[7]),d[25].set("max_client_token_pool_size",d[8]),d[26]=c.toJSON(d[25]),a=[d[26],c.i64.cast([0,362])],d[23]=a[0],d[24]=a[1],a))},function(a){return a=[d[23],d[24]],d[17]=a[0],d[18]=a[1],a}])},function(a){return a=[d[17],d[18]],d[10]=a[0],d[11]=a[1],a}]))})},function(a){return a=[d[10],d[11]],d[5]=a[0],d[6]=a[1],a}])},function(a){return a=[d[5],d[6]],d[0]=a[0],d[1]=a[1],a}]))})},function(a){return a=[d[0],d[1]],e[0]=a[0],e[1]=a[1],a}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSTaskSerializerUnauthenticatedTask",[],(function(a,b,c,d,e,f){function a(){var a,b=arguments,c=b[b.length-1];c.n;var d=[],e;return a=[e,e],d[0]=a[0],d[1]=a[1],a,c.resolve(d)}b=a;f["default"]=b}),66);
__d("LSTaskSerializerE2eeMessageIntegrityCheckV2",[],(function(a,b,c,d,e,f){function a(){var a,b=arguments,c=b[b.length-1];c.n;var d=[],e;return a=[e,c.i64.cast([0,705])],d[0]=a[0],d[1]=a[1],a,c.resolve(d)}b=a;f["default"]=b}),66);
__d("LSTaskSerializerE2eeMetadataThreadIntegrityCheck",[],(function(a,b,c,d,e,f){function a(){var a,b=arguments,c=b[b.length-1];c.n;var d=[],e;return a=[e,c.i64.cast([0,700])],d[0]=a[0],d[1]=a[1],a,c.resolve(d)}b=a;f["default"]=b}),66);
__d("LSTaskSerializerEncryptedBackupAction",[],(function(a,b,c,d,e,f){function a(){var a,b=arguments,c=b[b.length-1];c.n;var d=[],e;return a=[e,c.i64.cast([0,319])],d[0]=a[0],d[1]=a[1],a,c.resolve(d)}b=a;f["default"]=b}),66);
__d("LSTaskSerializerEncryptedBackupsLoopingUpload",["LSLogMebClientEvent.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(a){return c.seq([function(a){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][taskSerializerEncryptedBackupsLoopingUpload] Beginning execution."),d[1]=c.i64.of_float(Date.now()),function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][LSEncryptedBackupsTaskSerializerEncryptedBackupsLoopingUploadStoredProcedure] LSEncryptedBackupsLoopingUploadPayloadsTable table not found"),d[2]=c.createArray(),f!==f?d[10]=(d[2].push(f),d[2]):0,c.nop(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsTaskSerializerEncryptedBackupsLoopingUploadStoredProcedure","LSEncryptedBackupsLoopingUploadPayloadsTable table not found",d[2],c.i64.cast([0,3]))},function(a){return d[3]=c.i64.of_float(Date.now()),d[5]="Finishing execution. Execution time: ",d[6]=c.i64.to_string(c.i64.sub(d[3],d[0])),d[8]=" ms",d[4]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][taskSerializerEncryptedBackupsLoopingUpload] ",d[4],d[5],d[4],d[6],d[4],d[8]].join("")),d[7]=",",d[9]=c.createArray(),f!==f?d[10]=(d[9].push(f),d[9]):0,c.nop(b("LSLogMebClientEvent.nop"),"taskSerializerEncryptedBackupsLoopingUpload",[d[5],d[7],d[6],d[7],d[8]].join(""),d[9],c.i64.cast([0,4]))},function(a){return a=['{"request_id":"unknown","upload_type":"FBN","payload":{"error_code":2,"operation":"","error_message":"","__typename":"MPSUploadFailurePayload"}}',c.i64.cast([0,50043])],e[0]=a[0],e[1]=a[1],a}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSGetOpenEpochKeys",["LSAppendDataTraceAddon","LSArrayGetObjectAt","LSCreateDataTrace","LSCreateDataTraceID.nop","LSDeleteBackupOnClient","LSIsMobileClient","LSLogMebClientEvent.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(g){return c.seq([function(a){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsGetOpenEpochKeysStoredProcedure] Beginning execution."),c.islc(c.ftr(c.db.table(168).fetch(),function(a){return c.i64.eq(a.authorityLevel,c.i64.cast([0,80]))&&c.i64.eq(a.backupTenancy,c.i64.cast([0,2]))}),0,c.i64.to_float(c.i64.cast([0,1]))).next().then(function(a,b){b=a.done;a=a.value;return b?d[1]=!1:(a.item,d[1]=!0)})},function(a){return d[1]?d[3]=c.i64.or_(c.i64.cast([0,90]),c.i64.cast([0,128])):d[3]=c.i64.cast([0,90]),c.nop(b("LSCreateDataTraceID.nop")).then(function(a){return a=a,d[4]=a[0],a})},function(a){return d[5]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][MEBTraceUtils] ",d[5],"EncryptedBackups MCD Trace ID",d[5],c.i64.to_string(d[3])].join("")),c.sp(b("LSCreateDataTrace"),d[4],f,f,"get_open_epoch_keys",d[3])},function(a){return c.sp(b("LSIsMobileClient")).then(function(a){return a=a,d[6]=a[0],a})},function(a){return d[6]?d[7]=!0:d[7]=!1,d[7]?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[27]=c.createArray(),f!==f?d[28]=(d[27].push(f),d[27]):0,c.nop(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",d[27],c.i64.cast([0,3]))):c.resolve()},function(e){return a[0]?d[8]="OPTIMISTIC":d[8]="AUTHORITATIVE",d[9]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][LSEncryptedBackupsGetOpenEpochKeysStoredProcedure] ",d[9],"Querying latest epoch keys with authority level: ",d[9],d[8]].join("")),a[0]?d[10]="OPTIMISTIC":d[10]="AUTHORITATIVE",d[4]!==f?c.sp(b("LSAppendDataTraceAddon"),d[4],c.i64.cast([0,2842]),c.i64.cast([0,2]),f,d[10]):c.resolve()},function(a){return c.sp(b("LSIsMobileClient")).then(function(a){return a=a,d[11]=a[0],a})},function(a){return d[11]?d[12]=!0:d[12]=!1,d[12]?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[27]=c.createArray(),f!==f?d[28]=(d[27].push(f),d[27]):0,c.nop(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",d[27],c.i64.cast([0,3]))):c.resolve()},function(a){return d[4]!==f?c.sp(b("LSAppendDataTraceAddon"),d[4],c.i64.cast([0,2844]),c.i64.cast([0,2]),f,f):c.resolve()},function(a){return c.sp(b("LSIsMobileClient")).then(function(a){return a=a,d[13]=a[0],a})},function(a){return d[13]?d[14]=!0:d[14]=!1,d[14]?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[27]=c.createArray(),f!==f?d[28]=(d[27].push(f),d[27]):0,c.nop(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",d[27],c.i64.cast([0,3]))):c.resolve()},function(b){return d[15]=c.createArray(),c.fe(c.ftr(c.db.table(169).fetch(),function(b){return a[0]||c.i64.eq(b.authorityLevel,c.i64.cast([0,80]))}),function(a){a=a.item;return d[27]=(d[15].push(c.blobs.to_string(a.epochAnonIdBlob)),d[15])})},function(a){return d[16]=c.i64.of_int32(d[15].length),c.i64.gt(d[16],c.i64.cast([0,0]))?c.seq([function(a){return d[27]=c.i64.of_int32(d[15].length),d[4]!==f?c.sp(b("LSAppendDataTraceAddon"),d[4],c.i64.cast([0,2845]),c.i64.cast([0,2]),f,c.i64.to_string(d[27])):c.resolve()},function(a){return c.sp(b("LSIsMobileClient")).then(function(a){return a=a,d[28]=a[0],a})},function(a){return d[28]?d[29]=!0:d[29]=!1,d[29]?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[34]=c.createArray(),f!==f?d[35]=(d[34].push(f),d[34]):0,c.nop(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",d[34],c.i64.cast([0,3]))):c.resolve()},function(a){return c.ntop("Array",b("LSArrayGetObjectAt"),d[15],c.i64.cast([0,0])).then(function(a){return a=a,d[30]=a[0],d[31]=a[1],a})},function(a){return d[32]=d[30],d[33]=c.i64.of_int32(d[15].length),c.i64.gt(d[33],c.i64.cast([0,0]))?c.loopAsync(d[33],function(a){return d[34]=a,c.seq([function(a){return c.ntop("Array",b("LSArrayGetObjectAt"),d[15],d[34]).then(function(a){return a=a,d[35]=a[0],d[36]=a[1],a})},function(a){return c.i64.eq([0,d[32].length],[0,d[35].length])?(d[32]===d[35]?d[38]=d[32]:(d[32]>d[35]?d[39]=d[32]:d[39]=d[35],d[38]=d[39]),d[37]=d[38]):(c.i64.gt([0,d[32].length],[0,d[35].length])?d[38]=d[32]:d[38]=d[35],d[37]=d[38]),d[32]=d[37]}])}):c.resolve()},function(a){return d[17]=d[32]}]):c.seq([function(a){return function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][LSEncryptedBackupsGetOpenEpochKeysStoredProcedure] Epoch anon ID list is empty."),d[27]=c.createArray(),f!==f?d[30]=(d[27].push(f),d[27]):0,c.nop(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsGetOpenEpochKeysStoredProcedure","Epoch anon ID list is empty.",d[27],c.i64.cast([0,3]))},function(a){return d[4]!==f?c.sp(b("LSAppendDataTraceAddon"),d[4],c.i64.cast([0,2846]),c.i64.cast([0,2]),f,f):c.resolve()},function(a){return c.sp(b("LSIsMobileClient")).then(function(a){return a=a,d[28]=a[0],a})},function(a){return d[28]?d[29]=!0:d[29]=!1,d[29]?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[30]=c.createArray(),f!==f?d[31]=(d[30].push(f),d[30]):0,c.nop(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",d[30],c.i64.cast([0,3]))):c.resolve()},function(a){return d[17]=f}])},function(a){return d[17]!==f?c.seq([function(a){return d[4]!==f?c.sp(b("LSAppendDataTraceAddon"),d[4],c.i64.cast([0,2863]),c.i64.cast([0,2]),f,d[17]):c.resolve()},function(a){return c.sp(b("LSIsMobileClient")).then(function(a){return a=a,d[27]=a[0],a})},function(a){return d[27]?d[28]=!0:d[28]=!1,d[28]?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[29]=c.createArray(),f!==f?d[30]=(d[29].push(f),d[29]):0,c.nop(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",d[29],c.i64.cast([0,3]))):c.resolve()}]):c.seq([function(a){return d[4]!==f?c.sp(b("LSAppendDataTraceAddon"),d[4],c.i64.cast([0,2864]),c.i64.cast([0,2]),f,f):c.resolve()},function(a){return c.sp(b("LSIsMobileClient")).then(function(a){return a=a,d[27]=a[0],a})},function(a){return d[27]?d[28]=!0:d[28]=!1,d[28]?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[29]=c.createArray(),f!==f?d[30]=(d[29].push(f),d[29]):0,c.nop(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",d[29],c.i64.cast([0,3]))):c.resolve()}])},function(a){return d[26]=c.blobs.of_string(d[17]),c.blobs.neq(d[26],f)?c.seq([function(a){return d[4]!==f?c.sp(b("LSAppendDataTraceAddon"),d[4],c.i64.cast([0,2847]),c.i64.cast([0,2]),f,f):c.resolve()},function(a){return c.sp(b("LSIsMobileClient")).then(function(a){return a=a,d[27]=a[0],a})},function(a){return d[27]?d[28]=!0:d[28]=!1,d[28]?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[31]=c.createArray(),f!==f?d[32]=(d[31].push(f),d[31]):0,c.nop(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",d[31],c.i64.cast([0,3]))):c.resolve()},function(a){return c.ftr(c.db.table(169).fetch(),function(a){return c.blobs.eq(a.epochAnonIdBlob,d[26])}).next().then(function(a,e){var h=a.done;a=a.value;return h?c.seq([function(a){return function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][LSEncryptedBackupsGetOpenEpochKeysStoredProcedure] Found a most recent epoch anon ID, but unable to locate it again in the table. This can really only happen if the tablesomehow changed in the middle of our transaction."),d[31]=c.createArray(),f!==f?d[34]=(d[31].push(f),d[31]):0,c.nop(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsGetOpenEpochKeysStoredProcedure","Found a most recent epoch anon ID, but unable to locate it again in the table. This can really only happen if the tablesomehow changed in the middle of our transaction.",d[31],c.i64.cast([0,3]))},function(a){return d[4]!==f?c.sp(b("LSAppendDataTraceAddon"),d[4],c.i64.cast([0,2848]),c.i64.cast([0,2]),f,f):c.resolve()},function(a){return c.sp(b("LSIsMobileClient")).then(function(a){return a=a,d[32]=a[0],a})},function(a){return d[32]?d[33]=!0:d[33]=!1,d[33]?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[34]=c.createArray(),f!==f?d[35]=(d[34].push(f),d[34]):0,c.nop(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",d[34],c.i64.cast([0,3]))):c.resolve()},function(a){return d[29]=f}]):(e=a.item,d[33]=e.epochAnonIdBlob,d[31]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][LSEncryptedBackupsGetOpenEpochKeysStoredProcedure] ",d[31],"Using latest epoch: ",d[31],c.blobs.to_string(d[33])].join("")),d[32]=new c.Map(),d[32].set("epoch_id",e.epochId),d[32].set("epoch_root_key",e.epochRootKeyBlob),d[32].set("epoch_anon_id",d[33]),d[29]=d[32])})},function(a){return d[18]=d[29]}]):c.seq([function(a){return function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][LSEncryptedBackupsGetOpenEpochKeysStoredProcedure] No epochs whatsoever on client! This should absolutely never happen. Deleting backup from client."),d[27]=c.createArray(),f!==f?d[30]=(d[27].push(f),d[27]):0,c.nop(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsGetOpenEpochKeysStoredProcedure","No epochs whatsoever on client! This should absolutely never happen. Deleting backup from client.",d[27],c.i64.cast([0,3]))},function(a){return d[4]!==f?c.sp(b("LSAppendDataTraceAddon"),d[4],c.i64.cast([0,2843]),c.i64.cast([0,2]),f,f):c.resolve()},function(a){return c.sp(b("LSIsMobileClient")).then(function(a){return a=a,d[28]=a[0],a})},function(a){return d[28]?d[29]=!0:d[29]=!1,d[29]?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[30]=c.createArray(),f!==f?d[31]=(d[30].push(f),d[30]):0,c.nop(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",d[30],c.i64.cast([0,3]))):c.resolve()},function(a){return c.sp(b("LSDeleteBackupOnClient"),f,"get_open_epoch_keys",!0,d[4],"Attempted to fetch epoch keys when there are no epochs on the client.",!1)},function(a){return d[18]=f}])},function(a){return d[19]=c.i64.of_float(Date.now()),d[21]="Finishing execution. Execution time: ",d[22]=c.i64.to_string(c.i64.sub(d[19],d[0])),d[24]=" ms",d[20]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][LSEncryptedBackupsGetOpenEpochKeysStoredProcedure] ",d[20],d[21],d[20],d[22],d[20],d[24]].join("")),d[23]=",",d[25]=c.createArray(),f!==f?d[27]=(d[25].push(f),d[25]):0,c.nop(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsGetOpenEpochKeysStoredProcedure",[d[21],d[23],d[22],d[23],d[24]].join(""),d[25],c.i64.cast([0,4]))},function(a){return e[0]=d[18]}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSTaskSerializerEncryptedBackupsRestoreWithSerializer",["LSAppendDataTraceAddon","LSBase64Encode.nop","LSGetOpenEpochKeys","LSIsMobileClient","LSLogMebClientEvent.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(g){return c.seq([function(a){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsTaskSerializerEncryptedBackupsRestoreWithSerializerStoredProcedure] Beginning execution."),function(a){c.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsTaskSerializerEncryptedBackupsRestoreWithSerializerStoredProcedure] Fetching locally available epochs on client from epochs table"),d[1]=c.createArray(),c.fe(c.ftr(c.db.table(169).fetch(),function(a){return c.i64.eq(a.authorityLevel,c.i64.cast([0,80]))}),function(a){a=a.item;return d[14]=(d[1].push(a.epochId),d[1])})},function(e){return d[2]=c.i64.of_int32(d[1].length),d[3]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][MEBEpochClientUtils] ",d[3],"Queried locally available epochs. Count: ",d[3],c.i64.to_string(d[2])].join("")),c.db.table(168).fetch().next().then(function(e,h){var i=e.done;e=e.value;return i?(i=[f,f],d[4]=i[0],d[5]=i[1],i):(h=e.item,c.seq([function(e){return d[16]=h.deviceId,c.i64.neq(d[16],f)?c.seq([function(e){return c.db.table(190).fetch([[[a[0]]]]).next().then(function(e,j){var a=e.done;e=e.value;return a?c.seq([function(a){return function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][LSEncryptedBackupsTaskSerializerEncryptedBackupsRestoreWithSerializerStoredProcedure] No restore payload context found."),d[20]=c.createArray(),f!==f?d[21]=(d[20].push(f),d[20]):0,c.nop(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsTaskSerializerEncryptedBackupsRestoreWithSerializerStoredProcedure","No restore payload context found.",d[20],c.i64.cast([0,3]))},function(a){return a=[f,f],d[17]=a[0],d[18]=a[1],a}]):(j=e.item,c.seq([function(a){return d[30]=j.traceId,d[30]!==f?c.sp(b("LSAppendDataTraceAddon"),d[30],c.i64.cast([0,3603]),c.i64.cast([0,2]),f,f):c.resolve()},function(a){return c.sp(b("LSIsMobileClient")).then(function(a){return a=a,d[20]=a[0],a})},function(a){return d[20]?d[21]=!0:d[21]=!1,d[21]?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[31]=c.createArray(),f!==f?d[32]=(d[31].push(f),d[31]):0,c.nop(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",d[31],c.i64.cast([0,3]))):c.resolve()},function(a){return d[22]=new c.Map(),d[22].set("server_thread_key",j.serverThreadKey),d[22].set("otid",j.messageId),d[22].set("timestamp",j.unencryptedSortKey),d[22].set("wa_thread_id",j.waThreadId),c.nop(b("LSBase64Encode.nop"),h.ocmfClientStateBlob).then(function(a){return a=a,d[23]=a[0],a})},function(a){return c.nop(b("LSBase64Encode.nop"),h.mailboxRootKeyBlob).then(function(a){return a=a,d[24]=a[0],a})},function(a){return d[25]=new c.Map(),d[25].set("ocmf_client_state_blob",d[23]==null?"":d[23]),d[25].set("mailbox_root_key",d[24]==null?"":d[24]),c.sp(b("LSGetOpenEpochKeys"),!1).then(function(a){return a=a,d[26]=a[0],a})},function(a){return d[26]!==f?(d[31]=d[26].get("epoch_id"),d[26],d[27]=d[31]):d[27]=f,d[28]=new c.Map(),d[28].set("content_type",j.contentType),d[28].set("device_id",d[16]),d[28].set("epoch_id",d[27]),d[28].set("list_id",j.listId),d[28].set("num_items",j.numItems),d[28].set("start_sort_key",j.startSortKey),d[28].set("mailbox_partial_id",j.mailboxPartialId),d[28].set("trace_id",d[30]),d[28].set("message_partial_id",j.messagePartialId),d[28].set("newer_num_items",j.newerNumItems),d[28].set("locally_available_epochs",d[1]),d[28].set("raw_identifiers",d[22]),d[28].set("raw_tokens",d[25]),d[29]=c.toJSON(d[28]),a=[d[29],c.i64.cast([0,50015])],d[17]=a[0],d[18]=a[1],a}]))})},function(a){return a=[d[17],d[18]],d[14]=a[0],d[15]=a[1],a}]):c.seq([function(a){return function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][LSEncryptedBackupsTaskSerializerEncryptedBackupsRestoreWithSerializerStoredProcedure] Unexpected error: Device ID is null."),d[17]=c.createArray(),f!==f?d[18]=(d[17].push(f),d[17]):0,c.nop(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsTaskSerializerEncryptedBackupsRestoreWithSerializerStoredProcedure","Unexpected error: Device ID is null.",d[17],c.i64.cast([0,3]))},function(a){return a=[f,f],d[14]=a[0],d[15]=a[1],a}])},function(a){return a=[d[14],d[15]],d[4]=a[0],d[5]=a[1],a}]))})},function(a){return d[7]=c.i64.of_float(Date.now()),d[9]="Finishing execution. Execution time: ",d[10]=c.i64.to_string(c.i64.sub(d[7],d[0])),d[12]=" ms",d[8]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][LSEncryptedBackupsTaskSerializerEncryptedBackupsRestoreWithSerializerStoredProcedure] ",d[8],d[9],d[8],d[10],d[8],d[12]].join("")),d[11]=",",d[13]=c.createArray(),f!==f?d[14]=(d[13].push(f),d[13]):0,c.nop(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsTaskSerializerEncryptedBackupsRestoreWithSerializerStoredProcedure",[d[9],d[11],d[10],d[11],d[12]].join(""),d[13],c.i64.cast([0,4]))},function(a){return a=[d[4],d[5]],e[0]=a[0],e[1]=a[1],a}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSEncryptIdentifiers",["LSBase64Encode.nop","LSBinaryToHex.nop","LSGetBlobFromInt64BE.nop","LSGetBlobFromString.nop","LSHmac_v2.nop","LSLogMebClientEvent.nop","LSOcmfClientMap.nop","LSOpeEncrypt.nop","LSTruncateSortKey.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(g){return c.seq([function(e){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][encryptIdentifiers] Beginning execution."),d[1]=c.i64.of_float(Date.now()),d[2]=a[2].get("backup_id"),a[2],d[3]=a[3].get("ocmf_shared_key"),a[3],c.nop(b("LSGetBlobFromString.nop"),d[2]).then(function(a){return a=a,d[4]=a[0],a})},function(a){return c.nop(b("LSHmac_v2.nop"),c.blob("bWFpbGJveF9pZF9zY29wZQ=="),d[4]).then(function(a){return a=a,d[5]=a[0],a})},function(a){return c.nop(b("LSOcmfClientMap.nop"),d[3],d[5]).then(function(a){return a=a,d[6]=a[0],a})},function(a){return c.nop(b("LSBase64Encode.nop"),d[6]).then(function(a){return a=a,d[7]=a[0],a})},function(e){return c.i64.eq(a[0],c.i64.cast([0,2]))&&c.i64.eq(a[1],c.i64.cast([0,2]))?(d[34]=a[2].get("otid"),a[2],d[8]=d[34]):(d[34]=a[2].get("act_thread_id"),a[2],d[8]=d[34]),d[9]=a[3].get("ocmf_shared_key"),a[3],c.nop(b("LSGetBlobFromString.nop"),d[8]).then(function(a){return a=a,d[10]=a[0],a})},function(a){return c.nop(b("LSHmac_v2.nop"),c.blob("dGhyZWFkX2lkX3Njb3Bl"),d[10]).then(function(a){return a=a,d[11]=a[0],a})},function(a){return c.nop(b("LSOcmfClientMap.nop"),d[9],d[11]).then(function(a){return a=a,d[12]=a[0],a})},function(a){return c.nop(b("LSBase64Encode.nop"),d[12]).then(function(a){return a=a,d[13]=a[0],a})},function(e){return d[14]=a[3].get("ope_key"),a[3],d[15]=a[2].get("timestamp"),a[2],c.nop(b("LSGetBlobFromInt64BE.nop"),c.i64.from_string(d[15])).then(function(a){return a=a,d[16]=a[0],a})},function(a){return c.nop(b("LSTruncateSortKey.nop"),d[16]).then(function(a){return a=a,d[17]=a[0],a})},function(a){return c.nop(b("LSOpeEncrypt.nop"),d[14],d[17],c.i64.cast([0,16])).then(function(a){return a=a,d[18]=a[0],a})},function(a){return c.nop(b("LSBinaryToHex.nop"),d[18]).then(function(a){return a=a,d[19]=a[0],a})},function(e){return d[20]=a[2].get("otid"),a[2],d[21]=a[3].get("ocmf_shared_key"),a[3],c.nop(b("LSGetBlobFromString.nop"),d[20]).then(function(a){return a=a,d[22]=a[0],a})},function(a){return c.nop(b("LSHmac_v2.nop"),c.blob("bWVzc2FnZV9pZF9zY29wZQ=="),d[22]).then(function(a){return a=a,d[23]=a[0],a})},function(a){return c.nop(b("LSOcmfClientMap.nop"),d[21],d[23]).then(function(a){return a=a,d[24]=a[0],a})},function(a){return c.nop(b("LSBase64Encode.nop"),d[24]).then(function(a){return a=a,d[25]=a[0],a})},function(a){return d[26]=new c.Map(),d[26].set("backup_id_ocmf_partial",d[7]==null?"":d[7]),d[26].set("act_thread_id_ocmf_partial",d[13]==null?"":d[13]),d[26].set("timestamp_encrypted",d[19]==null?"":d[19]),d[26].set("otid_ocmf_partial",d[25]==null?"":d[25]),d[27]=c.i64.of_float(Date.now()),d[29]="Finishing execution. Execution time: ",d[30]=c.i64.to_string(c.i64.sub(d[27],d[0])),d[32]=" ms",d[28]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][encryptIdentifiers] ",d[28],d[29],d[28],d[30],d[28],d[32]].join("")),d[31]=",",d[33]=c.createArray(),f!==f?d[34]=(d[33].push(f),d[33]):0,c.nop(b("LSLogMebClientEvent.nop"),"encryptIdentifiers",[d[29],d[31],d[30],d[31],d[32]].join(""),d[33],c.i64.cast([0,4]))},function(a){return a=[d[26],f],e[0]=a[0],e[1]=a[1],a}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("Base64Utils",["base64Binary"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return d("base64Binary").encode(new TextEncoder().encode(a))}function b(a){return d("base64Binary").encode(new Uint8Array(a))}function c(a){return d("base64Binary").decode(a).buffer}g.encodeUnicode=a;g.fromArrayBuffer=b;g.toArrayBuffer=c}),98);
__d("LSSymmetricEncryptionCreateEncryptedData.bs",["CryptoLogger","EncryptedBackupsSymmetricEncryptionUtils","HChaCha20","Promise","RetUtil","SymmetricEncryptionPaddingUtils","globalCryptoSubtle"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,e,f,g,i){var j=d("CryptoLogger").CryptoLogger("symmetric_encryption_create_encrypted_data"),k=d("SymmetricEncryptionPaddingUtils").padData(i),l=window.crypto.getRandomValues(new Uint8Array(d("EncryptedBackupsSymmetricEncryptionUtils").totalNonceLengthInBytes));a=new(d("HChaCha20").HChaCha20)();e=a.hChaCha20Bytes(l.slice(0,d("EncryptedBackupsSymmetricEncryptionUtils").hChaCha20SubKeyNonceLengthInBytes).buffer,f);return c("globalCryptoSubtle").importKey("raw",e,"AES-GCM",!1,["encrypt"]).then(function(a){return c("globalCryptoSubtle").encrypt({additionalData:g,iv:new Uint8Array(l.slice(d("EncryptedBackupsSymmetricEncryptionUtils").hChaCha20SubKeyNonceLengthInBytes).buffer),name:"AES-GCM",tagLength:d("EncryptedBackupsSymmetricEncryptionUtils").aesGcmTagLength},a,k)}).then(function(a){var c=l.byteLength+a.byteLength|0;c=new Uint8Array(c);c.set(l);c.set(new Uint8Array(a),d("EncryptedBackupsSymmetricEncryptionUtils").totalNonceLengthInBytes);return(h||(h=b("Promise"))).resolve(d("RetUtil").getNullableRetResult(c.buffer))})["catch"](function(a){d("CryptoLogger").captureError(j,a).mustfix("symmetric data encryption failed");return(h||(h=b("Promise"))).resolve(d("RetUtil").getNullableRetResult())})}g.call=a}),98);
__d("LSSymmetricEncryptionCreateEncryptedString.bs",["Base64Utils","CryptoLogger","LSCryptoUtils","LSSymmetricEncryptionCreateEncryptedData.bs","Promise","RetUtil"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,c,e,f,g){var i=d("CryptoLogger").CryptoLogger("symmetric_encryption_create_encrypted_string");return d("LSSymmetricEncryptionCreateEncryptedData.bs").call(a,c,e,f,d("LSCryptoUtils").strToBuf(g)).then(function(a){return a[0]}).then(function(a){return(h||(h=b("Promise"))).resolve(d("RetUtil").getNullableRetResult(a?d("Base64Utils").fromArrayBuffer(a):void 0))})["catch"](function(a){d("CryptoLogger").captureError(i,a).mustfix("symmetric string encryption failed");return(h||(h=b("Promise"))).resolve(d("RetUtil").getNullableRetResult())})}g.call=a}),98);
__d("LSSymmetricEncryptionCreateEncryptedString.nop",["LSSymmetricEncryptionCreateEncryptedString.bs"],(function(a,b,c,d,e,f,g){"use strict";a=function(a,b,c,e,f){return d("LSSymmetricEncryptionCreateEncryptedString.bs").call(a,b,c,e,f)};g["default"]=a}),98);
__d("LSEncryptMessagePayload",["LSArrayGetObjectAt","LSBase64Encode.nop","LSCreateDerivedKeys.nop","LSGetBlobFromString.nop","LSLogMebClientEvent.nop","LSSymmetricEncryptionCreateEncryptedString.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(g){return c.seq([function(e){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][encryptMessagePayload] Beginning execution."),d[1]=c.i64.of_float(Date.now()),d[2]=a[1].get("message_payload_encryption_keys"),a[1],d[3]=d[2].get("payload_key"),d[2],d[4]=a[0].get("act_thread_id"),a[0],c.nop(b("LSSymmetricEncryptionCreateEncryptedString.nop"),d[3],c.blobs.of_string(["message_thread","_",d[4]].join("")),a[2]).then(function(a){return a=a,d[5]=a[0],a})},function(e){return d[5]!==f?c.seq([function(e){return d[15]=d[2].get("encryption_version"),d[2],d[16]=d[2].get("epoch_anon_id"),d[2],d[17]=d[2].get("epoch_root_key"),d[2],d[18]=a[0].get("act_thread_id"),a[0],d[19]=d[2].get("payload_key"),d[2],d[20]=a[0].get("backup_id"),a[0],d[21]=d[2].get("payload_fallback_key"),d[2],d[22]=c.createArray(),d[52]=(d[22].push(c.i64.cast([0,6])),d[22]),c.nop(b("LSGetBlobFromString.nop"),"epoch_anon_id_debug").then(function(a){return a=a,d[23]=a[0],a})},function(a){return c.nop(b("LSCreateDerivedKeys.nop"),d[23],f,d[16],d[22]).then(function(a){return a=a,d[24]=a[0],a})},function(a){return d[24]?d[25]=!1:d[25]=!0,d[25]?c.resolve(d[26]=""):c.seq([function(a){return c.ntop("Array",b("LSArrayGetObjectAt"),d[24],c.i64.cast([0,0])).then(function(a){return a=a,d[52]=a[0],d[53]=a[1],a})},function(a){return c.nop(b("LSBase64Encode.nop"),d[52]).then(function(a){return a=a,d[54]=a[0],a})},function(a){return d[26]=d[54]==null?"":d[54]}])},function(a){return d[27]=c.createArray(),d[52]=(d[27].push(c.i64.cast([0,6])),d[27]),c.nop(b("LSGetBlobFromString.nop"),"epoch_root_key_debug").then(function(a){return a=a,d[28]=a[0],a})},function(a){return c.nop(b("LSCreateDerivedKeys.nop"),d[28],f,d[17],d[27]).then(function(a){return a=a,d[29]=a[0],a})},function(a){return d[29]?d[30]=!1:d[30]=!0,d[30]?c.resolve(d[31]=""):c.seq([function(a){return c.ntop("Array",b("LSArrayGetObjectAt"),d[29],c.i64.cast([0,0])).then(function(a){return a=a,d[52]=a[0],d[53]=a[1],a})},function(a){return c.nop(b("LSBase64Encode.nop"),d[52]).then(function(a){return a=a,d[54]=a[0],a})},function(a){return d[31]=d[54]==null?"":d[54]}])},function(a){return d[32]=c.createArray(),d[52]=(d[32].push(c.i64.cast([0,6])),d[32]),c.nop(b("LSGetBlobFromString.nop"),"message_key_debug").then(function(a){return a=a,d[33]=a[0],a})},function(a){return c.nop(b("LSCreateDerivedKeys.nop"),d[33],f,d[19],d[32]).then(function(a){return a=a,d[34]=a[0],a})},function(a){return d[34]?d[35]=!1:d[35]=!0,d[35]?c.resolve(d[36]=""):c.seq([function(a){return c.ntop("Array",b("LSArrayGetObjectAt"),d[34],c.i64.cast([0,0])).then(function(a){return a=a,d[52]=a[0],d[53]=a[1],a})},function(a){return c.nop(b("LSBase64Encode.nop"),d[52]).then(function(a){return a=a,d[54]=a[0],a})},function(a){return d[36]=d[54]==null?"":d[54]}])},function(a){return c.nop(b("LSBase64Encode.nop"),d[17]).then(function(a){return a=a,d[37]=a[0],a})},function(a){return c.nop(b("LSGetBlobFromString.nop"),[d[37]==null?"":d[37],d[18]].join("")).then(function(a){return a=a,d[38]=a[0],a})},function(a){return d[39]=c.createArray(),d[52]=(d[39].push(c.i64.cast([0,6])),d[39]),c.nop(b("LSGetBlobFromString.nop"),"epoch_root_key_thread_id_debug").then(function(a){return a=a,d[40]=a[0],a})},function(a){return c.nop(b("LSCreateDerivedKeys.nop"),d[40],f,d[38],d[39]).then(function(a){return a=a,d[41]=a[0],a})},function(a){return d[41]?d[42]=!1:d[42]=!0,d[42]?c.resolve(d[43]=""):c.seq([function(a){return c.ntop("Array",b("LSArrayGetObjectAt"),d[41],c.i64.cast([0,0])).then(function(a){return a=a,d[52]=a[0],d[53]=a[1],a})},function(a){return c.nop(b("LSBase64Encode.nop"),d[52]).then(function(a){return a=a,d[54]=a[0],a})},function(a){return d[43]=d[54]==null?"":d[54]}])},function(a){return d[44]=":",d[51]=[d[26],d[44],d[31],d[44],d[36],d[44],d[43]].join(""),c.blobs.neq(d[17],f)?c.seq([function(a){return d[52]=c.createArray(),d[58]=(d[52].push(c.i64.cast([0,18])),d[52]),c.nop(b("LSCreateDerivedKeys.nop"),c.blob("bWViL2RlYnVnL2ZpbmdlcnByaW50L01FQkVwb2NoUm9vdEtleQ=="),f,d[17],d[52]).then(function(a){return a=a,d[53]=a[0],a})},function(a){return d[53]!==f?c.seq([function(a){return d[58]=c.i64.of_int32(d[53].length),c.i64.ge(d[58],c.i64.cast([0,1]))?c.seq([function(a){return c.ntop("Array",b("LSArrayGetObjectAt"),d[53],c.i64.cast([0,0])).then(function(a){return a=a,d[60]=a[0],d[61]=a[1],a})},function(a){return d[59]=d[60]}]):c.seq([function(a){return function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBFingerprint] CreateDerivedKeys returned an empty list of keys. This should never happen; aborting dasm VM."),d[60]=c.createArray(),f!==f?d[61]=(d[60].push(f),d[60]):0,c.nop(b("LSLogMebClientEvent.nop"),"MEBFingerprint","CreateDerivedKeys returned an empty list of keys. This should never happen; aborting dasm VM.",d[60],c.i64.cast([0,3]))},function(a){return d[59]=f}])},function(a){return d[54]=d[59]}]):c.seq([function(a){return function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBFingerprint] CreateDerivedKeys returned null. This should never happen; aborting dasm VM."),d[58]=c.createArray(),f!==f?d[59]=(d[58].push(f),d[58]):0,c.nop(b("LSLogMebClientEvent.nop"),"MEBFingerprint","CreateDerivedKeys returned null. This should never happen; aborting dasm VM.",d[58],c.i64.cast([0,3]))},function(a){return d[54]=f}])},function(a){return c.blobs.neq(d[54],f)?d[55]=!0:d[55]=!1,d[55]?0:(function(a){c.logger(a).mustfix(a)}("LS::assert is failed. Attempting to coerce a null value to nonnull."),c["throw"]("LS::assert is failed. Attempting to coerce a null value to nonnull.")),c.nop(b("LSBase64Encode.nop"),d[54]).then(function(a){return a=a,d[56]=a[0],a})},function(a){return d[56]!==f?d[57]=d[56]:d[57]="encodingfailed",d[45]=d[57]}]):c.resolve(d[45]="null")},function(a){return c.nop(b("LSBase64Encode.nop"),d[16]).then(function(a){return a=a,d[46]=a[0],a})},function(a){return d[50]=d[46]==null?"":d[46],c.blobs.neq(d[21],f)?c.seq([function(a){return function(a){c.logger(a).info(a)}("[EncryptedBackups][MEBSerializationUtils] Including fallback encrypted epoch key in value_secret_ref."),c.nop(b("LSBase64Encode.nop"),d[17]).then(function(a){return a=a,d[52]=a[0],a})},function(a){return c.nop(b("LSSymmetricEncryptionCreateEncryptedString.nop"),d[21],c.blob("ZmFsbGJhY2tfZW5jcnlwdGVkX2Vwb2NoX2tleQ=="),d[52]==null?"":d[52]).then(function(a){return a=a,d[53]=a[0],a})},function(a){return d[53]!==f?d[54]=d[53]:d[54]="",d[55]=new c.Map(),d[55].set("encryption_version",d[15]),d[55].set("epoch_anon_id",d[50]),d[55].set("message_encryption_values",d[51]),d[55].set("fallback_encrypted_epoch_key",d[54]),d[55].set("root_key_fingerprint",d[45]),d[55].set("backup_id",d[20]),d[47]=d[55]}]):c.resolve((d[52]=new c.Map(),d[52].set("encryption_version",d[15]),d[52].set("epoch_anon_id",d[50]),d[52].set("message_encryption_values",d[51]),d[52].set("root_key_fingerprint",d[45]),d[52].set("backup_id",d[20]),d[47]=d[52]))},function(a){return d[48]=c.toJSON(d[47]),d[49]=new c.Map(),d[49].set("encrypted_message_payload",d[5]),d[49].set("value_secret_ref",d[48]),a=[d[49],f],d[6]=a[0],d[7]=a[1],a}]):c.resolve((d[15]=new c.Map(),d[15].set("error_code",c.i64.cast([0,40])),d[15].set("stored_procedure","LSEncryptedBackupsEncryptMessagePayloadStoredProcedure"),d[15].set("error_message",""),e=[f,d[15]],d[6]=e[0],d[7]=e[1],e))},function(a){return d[8]=c.i64.of_float(Date.now()),d[10]="Finishing execution. Execution time: ",d[11]=c.i64.to_string(c.i64.sub(d[8],d[0])),d[13]=" ms",d[9]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][encryptMessagePayload] ",d[9],d[10],d[9],d[11],d[9],d[13]].join("")),d[12]=",",d[14]=c.createArray(),f!==f?d[15]=(d[14].push(f),d[14]):0,c.nop(b("LSLogMebClientEvent.nop"),"encryptMessagePayload",[d[10],d[12],d[11],d[12],d[13]].join(""),d[14],c.i64.cast([0,4]))},function(a){return a=[d[6],d[7]],e[0]=a[0],e[1]=a[1],a}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSGetLatestEpochKeys",["LSLogMebClientEvent.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(g){return c.seq([function(b){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][getLatestEpochKeys] Beginning execution."),d[1]=c.i64.of_float(Date.now()),d[2]="",d[3]=f,d[4]=f,a[0]?c.resolve(0):c.i64.neq(f,f)?c.db.table(169).fetch([[[f]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?0:(b=a.item,d[2]=c.blobs.to_string(b.epochAnonIdBlob),d[3]=b.epochId,d[4]=b.epochRootKeyBlob)}):c.resolve()},function(b){return c.i64.neq(d[3],f)?c.resolve(0):c.fe(c.ftr(c.db.table(169).fetch(),function(b){return a[0]||c.i64.eq(b.authorityLevel,c.i64.cast([0,80]))}),function(a){a=a.item;return d[16]=c.blobs.to_string(a.epochAnonIdBlob),c.i64.eq([0,d[16].length],[0,d[2].length])?d[15]=d[16]>d[2]:d[15]=c.i64.gt([0,d[16].length],[0,d[2].length]),d[15]?(d[2]=d[16],d[3]=a.epochId,d[4]=a.epochRootKeyBlob):0})},function(a){return d[14]=c.blobs.of_string(d[2]),c.i64.neq(d[3],f)?(c.blobs.neq(d[14],f)?(c.blobs.neq(d[4],f)?(d[19]=new c.Map(),d[19].set("epoch_id",d[3]),d[19].set("epoch_root_key",d[4]),d[19].set("epoch_anon_id",d[14]),d[20]=new c.Map(),d[20].set("epoch_keys",d[19]),a=[d[20],f],d[17]=a[0],d[18]=a[1],a):(d[19]=new c.Map(),d[19].set("error_code",c.i64.cast([0,402])),d[19].set("error_message","failed to query latest epoch"),d[19].set("stored_procedure","LSEncryptedBackupsGetLatestEpochKeysStoredProcedure"),a=[f,d[19]],d[17]=a[0],d[18]=a[1],a),a=[d[17],d[18]],d[15]=a[0],d[16]=a[1],a):(d[17]=new c.Map(),d[17].set("error_code",c.i64.cast([0,403])),d[17].set("error_message","failed to query latest epoch"),d[17].set("stored_procedure","LSEncryptedBackupsGetLatestEpochKeysStoredProcedure"),a=[f,d[17]],d[15]=a[0],d[16]=a[1],a),a=[d[15],d[16]],d[5]=a[0],d[6]=a[1],a):(d[15]=new c.Map(),d[15].set("error_code",c.i64.cast([0,400])),d[15].set("error_message","failed to query latest epoch"),d[15].set("stored_procedure","LSEncryptedBackupsGetLatestEpochKeysStoredProcedure"),a=[f,d[15]],d[5]=a[0],d[6]=a[1],a),d[7]=c.i64.of_float(Date.now()),d[9]="Finishing execution. Execution time: ",d[10]=c.i64.to_string(c.i64.sub(d[7],d[0])),d[12]=" ms",d[8]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][getLatestEpochKeys] ",d[8],d[9],d[8],d[10],d[8],d[12]].join("")),d[11]=",",d[13]=c.createArray(),f!==f?d[15]=(d[13].push(f),d[13]):0,c.nop(b("LSLogMebClientEvent.nop"),"getLatestEpochKeys",[d[9],d[11],d[10],d[11],d[12]].join(""),d[13],c.i64.cast([0,4]))},function(a){return a=[d[5],d[6]],e[0]=a[0],e[1]=a[1],a}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSLoadAndEncryptProtobufWithInputs",["LSLogMebClientEvent.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(a){return c.seq([function(a){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][loadAndEncryptProtobufWithInputs] Beginning execution."),d[1]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsLoadAndEncryptProtobufWithInputsStoredProcedure] Returning error NOT_SUPPORTED_ON_WEB"),d[2]=new c.Map(),d[2].set("error_code",c.i64.cast([0,7])),d[2].set("stored_procedure","LSEncryptedBackupsLoadAndEncryptProtobufWithInputsStoredProcedure"),d[2].set("error_message",""),d[3]=c.i64.of_float(Date.now()),d[5]="Finishing execution. Execution time: ",d[6]=c.i64.to_string(c.i64.sub(d[3],d[0])),d[8]=" ms",d[4]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][loadAndEncryptProtobufWithInputs] ",d[4],d[5],d[4],d[6],d[4],d[8]].join("")),d[7]=",",d[9]=c.createArray(),f!==f?d[10]=(d[9].push(f),d[9]):0,c.nop(b("LSLogMebClientEvent.nop"),"loadAndEncryptProtobufWithInputs",[d[5],d[7],d[6],d[7],d[8]].join(""),d[9],c.i64.cast([0,4]))},function(a){return a=[f,d[2]],e[0]=a[0],e[1]=a[1],a}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSLoadAndEncryptProtobuf",["LSLoadAndEncryptProtobufWithInputs","LSLogMebClientEvent.nop"],(function(a,b,c,d,e,f,g){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(g){return c.seq([function(e){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][loadAndEncryptProtobuf] Beginning execution."),d[1]=c.i64.of_float(Date.now()),c.ftr(c.db.table(305).fetch(),function(b){return c.i64.eq(b.pendingBackupTaskId,a[0])}).next().then(function(e,g){var h=e.done;e=e.value;return h?(function(a){c.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsLoadAndEncryptProtobufStoredProcedure] Returning error PROTOBUF_CONTEXT_ROW_NOT_FOUND"),d[12]=new c.Map(),d[12].set("error_code",c.i64.cast([0,67])),d[12].set("stored_procedure","LSEncryptedBackupsLoadAndEncryptProtobufStoredProcedure"),d[12].set("error_message",""),h=[f,d[12]],d[2]=h[0],d[3]=h[1],h):(g=e.item,c.seq([function(e){return c.sp(b("LSLoadAndEncryptProtobufWithInputs"),g.backupAction,g.actThreadId,g.toplevelOfflineThreadingId,g.supplementalKey,g.messageTimestampMs,a[1],a[2]).then(function(a){return a=a,d[12]=a[0],d[13]=a[1],a})},function(a){return a=[d[12],d[13]],d[2]=a[0],d[3]=a[1],a}]))})},function(a){return d[5]=c.i64.of_float(Date.now()),d[7]="Finishing execution. Execution time: ",d[8]=c.i64.to_string(c.i64.sub(d[5],d[0])),d[10]=" ms",d[6]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][loadAndEncryptProtobuf] ",d[6],d[7],d[6],d[8],d[6],d[10]].join("")),d[9]=",",d[11]=c.createArray(),f!==f?d[12]=(d[11].push(f),d[11]):0,c.nop(b("LSLogMebClientEvent.nop"),"loadAndEncryptProtobuf",[d[7],d[9],d[8],d[9],d[10]].join(""),d[11],c.i64.cast([0,4]))},function(a){return a=[d[2],d[3]],e[0]=a[0],e[1]=a[1],a}])},function(a){return c.resolve(e)}])}c=a;g["default"]=c}),98);
__d("LSSerializeBackupPayloadV2",["LSAppendDataTraceAddon","LSArrayGetObjectAt","LSBase64Encode.nop","LSCreateDerivedKeys.nop","LSEncryptIdentifiers","LSEncryptMessagePayload","LSGetBlobFromString.nop","LSGetLatestEpochKeys","LSIsEncryptionVersionSecure","LSIsMobileClient","LSLoadAndEncryptProtobuf","LSLogMebClientEvent.nop","gkx","justknobx"],(function(a,b,c,d,e,f,g){function a(){var a=arguments,d=a[a.length-1];d.n;var e=[],f=[],g;return d.seq([function(h){return d.seq([function(f){return e[0]=d.i64.of_float(Date.now()),function(a){d.logger(a).info(a)}("[EncryptedBackups][serializeBackupPayloadV2] Beginning execution."),e[1]=d.i64.of_float(Date.now()),e[13]=d.i64.mul(e[1],d.i64.cast([0,1e6])),(c("gkx")("7350")||c("gkx")("4765"))&&c("justknobx")._("1071")?d.seq([function(c){return d.islc(d.ftr(d.db.table(168).fetch(),function(a){return d.i64.eq(a.authorityLevel,d.i64.cast([0,80]))||!1}),0,d.i64.to_float(d.i64.cast([0,1]))).next().then(function(c,f){var i=c.done;c=c.value;return i?d.seq([function(b){return d.db.table(2).fetch([[[a[0]]]]).next().then(function(c,f){var b=c.done;c=c.value;return b?(e[31]=d.i64.of_float(Date.now()),b=[a[0],g,g,g,g,d.i64.sub(d.i64.mul(e[31],d.i64.cast([0,1e6])),e[13]),g],e[19]=b[0],e[20]=b[1],e[21]=b[2],e[22]=b[3],e[23]=b[4],e[24]=b[5],e[25]=b[6],b):(f=c.item,e[31]=d.i64.of_float(Date.now()),b=[a[0],f.queueName,f.enqueueTimestampMs,f.priority,f.firstExecutedTimestampMs,d.i64.sub(d.i64.mul(e[31],d.i64.cast([0,1e6])),e[13]),g],e[19]=b[0],e[20]=b[1],e[21]=b[2],e[22]=b[3],e[23]=b[4],e[24]=b[5],e[25]=b[6],b)})},function(a){return e[27]=new d.Map(),e[27].set("task_id",e[19]),e[27].set("queue_name",e[20]),e[27].set("enqueue_timestamp_ms",e[21]),e[27].set("priority",e[22]),e[27].set("first_executed_timestamp_ms",e[23]),e[27].set("execution_time_ns",e[24]),e[27].set("echo_encoding_execution_time_ns",e[25]),e[28]=new d.Map(),e[28].set("task_metadata",e[27]),e[28].set("action_type",g),e[28].set("content_type",g),e[28].set("identifiers",g),e[28].set("task_creation_source",g),e[28].set("message_payload_source",d.i64.cast([0,2])),e[29]=new d.Map(),e[29].set("error_code",d.i64.cast([0,1])),e[29].set("stored_procedure","LSEncryptedBackupsSerializeBackupPayloadV2StoredProcedure"),e[29].set("error_message",""),e[30]=d.createArray(),a=[g,e[29],e[28],e[30]],e[14]=a[0],e[15]=a[1],e[16]=a[2],e[17]=a[3],a}]):(f=c.item,d.seq([function(a){return e[28]=f.mailboxRootKeyBlob,e[29]=f.deviceId,e[27]=f.backupTenancy,e[26]=f.encryptionVersion,d.i64.neq(g,g)?d.resolve(e[19]=g):d.seq([function(a){return e[30]=d.createArray(),d.sp(b("LSIsEncryptionVersionSecure"),d.i64.cast([0,0])).then(function(a){return a=a,e[31]=a[0],a})},function(a){return e[31]?e[40]=(e[30].push(d.i64.cast([0,0])),e[30]):0,d.sp(b("LSIsEncryptionVersionSecure"),d.i64.cast([0,2])).then(function(a){return a=a,e[32]=a[0],a})},function(a){return e[32]?e[40]=(e[30].push(d.i64.cast([0,2])),e[30]):0,d.sp(b("LSIsEncryptionVersionSecure"),d.i64.cast([0,3])).then(function(a){return a=a,e[33]=a[0],a})},function(a){return e[33]?e[40]=(e[30].push(d.i64.cast([0,3])),e[30]):0,d.sp(b("LSIsEncryptionVersionSecure"),d.i64.cast([0,4])).then(function(a){return a=a,e[34]=a[0],a})},function(a){return e[34]?e[40]=(e[30].push(d.i64.cast([0,4])),e[30]):0,e[35]=d.createArray(),e[36]=d.i64.of_int32(e[30].length),d.i64.gt(e[36],d.i64.cast([0,0]))?d.loopAsync(e[36],function(a){return e[40]=a,d.seq([function(a){return d.ntop("Array",b("LSArrayGetObjectAt"),e[30],e[40]).then(function(a){return a=a,e[41]=a[0],e[42]=a[1],a})},function(a){return e[43]=(e[35].push(e[41]),e[35])}])}):d.resolve()},function(a){return d.seq([function(a){return e[40]=d.createArray(),e[41]=d.i64.of_int32(e[35].length),d.i64.gt(e[41],d.i64.cast([0,0]))?d.loopAsync(e[41],function(a){return e[43]=a,d.seq([function(a){return d.ntop("Array",b("LSArrayGetObjectAt"),e[35],e[43]).then(function(a){return a=a,e[44]=a[0],e[45]=a[1],a})},function(a){return e[46]=(e[40].push(d.i64.to_string(e[44])),e[40])}])}):d.resolve()},function(a){return e[42]=e[40].join(","),e[37]=e[42]}])},function(a){return e[35].some(function(a){return d.i64.eq(e[26],a)})?e[38]=e[26]:e[38]=g,d.i64.neq(e[38],g)?e[39]=e[38]:e[39]=g,e[19]=e[39]}])},function(c){return d.i64.neq(e[19],g)?e[20]=e[19]:e[20]=d.i64.cast([0,0]),d.i64.neq(e[27],g)?e[21]=e[27]:e[21]=d.i64.cast([0,1]),d.i64.neq(e[29],g)?d.seq([function(c){return d.db.table(177).fetch([[[a[0]]],"fk_pending_tasks"]).next().then(function(j,k){var c=j.done;j=j.value;return c?d.seq([function(b){return d.db.table(2).fetch([[[a[0]]]]).next().then(function(c,f){var b=c.done;c=c.value;return b?(e[47]=d.i64.of_float(Date.now()),b=[a[0],g,g,g,g,d.i64.sub(d.i64.mul(e[47],d.i64.cast([0,1e6])),e[13]),g],e[35]=b[0],e[36]=b[1],e[37]=b[2],e[38]=b[3],e[39]=b[4],e[40]=b[5],e[41]=b[6],b):(f=c.item,e[47]=d.i64.of_float(Date.now()),b=[a[0],f.queueName,f.enqueueTimestampMs,f.priority,f.firstExecutedTimestampMs,d.i64.sub(d.i64.mul(e[47],d.i64.cast([0,1e6])),e[13]),g],e[35]=b[0],e[36]=b[1],e[37]=b[2],e[38]=b[3],e[39]=b[4],e[40]=b[5],e[41]=b[6],b)})},function(a){return e[43]=new d.Map(),e[43].set("task_id",e[35]),e[43].set("queue_name",e[36]),e[43].set("enqueue_timestamp_ms",e[37]),e[43].set("priority",e[38]),e[43].set("first_executed_timestamp_ms",e[39]),e[43].set("execution_time_ns",e[40]),e[43].set("echo_encoding_execution_time_ns",e[41]),e[44]=new d.Map(),e[44].set("task_metadata",e[43]),e[44].set("action_type",g),e[44].set("content_type",g),e[44].set("identifiers",g),e[44].set("task_creation_source",g),e[44].set("message_payload_source",d.i64.cast([0,2])),e[45]=new d.Map(),e[45].set("error_code",d.i64.cast([0,5])),e[45].set("stored_procedure","LSEncryptedBackupsSerializeBackupPayloadV2StoredProcedure"),e[45].set("error_message","Pending backup context row not found"),e[46]=d.createArray(),a=[g,e[45],e[44],e[46]],e[30]=a[0],e[31]=a[1],e[32]=a[2],e[33]=a[3],a}]):(k=j.item,d.seq([function(a){return e[43]=k.actionType,e[42]=k.contentType,e[41]=k.listKey,e[44]=k.echoContent,e[45]=k.lsTraceId,e[46]=k.echoEncodingLatencyNs,d.i64.eq(e[43],d.i64.cast([0,2]))&&d.i64.eq(e[42],d.i64.cast([0,2]))?d.resolve(e[35]=""):d.seq([function(a){return d.db.table(173).fetch([[[d.i64.from_string(e[41])]],"jid"]).next().then(function(b,c){var a=b.done;b=b.value;return a?e[48]="":(c=b.item,e[48]=d.i64.to_string(c.serverThreadKey))})},function(a){return e[35]=e[48]}])},function(c){return e[36]=new d.Map(),e[36].set("backup_id",d.i64.to_string(f.backupId)),e[36].set("act_thread_id",e[41]),e[36].set("server_thread_id",e[35]),e[36].set("timestamp",k.sortKey),e[36].set("otid",k.uniqueKey),e[47]=k.error==null?d.i64.cast([0,0]):k.error,d.i64.eq(e[47],d.i64.cast([0,0]))?d.seq([function(a){return d.sp(b("LSGetLatestEpochKeys"),!1).then(function(a){return a=a,e[48]=a[0],e[49]=a[1],a})},function(a){return e[48]!==g?d.seq([function(a){return d.i64.eq(e[42],d.i64.cast([0,1]))?d.seq([function(a){return e[59]=e[36].get("act_thread_id"),e[36],e[60]=d.createArray(),e[65]=(e[60].push(d.i64.cast([0,32])),e[60]),d.nop(b("LSGetBlobFromString.nop"),["thread_ope_key","_",e[59]].join("")).then(function(a){return a=a,e[61]=a[0],a})},function(a){return d.nop(b("LSCreateDerivedKeys.nop"),e[61],g,e[28],e[60]).then(function(a){return a=a,e[62]=a[0],a})},function(a){return e[62]?e[63]=!1:e[63]=!0,e[63]?d.seq([function(a){return function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][MEBCryptoUtils] Got null keys while deriving message list OPE key. Returning null blobish"),e[65]=d.createArray(),g!==g?e[66]=(e[65].push(g),e[65]):0,d.nop(b("LSLogMebClientEvent.nop"),"MEBCryptoUtils","Got null keys while deriving message list OPE key. Returning null blobish",e[65],d.i64.cast([0,3]))},function(a){return e[64]=g}]):d.seq([function(a){return d.ntop("Array",b("LSArrayGetObjectAt"),e[62],d.i64.cast([0,0])).then(function(a){return a=a,e[65]=a[0],e[66]=a[1],a})},function(a){return e[64]=e[65]}])},function(a){return e[56]=e[64]}]):d.seq([function(a){return d.i64.eq(e[43],d.i64.cast([0,2]))?d.seq([function(a){return e[60]=e[36].get("otid"),e[36],e[61]=d.createArray(),e[66]=(e[61].push(d.i64.cast([0,32])),e[61]),d.nop(b("LSGetBlobFromString.nop"),["thread_ope_key","_",e[60]].join("")).then(function(a){return a=a,e[62]=a[0],a})},function(a){return d.nop(b("LSCreateDerivedKeys.nop"),e[62],g,e[28],e[61]).then(function(a){return a=a,e[63]=a[0],a})},function(a){return e[63]?e[64]=!1:e[64]=!0,e[64]?d.seq([function(a){return function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][MEBCryptoUtils] Got null keys while deriving message list OPE key. Returning null blobish"),e[66]=d.createArray(),g!==g?e[67]=(e[66].push(g),e[66]):0,d.nop(b("LSLogMebClientEvent.nop"),"MEBCryptoUtils","Got null keys while deriving message list OPE key. Returning null blobish",e[66],d.i64.cast([0,3]))},function(a){return e[65]=g}]):d.seq([function(a){return d.ntop("Array",b("LSArrayGetObjectAt"),e[63],d.i64.cast([0,0])).then(function(a){return a=a,e[66]=a[0],e[67]=a[1],a})},function(a){return e[65]=e[66]}])},function(a){return e[59]=e[65]}]):d.resolve(e[59]=g)},function(a){return e[56]=e[59]}])},function(a){return d.blobs.neq(e[56],g)?d.seq([function(a){return e[59]=e[48].get("epoch_keys"),e[48],e[60]=e[59].get("epoch_anon_id"),e[59],e[61]=e[59].get("epoch_root_key"),e[59],e[62]=e[36].get("act_thread_id"),e[36],e[63]=d.createArray(),e[74]=(e[63].push(d.i64.cast([0,32])),e[63]),d.i64.ge(e[20],d.i64.cast([0,3]))?d.resolve(e[64]=g):d.seq([function(a){return d.nop(b("LSGetBlobFromString.nop"),e[62]).then(function(a){return a=a,e[74]=a[0],a})},function(a){return e[64]=e[74]}])},function(a){return d.i64.ge(e[20],d.i64.cast([0,4]))?(e[74]="_",e[65]=["message_key_in_epoch",e[74],d.blobs.to_string(e[60]),e[74],"cipher_version",e[74],d.i64.to_string(e[20]),e[74],"thread",e[74],e[62]==null?"":e[62]].join("")):(d.i64.ge(e[20],d.i64.cast([0,3]))?(e[75]="_",e[74]=["message_key_in_epoch",e[75],d.blobs.to_string(e[60]),e[75],"cipher_version",e[75],d.i64.to_string(e[20]),e[75],"thread",e[75],e[62]==null?"":e[62]].join("")):(d.i64.ge(e[20],d.i64.cast([0,2]))?(e[76]="_",e[75]=["message_key_in_epoch",e[76],d.blobs.to_string(e[60]),e[76],"cipher_version",e[76],d.i64.to_string(e[20])].join("")):e[75]=["message_key_in_epoch","_",d.blobs.to_string(e[60])].join(""),e[74]=e[75]),e[65]=e[74]),d.nop(b("LSGetBlobFromString.nop"),e[65]).then(function(a){return a=a,e[66]=a[0],a})},function(a){return d.nop(b("LSCreateDerivedKeys.nop"),e[66],e[64],e[61],e[63]).then(function(a){return a=a,e[67]=a[0],a})},function(a){return e[67]?e[68]=!1:e[68]=!0,e[68]?d.resolve(e[69]=g):d.seq([function(a){return d.ntop("Array",b("LSArrayGetObjectAt"),e[67],d.i64.cast([0,0])).then(function(a){return a=a,e[74]=a[0],e[75]=a[1],a})},function(a){return e[69]=e[74]}])},function(a){return d.ftr(d.db.table(169).fetch(),function(a){return d.blobs.eq(a.epochAnonIdBlob,d.blob("MA=="))}).next().then(function(c,f){var a=c.done;c=c.value;return a?d.seq([function(a){return function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][MEBTableUtils] Failed to get mailbox_root_key_v2: epoch 0 is not available."),e[74]=d.createArray(),g!==g?e[75]=(e[74].push(g),e[74]):0,d.nop(b("LSLogMebClientEvent.nop"),"MEBTableUtils","Failed to get mailbox_root_key_v2: epoch 0 is not available.",e[74],d.i64.cast([0,3]))},function(a){return e[70]=g}]):(f=c.item,d.seq([function(a){return e[74]=d.createArray(),e[82]=(e[74].push(d.i64.cast([0,32])),e[74]),d.nop(b("LSCreateDerivedKeys.nop"),d.blob("a2RmX2luZm86bWFpbGJveF9yb290X2tleT5zYWx0X21haWxib3hfcm9vdF9rZXlfdjI="),g,e[28],e[74]).then(function(a){return a=a,e[75]=a[0],a})},function(a){return e[75]!==g?d.seq([function(a){return e[82]=d.i64.of_int32(e[75].length),d.i64.ge(e[82],d.i64.cast([0,1]))?d.seq([function(a){return d.ntop("Array",b("LSArrayGetObjectAt"),e[75],d.i64.cast([0,0])).then(function(a){return a=a,e[84]=a[0],e[85]=a[1],a})},function(a){return e[83]=e[84]}]):d.seq([function(a){return function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][MEBCryptoUtils] CreateDerivedKeys returned an empty list of keys. This should never happen; aborting dasm VM."),e[84]=d.createArray(),g!==g?e[85]=(e[84].push(g),e[84]):0,d.nop(b("LSLogMebClientEvent.nop"),"MEBCryptoUtils","CreateDerivedKeys returned an empty list of keys. This should never happen; aborting dasm VM.",e[84],d.i64.cast([0,3]))},function(a){return e[83]=g}])},function(a){return e[76]=e[83]}]):d.seq([function(a){return function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][MEBCryptoUtils] CreateDerivedKeys returned null. This should never happen; aborting dasm VM."),e[82]=d.createArray(),g!==g?e[83]=(e[82].push(g),e[82]):0,d.nop(b("LSLogMebClientEvent.nop"),"MEBCryptoUtils","CreateDerivedKeys returned null. This should never happen; aborting dasm VM.",e[82],d.i64.cast([0,3]))},function(a){return e[76]=g}])},function(a){return d.blobs.neq(e[76],g)?e[77]=!0:e[77]=!1,e[77]?0:(function(a){d.logger(a).mustfix(a)}("LS::assert is failed. Attempting to coerce a null value to nonnull."),d["throw"]("LS::assert is failed. Attempting to coerce a null value to nonnull.")),e[78]=d.createArray(),e[82]=(e[78].push(d.i64.cast([0,32])),e[78]),d.nop(b("LSCreateDerivedKeys.nop"),d.blob("a2RmX2luZm86bWFpbGJveF9yb290X2tleT5tYWlsYm94X3Jvb3Rfa2V5X3Yy"),e[76],f.epochRootKeyBlob,e[78]).then(function(a){return a=a,e[79]=a[0],a})},function(a){return e[79]!==g?d.seq([function(a){return e[82]=d.i64.of_int32(e[79].length),d.i64.ge(e[82],d.i64.cast([0,1]))?d.seq([function(a){return d.ntop("Array",b("LSArrayGetObjectAt"),e[79],d.i64.cast([0,0])).then(function(a){return a=a,e[84]=a[0],e[85]=a[1],a})},function(a){return e[83]=e[84]}]):d.seq([function(a){return function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][MEBCryptoUtils] CreateDerivedKeys returned an empty list of keys. This should never happen; aborting dasm VM."),e[84]=d.createArray(),g!==g?e[85]=(e[84].push(g),e[84]):0,d.nop(b("LSLogMebClientEvent.nop"),"MEBCryptoUtils","CreateDerivedKeys returned an empty list of keys. This should never happen; aborting dasm VM.",e[84],d.i64.cast([0,3]))},function(a){return e[83]=g}])},function(a){return e[80]=e[83]}]):d.seq([function(a){return function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][MEBCryptoUtils] CreateDerivedKeys returned null. This should never happen; aborting dasm VM."),e[82]=d.createArray(),g!==g?e[83]=(e[82].push(g),e[82]):0,d.nop(b("LSLogMebClientEvent.nop"),"MEBCryptoUtils","CreateDerivedKeys returned null. This should never happen; aborting dasm VM.",e[82],d.i64.cast([0,3]))},function(a){return e[80]=g}])},function(a){return d.blobs.neq(e[80],g)?e[81]=!0:e[81]=!1,e[81]?0:(function(a){d.logger(a).mustfix(a)}("LS::assert is failed. Attempting to coerce a null value to nonnull."),d["throw"]("LS::assert is failed. Attempting to coerce a null value to nonnull.")),e[70]=e[80]}]))})},function(a){return d.blobs.neq(e[69],g)?d.seq([function(a){return d.blobs.neq(e[70],g)?d.seq([function(a){return e[80]=d.createArray(),e[84]=(e[80].push(d.i64.cast([0,32])),e[80]),d.nop(b("LSCreateDerivedKeys.nop"),d.blob("a2RmX2luZm86bWFpbGJveF9yb290X2tleV92Mj5mYWxsYmFja19rZXk="),g,e[70],e[80]).then(function(a){return a=a,e[81]=a[0],a})},function(a){return e[81]!==g?d.seq([function(a){return e[84]=d.i64.of_int32(e[81].length),d.i64.ge(e[84],d.i64.cast([0,1]))?d.seq([function(a){return d.ntop("Array",b("LSArrayGetObjectAt"),e[81],d.i64.cast([0,0])).then(function(a){return a=a,e[86]=a[0],e[87]=a[1],a})},function(a){return e[85]=e[86]}]):d.seq([function(a){return function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][MEBCryptoUtils] CreateDerivedKeys returned an empty list of keys. This should never happen; aborting dasm VM."),e[86]=d.createArray(),g!==g?e[87]=(e[86].push(g),e[86]):0,d.nop(b("LSLogMebClientEvent.nop"),"MEBCryptoUtils","CreateDerivedKeys returned an empty list of keys. This should never happen; aborting dasm VM.",e[86],d.i64.cast([0,3]))},function(a){return e[85]=g}])},function(a){return e[82]=e[85]}]):d.seq([function(a){return function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][MEBCryptoUtils] CreateDerivedKeys returned null. This should never happen; aborting dasm VM."),e[84]=d.createArray(),g!==g?e[85]=(e[84].push(g),e[84]):0,d.nop(b("LSLogMebClientEvent.nop"),"MEBCryptoUtils","CreateDerivedKeys returned null. This should never happen; aborting dasm VM.",e[84],d.i64.cast([0,3]))},function(a){return e[82]=g}])},function(a){return d.blobs.neq(e[82],g)?e[83]=!0:e[83]=!1,e[83]?0:(function(a){d.logger(a).mustfix(a)}("LS::assert is failed. Attempting to coerce a null value to nonnull."),d["throw"]("LS::assert is failed. Attempting to coerce a null value to nonnull.")),e[74]=e[82]}]):d.resolve(e[74]=g)},function(a){return e[75]=e[59].get("epoch_root_key"),e[59],e[76]=e[59].get("epoch_anon_id"),e[59],e[77]=e[59].get("epoch_id"),e[59],e[78]=new d.Map(),e[78].set("payload_key",e[69]),e[78].set("payload_fallback_key",e[74]),e[78].set("encryption_version",e[20]),e[78].set("epoch_root_key",e[75]),e[78].set("epoch_anon_id",e[76]),e[78].set("epoch_id",e[77]),e[79]=new d.Map(),e[79].set("ope_key",e[56]),e[79].set("message_payload_encryption_keys",e[78]),e[79].set("ocmf_shared_key",f.ocmfClientStateBlob),e[79].set("mailbox_base_salt",e[28]),e[79].set("mailbox_root_key_v2",e[70]),a=[e[79],g],e[72]=a[0],e[73]=a[1],a}]):d.resolve((e[74]=new d.Map(),e[74].set("error_code",d.i64.cast([0,26])),e[74].set("stored_procedure","MEBKeyDeriver"),e[74].set("error_message",""),a=[g,e[74]],e[72]=a[0],e[73]=a[1],a))},function(a){return a=[e[72],e[73]],e[57]=a[0],e[58]=a[1],a}]):d.resolve((e[59]=new d.Map(),e[59].set("error_code",d.i64.cast([0,25])),e[59].set("stored_procedure","MEBKeyDeriver"),e[59].set("error_message",""),a=[g,e[59]],e[57]=a[0],e[58]=a[1],a))},function(a){return a=[e[57],e[58]],e[50]=a[0],e[51]=a[1],a}]):d.resolve((a=[g,e[49]],e[50]=a[0],e[51]=a[1],a))},function(c){return e[50]!==g?d.seq([function(a){return d.sp(b("LSEncryptIdentifiers"),e[43],e[42],e[36],e[50]).then(function(a){return a=a,e[56]=a[0],e[57]=a[1],a})},function(c){return e[56]!==g?d.seq([function(c){return d.i64.eq(e[43],d.i64.cast([0,1]))?(e[70]=e[44]===""?g:e[44],e[70]!==g?(c=[e[70],g],e[68]=c[0],e[69]=c[1],c):(e[71]=new d.Map(),e[71].set("error_code",d.i64.cast([0,30])),e[71].set("stored_procedure","LSEncryptedBackupsSerializeBackupPayloadV2StoredProcedure"),e[71].set("error_message",""),c=[g,e[71]],e[68]=c[0],e[69]=c[1],c),c=[e[68],e[69]],e[62]=c[0],e[63]=c[1],c):(c=["",g],e[62]=c[0],e[63]=c[1],c),e[62]!==g?d.seq([function(a){return d.i64.eq(e[43],d.i64.cast([0,1]))?d.seq([function(a){return d.sp(b("LSEncryptMessagePayload"),e[36],e[50],e[62]).then(function(a){return a=a,e[74]=a[0],e[75]=a[1],a})},function(a){return a=[e[74],e[75]],e[68]=a[0],e[69]=a[1],a}]):d.resolve((e[74]=new d.Map(),e[74].set("encrypted_message_payload",""),e[74].set("value_secret_ref",""),a=[e[74],g],e[68]=a[0],e[69]=a[1],a))},function(c){return e[68]!==g?d.seq([function(c){return d.sp(b("LSLoadAndEncryptProtobuf"),a[0],e[50],e[36]).then(function(a){return a=a,e[74]=a[0],e[75]=a[1],a})},function(a){return e[76]=e[56].get("act_thread_id_ocmf_partial"),e[56],e[77]=e[56].get("otid_ocmf_partial"),e[56],e[78]=e[56].get("timestamp_encrypted"),e[56],e[79]=new d.Map(),e[79].set("list_key",e[76]),e[79].set("unique_key",e[77]),e[79].set("sort_key",e[78]),e[80]=e[68].get("encrypted_message_payload"),e[68],e[81]=e[68].get("value_secret_ref"),e[68],e[82]=new d.Map(),e[82].set("value",e[80]),e[82].set("value_secret_ref",e[81]),e[83]=new d.Map(),e[83].set("list_item_id",e[79]),e[83].set("list_item",e[82]),e[83].set("action_type",e[43]),e[84]=e[36].get("server_thread_id"),e[36],e[85]=e[36].get("timestamp"),e[36],e[86]=e[36].get("otid"),e[36],e[87]=e[36].get("act_thread_id"),e[36],e[88]=new d.Map(),e[88].set("server_thread_key",e[84]),e[88].set("timestamp",e[85]),e[88].set("otid",e[86]),e[88].set("wa_thread_id",d.i64.from_string(e[87])),e[89]=e[50].get("mailbox_base_salt"),e[50],d.nop(b("LSBase64Encode.nop"),e[89]).then(function(a){return a=a,e[90]=a[0],a})},function(a){return e[91]=e[50].get("ocmf_shared_key"),e[50],d.nop(b("LSBase64Encode.nop"),e[91]).then(function(a){return a=a,e[92]=a[0],a})},function(a){return e[93]=new d.Map(),e[93].set("mailbox_root_key",e[90]==null?"":e[90]),e[93].set("ocmf_client_state_blob",e[92]==null?"":e[92]),e[94]=e[56].get("backup_id_ocmf_partial"),e[56],e[95]=e[50].get("message_payload_encryption_keys"),e[50],e[96]=e[95].get("epoch_id"),e[95],e[97]=e[50].get("message_payload_encryption_keys"),e[50],e[98]=e[97].get("encryption_version"),e[97],e[99]=new d.Map(),e[99].set("mailbox_partial_id",e[94]),e[99].set("action",e[83]),e[99].set("device_id",e[29]),e[99].set("echo_version",d.i64.cast([0,0])),e[99].set("epoch_id",e[96]),e[99].set("trace_id",g),e[99].set("encryption_version",e[98]),e[99].set("is_thread",d.i64.eq(e[42],d.i64.cast([0,2]))),e[99].set("raw_identifiers",e[88]),e[99].set("raw_tokens",e[93]),e[99].set("request_id",e[45]==null?"":e[45]),e[99].set("tam_thread_subtype",d.i64.cast([0,0])),e[99].set("is_instamadillo",!1),e[74]!==g?d.seq([function(a){return e[115]=e[74].get("supplemental_data_encrypted"),e[74],e[115]!==g?d.seq([function(a){return e[117]=e[74].get("protobuf_encrypted"),e[74],e[118]=e[74].get("backup_action"),e[74],e[119]=e[74].get("timestamp_ms"),e[74],e[120]=e[115].get("sk_ciphertext"),e[115],d.nop(b("LSBase64Encode.nop"),e[120]).then(function(a){return a=a,e[121]=a[0],a})},function(a){return e[122]=e[115].get("sk_hash"),e[115],d.nop(b("LSBase64Encode.nop"),e[122]).then(function(a){return a=a,e[123]=a[0],a})},function(a){return e[124]=e[74].get("message_tags"),e[74],e[125]=new d.Map(),e[125].set("supplementary_data_key",g),e[125].set("encrypted_protobuf",e[117]),e[125].set("key_value_backup_action",e[118]),e[125].set("protobuf_ts_ms",e[119]),e[125].set("supplemental_key_ciphertext",e[121]),e[125].set("supplemental_key_hash",e[123]),e[125].set("message_tags",e[124]),e[116]=e[125]}]):d.resolve((e[117]=e[74].get("protobuf_encrypted"),e[74],e[118]=e[74].get("backup_action"),e[74],e[119]=e[74].get("timestamp_ms"),e[74],e[120]=e[74].get("message_tags"),e[74],e[121]=new d.Map(),e[121].set("supplementary_data_key",g),e[121].set("encrypted_protobuf",e[117]),e[121].set("key_value_backup_action",e[118]),e[121].set("protobuf_ts_ms",e[119]),e[121].set("message_tags",e[120]),e[116]=e[121]))},function(a){return e[99].set("key_value_backup_payload",e[116])}]):d.resolve()},function(a){return d.resolve(function(a){d.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsSerializeBackupPayloadV2StoredProcedure] Skip processing attachments as not enabled."))},function(a){return e[45]!==g?d.sp(b("LSAppendDataTraceAddon"),e[45],d.i64.cast([0,1463]),d.i64.cast([0,2]),g,g):d.resolve()},function(a){return d.sp(b("LSIsMobileClient")).then(function(a){return a=a,e[100]=a[0],a})},function(a){return e[100]?e[101]=!0:e[101]=!1,e[101]?(function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),e[115]=d.createArray(),g!==g?e[116]=(e[115].push(g),e[115]):0,d.nop(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",e[115],d.i64.cast([0,3]))):d.resolve()},function(b){return e[102]=d.toJSON(e[99]),d.db.table(2).fetch([[[a[0]]]]).next().then(function(c,f){var b=c.done;c=c.value;return b?(e[115]=d.i64.of_float(Date.now()),d.i64.eq(e[46],d.i64.cast([0,0]))||d.i64.eq(e[46],g)?e[116]=g:e[116]=e[46],b=[a[0],g,g,g,g,d.i64.sub(d.i64.mul(e[115],d.i64.cast([0,1e6])),e[13]),e[116]],e[103]=b[0],e[104]=b[1],e[105]=b[2],e[106]=b[3],e[107]=b[4],e[108]=b[5],e[109]=b[6],b):(f=c.item,e[115]=d.i64.of_float(Date.now()),d.i64.eq(e[46],d.i64.cast([0,0]))||d.i64.eq(e[46],g)?e[116]=g:e[116]=e[46],b=[a[0],f.queueName,f.enqueueTimestampMs,f.priority,f.firstExecutedTimestampMs,d.i64.sub(d.i64.mul(e[115],d.i64.cast([0,1e6])),e[13]),e[116]],e[103]=b[0],e[104]=b[1],e[105]=b[2],e[106]=b[3],e[107]=b[4],e[108]=b[5],e[109]=b[6],b)})},function(a){return e[111]=new d.Map(),e[111].set("task_id",e[103]),e[111].set("queue_name",e[104]),e[111].set("enqueue_timestamp_ms",e[105]),e[111].set("priority",e[106]),e[111].set("first_executed_timestamp_ms",e[107]),e[111].set("execution_time_ns",e[108]),e[111].set("echo_encoding_execution_time_ns",e[109]),e[112]=new d.Map(),e[112].set("task_metadata",e[111]),e[112].set("action_type",e[43]),e[112].set("content_type",e[42]),e[112].set("identifiers",e[36]),e[112].set("task_creation_source",g),e[112].set("message_payload_source",d.i64.cast([0,2])),e[113]=new d.Map(),e[113].set("payload",e[102]),e[114]=d.createArray(),e[115]=(e[114].push(e[75]),e[114]),a=[e[113],g,e[112],e[114]],e[70]=a[0],e[71]=a[1],e[72]=a[2],e[73]=a[3],a}]):d.seq([function(b){return d.db.table(2).fetch([[[a[0]]]]).next().then(function(c,f){var b=c.done;c=c.value;return b?(e[85]=d.i64.of_float(Date.now()),d.i64.eq(e[46],d.i64.cast([0,0]))||d.i64.eq(e[46],g)?e[86]=g:e[86]=e[46],b=[a[0],g,g,g,g,d.i64.sub(d.i64.mul(e[85],d.i64.cast([0,1e6])),e[13]),e[86]],e[74]=b[0],e[75]=b[1],e[76]=b[2],e[77]=b[3],e[78]=b[4],e[79]=b[5],e[80]=b[6],b):(f=c.item,e[85]=d.i64.of_float(Date.now()),d.i64.eq(e[46],d.i64.cast([0,0]))||d.i64.eq(e[46],g)?e[86]=g:e[86]=e[46],b=[a[0],f.queueName,f.enqueueTimestampMs,f.priority,f.firstExecutedTimestampMs,d.i64.sub(d.i64.mul(e[85],d.i64.cast([0,1e6])),e[13]),e[86]],e[74]=b[0],e[75]=b[1],e[76]=b[2],e[77]=b[3],e[78]=b[4],e[79]=b[5],e[80]=b[6],b)})},function(a){return e[82]=new d.Map(),e[82].set("task_id",e[74]),e[82].set("queue_name",e[75]),e[82].set("enqueue_timestamp_ms",e[76]),e[82].set("priority",e[77]),e[82].set("first_executed_timestamp_ms",e[78]),e[82].set("execution_time_ns",e[79]),e[82].set("echo_encoding_execution_time_ns",e[80]),e[83]=new d.Map(),e[83].set("task_metadata",e[82]),e[83].set("action_type",e[43]),e[83].set("content_type",e[42]),e[83].set("identifiers",e[36]),e[83].set("task_creation_source",g),e[83].set("message_payload_source",d.i64.cast([0,2])),e[84]=d.createArray(),a=[g,e[69],e[83],e[84]],e[70]=a[0],e[71]=a[1],e[72]=a[2],e[73]=a[3],a}])},function(a){return a=[e[70],e[71],e[72],e[73]],e[64]=a[0],e[65]=a[1],e[66]=a[2],e[67]=a[3],a}]):d.seq([function(b){return d.db.table(2).fetch([[[a[0]]]]).next().then(function(c,f){var b=c.done;c=c.value;return b?(e[79]=d.i64.of_float(Date.now()),d.i64.eq(e[46],d.i64.cast([0,0]))||d.i64.eq(e[46],g)?e[80]=g:e[80]=e[46],b=[a[0],g,g,g,g,d.i64.sub(d.i64.mul(e[79],d.i64.cast([0,1e6])),e[13]),e[80]],e[68]=b[0],e[69]=b[1],e[70]=b[2],e[71]=b[3],e[72]=b[4],e[73]=b[5],e[74]=b[6],b):(f=c.item,e[79]=d.i64.of_float(Date.now()),d.i64.eq(e[46],d.i64.cast([0,0]))||d.i64.eq(e[46],g)?e[80]=g:e[80]=e[46],b=[a[0],f.queueName,f.enqueueTimestampMs,f.priority,f.firstExecutedTimestampMs,d.i64.sub(d.i64.mul(e[79],d.i64.cast([0,1e6])),e[13]),e[80]],e[68]=b[0],e[69]=b[1],e[70]=b[2],e[71]=b[3],e[72]=b[4],e[73]=b[5],e[74]=b[6],b)})},function(a){return e[76]=new d.Map(),e[76].set("task_id",e[68]),e[76].set("queue_name",e[69]),e[76].set("enqueue_timestamp_ms",e[70]),e[76].set("priority",e[71]),e[76].set("first_executed_timestamp_ms",e[72]),e[76].set("execution_time_ns",e[73]),e[76].set("echo_encoding_execution_time_ns",e[74]),e[77]=new d.Map(),e[77].set("task_metadata",e[76]),e[77].set("action_type",e[43]),e[77].set("content_type",e[42]),e[77].set("identifiers",e[36]),e[77].set("task_creation_source",g),e[77].set("message_payload_source",d.i64.cast([0,2])),e[78]=d.createArray(),a=[g,e[63],e[77],e[78]],e[64]=a[0],e[65]=a[1],e[66]=a[2],e[67]=a[3],a}])},function(a){return a=[e[64],e[65],e[66],e[67]],e[58]=a[0],e[59]=a[1],e[60]=a[2],e[61]=a[3],a}]):d.seq([function(b){return d.db.table(2).fetch([[[a[0]]]]).next().then(function(c,f){var b=c.done;c=c.value;return b?(e[73]=d.i64.of_float(Date.now()),d.i64.eq(e[46],d.i64.cast([0,0]))||d.i64.eq(e[46],g)?e[74]=g:e[74]=e[46],b=[a[0],g,g,g,g,d.i64.sub(d.i64.mul(e[73],d.i64.cast([0,1e6])),e[13]),e[74]],e[62]=b[0],e[63]=b[1],e[64]=b[2],e[65]=b[3],e[66]=b[4],e[67]=b[5],e[68]=b[6],b):(f=c.item,e[73]=d.i64.of_float(Date.now()),d.i64.eq(e[46],d.i64.cast([0,0]))||d.i64.eq(e[46],g)?e[74]=g:e[74]=e[46],b=[a[0],f.queueName,f.enqueueTimestampMs,f.priority,f.firstExecutedTimestampMs,d.i64.sub(d.i64.mul(e[73],d.i64.cast([0,1e6])),e[13]),e[74]],e[62]=b[0],e[63]=b[1],e[64]=b[2],e[65]=b[3],e[66]=b[4],e[67]=b[5],e[68]=b[6],b)})},function(a){return e[70]=new d.Map(),e[70].set("task_id",e[62]),e[70].set("queue_name",e[63]),e[70].set("enqueue_timestamp_ms",e[64]),e[70].set("priority",e[65]),e[70].set("first_executed_timestamp_ms",e[66]),e[70].set("execution_time_ns",e[67]),e[70].set("echo_encoding_execution_time_ns",e[68]),e[71]=new d.Map(),e[71].set("task_metadata",e[70]),e[71].set("action_type",e[43]),e[71].set("content_type",e[42]),e[71].set("identifiers",e[36]),e[71].set("task_creation_source",g),e[71].set("message_payload_source",d.i64.cast([0,2])),e[72]=d.createArray(),a=[g,e[57],e[71],e[72]],e[58]=a[0],e[59]=a[1],e[60]=a[2],e[61]=a[3],a}])},function(a){return a=[e[58],e[59],e[60],e[61]],e[52]=a[0],e[53]=a[1],e[54]=a[2],e[55]=a[3],a}]):d.seq([function(b){return d.db.table(2).fetch([[[a[0]]]]).next().then(function(c,f){var b=c.done;c=c.value;return b?(e[67]=d.i64.of_float(Date.now()),d.i64.eq(e[46],d.i64.cast([0,0]))||d.i64.eq(e[46],g)?e[68]=g:e[68]=e[46],b=[a[0],g,g,g,g,d.i64.sub(d.i64.mul(e[67],d.i64.cast([0,1e6])),e[13]),e[68]],e[56]=b[0],e[57]=b[1],e[58]=b[2],e[59]=b[3],e[60]=b[4],e[61]=b[5],e[62]=b[6],b):(f=c.item,e[67]=d.i64.of_float(Date.now()),d.i64.eq(e[46],d.i64.cast([0,0]))||d.i64.eq(e[46],g)?e[68]=g:e[68]=e[46],b=[a[0],f.queueName,f.enqueueTimestampMs,f.priority,f.firstExecutedTimestampMs,d.i64.sub(d.i64.mul(e[67],d.i64.cast([0,1e6])),e[13]),e[68]],e[56]=b[0],e[57]=b[1],e[58]=b[2],e[59]=b[3],e[60]=b[4],e[61]=b[5],e[62]=b[6],b)})},function(a){return e[64]=new d.Map(),e[64].set("task_id",e[56]),e[64].set("queue_name",e[57]),e[64].set("enqueue_timestamp_ms",e[58]),e[64].set("priority",e[59]),e[64].set("first_executed_timestamp_ms",e[60]),e[64].set("execution_time_ns",e[61]),e[64].set("echo_encoding_execution_time_ns",e[62]),e[65]=new d.Map(),e[65].set("task_metadata",e[64]),e[65].set("action_type",e[43]),e[65].set("content_type",e[42]),e[65].set("identifiers",e[36]),e[65].set("task_creation_source",g),e[65].set("message_payload_source",d.i64.cast([0,2])),e[66]=d.createArray(),a=[g,e[51],e[65],e[66]],e[52]=a[0],e[53]=a[1],e[54]=a[2],e[55]=a[3],a}])},function(a){return a=[e[52],e[53],e[54],e[55]],e[37]=a[0],e[38]=a[1],e[39]=a[2],e[40]=a[3],a}]):d.seq([function(b){return d.db.table(2).fetch([[[a[0]]]]).next().then(function(c,f){var b=c.done;c=c.value;return b?(e[60]=d.i64.of_float(Date.now()),d.i64.eq(e[46],d.i64.cast([0,0]))||d.i64.eq(e[46],g)?e[61]=g:e[61]=e[46],b=[a[0],g,g,g,g,d.i64.sub(d.i64.mul(e[60],d.i64.cast([0,1e6])),e[13]),e[61]],e[48]=b[0],e[49]=b[1],e[50]=b[2],e[51]=b[3],e[52]=b[4],e[53]=b[5],e[54]=b[6],b):(f=c.item,e[60]=d.i64.of_float(Date.now()),d.i64.eq(e[46],d.i64.cast([0,0]))||d.i64.eq(e[46],g)?e[61]=g:e[61]=e[46],b=[a[0],f.queueName,f.enqueueTimestampMs,f.priority,f.firstExecutedTimestampMs,d.i64.sub(d.i64.mul(e[60],d.i64.cast([0,1e6])),e[13]),e[61]],e[48]=b[0],e[49]=b[1],e[50]=b[2],e[51]=b[3],e[52]=b[4],e[53]=b[5],e[54]=b[6],b)})},function(a){return e[56]=new d.Map(),e[56].set("task_id",e[48]),e[56].set("queue_name",e[49]),e[56].set("enqueue_timestamp_ms",e[50]),e[56].set("priority",e[51]),e[56].set("first_executed_timestamp_ms",e[52]),e[56].set("execution_time_ns",e[53]),e[56].set("echo_encoding_execution_time_ns",e[54]),e[57]=new d.Map(),e[57].set("task_metadata",e[56]),e[57].set("action_type",e[43]),e[57].set("content_type",e[42]),e[57].set("identifiers",e[36]),e[57].set("task_creation_source",g),e[57].set("message_payload_source",d.i64.cast([0,2])),e[58]=new d.Map(),e[58].set("error_code",e[47]),e[58].set("stored_procedure","LSEncryptedBackupsSerializeBackupPayloadV2StoredProcedure"),e[58].set("error_message",""),e[59]=d.createArray(),a=[g,e[58],e[57],e[59]],e[37]=a[0],e[38]=a[1],e[39]=a[2],e[40]=a[3],a}])},function(a){return a=[e[37],e[38],e[39],e[40]],e[30]=a[0],e[31]=a[1],e[32]=a[2],e[33]=a[3],a}]))})},function(a){return a=[e[30],e[31],e[32],e[33]],e[22]=a[0],e[23]=a[1],e[24]=a[2],e[25]=a[3],a}]):d.seq([function(b){return d.db.table(2).fetch([[[a[0]]]]).next().then(function(c,f){var b=c.done;c=c.value;return b?(e[42]=d.i64.of_float(Date.now()),b=[a[0],g,g,g,g,d.i64.sub(d.i64.mul(e[42],d.i64.cast([0,1e6])),e[13]),g],e[30]=b[0],e[31]=b[1],e[32]=b[2],e[33]=b[3],e[34]=b[4],e[35]=b[5],e[36]=b[6],b):(f=c.item,e[42]=d.i64.of_float(Date.now()),b=[a[0],f.queueName,f.enqueueTimestampMs,f.priority,f.firstExecutedTimestampMs,d.i64.sub(d.i64.mul(e[42],d.i64.cast([0,1e6])),e[13]),g],e[30]=b[0],e[31]=b[1],e[32]=b[2],e[33]=b[3],e[34]=b[4],e[35]=b[5],e[36]=b[6],b)})},function(a){return e[38]=new d.Map(),e[38].set("task_id",e[30]),e[38].set("queue_name",e[31]),e[38].set("enqueue_timestamp_ms",e[32]),e[38].set("priority",e[33]),e[38].set("first_executed_timestamp_ms",e[34]),e[38].set("execution_time_ns",e[35]),e[38].set("echo_encoding_execution_time_ns",e[36]),e[39]=new d.Map(),e[39].set("task_metadata",e[38]),e[39].set("action_type",g),e[39].set("content_type",g),e[39].set("identifiers",g),e[39].set("task_creation_source",g),e[39].set("message_payload_source",d.i64.cast([0,2])),e[40]=new d.Map(),e[40].set("error_code",d.i64.cast([0,24])),e[40].set("stored_procedure","LSEncryptedBackupsSerializeBackupPayloadV2StoredProcedure"),e[40].set("error_message",""),e[41]=d.createArray(),a=[g,e[40],e[39],e[41]],e[22]=a[0],e[23]=a[1],e[24]=a[2],e[25]=a[3],a}])},function(a){return a=[e[22],e[23],e[24],e[25]],e[14]=a[0],e[15]=a[1],e[16]=a[2],e[17]=a[3],a}]))})},function(a){return a=[e[14],e[15],e[16],e[17]],e[2]=a[0],e[3]=a[1],e[4]=a[2],e[5]=a[3],a}]):d.seq([function(b){return d.db.table(2).fetch([[[a[0]]]]).next().then(function(b,c){var f=b.done;b=b.value;return f?(e[26]=d.i64.of_float(Date.now()),f=[a[0],g,g,g,g,d.i64.sub(d.i64.mul(e[26],d.i64.cast([0,1e6])),e[13]),g],e[14]=f[0],e[15]=f[1],e[16]=f[2],e[17]=f[3],e[18]=f[4],e[19]=f[5],e[20]=f[6],f):(c=b.item,e[26]=d.i64.of_float(Date.now()),f=[a[0],c.queueName,c.enqueueTimestampMs,c.priority,c.firstExecutedTimestampMs,d.i64.sub(d.i64.mul(e[26],d.i64.cast([0,1e6])),e[13]),g],e[14]=f[0],e[15]=f[1],e[16]=f[2],e[17]=f[3],e[18]=f[4],e[19]=f[5],e[20]=f[6],f)})},function(a){return e[22]=new d.Map(),e[22].set("task_id",e[14]),e[22].set("queue_name",e[15]),e[22].set("enqueue_timestamp_ms",e[16]),e[22].set("priority",e[17]),e[22].set("first_executed_timestamp_ms",e[18]),e[22].set("execution_time_ns",e[19]),e[22].set("echo_encoding_execution_time_ns",e[20]),e[23]=new d.Map(),e[23].set("task_metadata",e[22]),e[23].set("action_type",g),e[23].set("content_type",g),e[23].set("identifiers",g),e[23].set("task_creation_source",g),e[23].set("message_payload_source",d.i64.cast([0,2])),e[24]=new d.Map(),e[24].set("error_code",d.i64.cast([0,4])),e[24].set("stored_procedure","LSEncryptedBackupsSerializeBackupPayloadV2StoredProcedure"),e[24].set("error_message",""),e[25]=d.createArray(),a=[g,e[24],e[23],e[25]],e[2]=a[0],e[3]=a[1],e[4]=a[2],e[5]=a[3],a}])},function(a){return e[6]=d.i64.of_float(Date.now()),e[8]="Finishing execution. Execution time: ",e[9]=d.i64.to_string(d.i64.sub(e[6],e[0])),e[11]=" ms",e[7]="",function(a){d.logger(a).info(a)}(["[EncryptedBackups][serializeBackupPayloadV2] ",e[7],e[8],e[7],e[9],e[7],e[11]].join("")),e[10]=",",e[12]=d.createArray(),g!==g?e[14]=(e[12].push(g),e[12]):0,d.nop(b("LSLogMebClientEvent.nop"),"serializeBackupPayloadV2",[e[8],e[10],e[9],e[10],e[11]].join(""),e[12],d.i64.cast([0,4]))},function(a){return a=[e[2],e[3],e[4],e[5]],f[0]=a[0],f[1]=a[1],f[2]=a[2],f[3]=a[3],a}])},function(a){return d.resolve(f)}])}d=a;g["default"]=d}),98);
__d("LSTaskSerializerEncryptedBackupsUpload",["LSArrayGetObjectAt","LSLogMebClientEvent.nop","LSSerializeBackupPayloadV2"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(g){return c.seq([function(b){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][taskSerializerEncryptedBackupsUpload] Beginning execution."),d[1]=c.i64.of_float(Date.now()),c.fe(c.db.table(177).fetch([[[a[0]]],"fk_pending_tasks"]),function(a){var b=a.update;a.item;return b({backupStatus:c.i64.cast([0,2])})})},function(e){return c.sp(b("LSSerializeBackupPayloadV2"),a[0]).then(function(a){return a=a,d[2]=a[0],d[3]=a[1],d[4]=a[2],d[5]=a[3],a})},function(a){return d[6]=c.i64.of_int32(d[5].length),c.i64.gt(d[6],c.i64.cast([0,0]))?c.seq([function(a){return c.ntop("Array",b("LSArrayGetObjectAt"),d[5],c.i64.cast([0,0])).then(function(a){return a=a,d[21]=a[0],d[22]=a[1],a})},function(a){return d[7]=d[21]}]):c.resolve(d[7]=f)},function(a){return d[2]?d[8]=!1:d[8]=!0,d[8]?(d[3]?d[21]=!1:d[21]=!0,d[21]?(a=[f,f,d[7],d[4]],d[22]=a[0],d[23]=a[1],d[24]=a[2],d[25]=a[3],a):(a=[f,d[3],d[7],d[4]],d[22]=a[0],d[23]=a[1],d[24]=a[2],d[25]=a[3],a),a=[d[22],d[23],d[24],d[25]],d[9]=a[0],d[10]=a[1],d[11]=a[2],d[12]=a[3],a):(d[21]=d[2].get("payload"),d[2],a=[d[21],f,d[7],d[4]],d[9]=a[0],d[10]=a[1],d[11]=a[2],d[12]=a[3],a),d[21]=new c.Map(),d[22]=d[21].set("success",d[9]),d[23]=d[21].set("failure",d[10]),d[24]=d[21].set("protobuf_failure",d[11]),d[25]=d[21].set("context",d[12]),d[26]=c.toJSON(d[21]),d[13]=d[26],d[14]=c.i64.of_float(Date.now()),d[16]="Finishing execution. Execution time: ",d[17]=c.i64.to_string(c.i64.sub(d[14],d[0])),d[19]=" ms",d[15]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][taskSerializerEncryptedBackupsUpload] ",d[15],d[16],d[15],d[17],d[15],d[19]].join("")),d[18]=",",d[20]=c.createArray(),f!==f?d[21]=(d[20].push(f),d[20]):0,c.nop(b("LSLogMebClientEvent.nop"),"taskSerializerEncryptedBackupsUpload",[d[16],d[18],d[17],d[18],d[19]].join(""),d[20],c.i64.cast([0,4]))},function(a){return a=[d[13],c.i64.cast([0,50026])],e[0]=a[0],e[1]=a[1],a}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSLoadProtobufBackupSerializedPayloadData",["LSArrayGetObjectAt","LSBase64Encode.nop","LSCreateDerivedKeys.nop","LSEncryptIdentifiers","LSGetBlobFromString.nop","LSGetLatestEpochKeys","LSIsEncryptionVersionSecure","LSLoadAndEncryptProtobuf","LSLogMebClientEvent.nop","LSSymmetricEncryptionCreateEncryptedString.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(g){return c.seq([function(b){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][loadProtobufBackupSerializedPayloadData] Beginning execution."),d[1]=c.i64.of_float(Date.now()),d[23]=c.i64.mul(d[1],c.i64.cast([0,1e6])),c.db.table(2).fetch([[[a[0]]]]).next().then(function(b,e){var g=b.done;b=b.value;return g?(d[24]=c.i64.of_float(Date.now()),g=[a[0],f,f,f,f,c.i64.sub(c.i64.mul(d[24],c.i64.cast([0,1e6])),d[23]),f],d[2]=g[0],d[3]=g[1],d[4]=g[2],d[5]=g[3],d[6]=g[4],d[7]=g[5],d[8]=g[6],g):(e=b.item,d[24]=c.i64.of_float(Date.now()),g=[a[0],e.queueName,e.enqueueTimestampMs,e.priority,e.firstExecutedTimestampMs,c.i64.sub(c.i64.mul(d[24],c.i64.cast([0,1e6])),d[23]),f],d[2]=g[0],d[3]=g[1],d[4]=g[2],d[5]=g[3],d[6]=g[4],d[7]=g[5],d[8]=g[6],g)})},function(e){return d[10]=new c.Map(),d[10].set("task_id",d[2]),d[10].set("queue_name",d[3]),d[10].set("enqueue_timestamp_ms",d[4]),d[10].set("priority",d[5]),d[10].set("first_executed_timestamp_ms",d[6]),d[10].set("execution_time_ns",d[7]),d[10].set("echo_encoding_execution_time_ns",d[8]),d[11]=new c.Map(),d[11].set("task_metadata",d[10]),d[11].set("action_type",f),d[11].set("content_type",f),d[11].set("identifiers",f),d[11].set("task_creation_source",f),d[11].set("message_payload_source",c.i64.cast([0,2])),c.islc(c.ftr(c.db.table(168).fetch(),function(a){return c.i64.eq(a.authorityLevel,c.i64.cast([0,80]))||!1}),0,c.i64.to_float(c.i64.cast([0,1]))).next().then(function(e,h){var i=e.done;e=e.value;return i?(d[24]=new c.Map(),d[24].set("error_code",c.i64.cast([0,1])),d[24].set("stored_procedure","LSEncryptedBackupsLoadProtobufBackupSerializedPayloadDataStoredProcedure"),d[24].set("error_message",""),i=[f,d[24],d[11]],d[12]=i[0],d[13]=i[1],d[14]=i[2],i):(h=e.item,c.seq([function(a){return d[32]=h.mailboxRootKeyBlob,d[33]=h.deviceId,d[31]=h.backupTenancy,d[30]=h.encryptionVersion,c.i64.neq(f,f)?c.resolve(d[24]=f):c.seq([function(a){return d[34]=c.createArray(),c.sp(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,0])).then(function(a){return a=a,d[35]=a[0],a})},function(a){return d[35]?d[44]=(d[34].push(c.i64.cast([0,0])),d[34]):0,c.sp(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,2])).then(function(a){return a=a,d[36]=a[0],a})},function(a){return d[36]?d[44]=(d[34].push(c.i64.cast([0,2])),d[34]):0,c.sp(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,3])).then(function(a){return a=a,d[37]=a[0],a})},function(a){return d[37]?d[44]=(d[34].push(c.i64.cast([0,3])),d[34]):0,c.sp(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,4])).then(function(a){return a=a,d[38]=a[0],a})},function(a){return d[38]?d[44]=(d[34].push(c.i64.cast([0,4])),d[34]):0,d[39]=c.createArray(),d[40]=c.i64.of_int32(d[34].length),c.i64.gt(d[40],c.i64.cast([0,0]))?c.loopAsync(d[40],function(a){return d[44]=a,c.seq([function(a){return c.ntop("Array",b("LSArrayGetObjectAt"),d[34],d[44]).then(function(a){return a=a,d[45]=a[0],d[46]=a[1],a})},function(a){return d[47]=(d[39].push(d[45]),d[39])}])}):c.resolve()},function(a){return c.seq([function(a){return d[44]=c.createArray(),d[45]=c.i64.of_int32(d[39].length),c.i64.gt(d[45],c.i64.cast([0,0]))?c.loopAsync(d[45],function(a){return d[47]=a,c.seq([function(a){return c.ntop("Array",b("LSArrayGetObjectAt"),d[39],d[47]).then(function(a){return a=a,d[48]=a[0],d[49]=a[1],a})},function(a){return d[50]=(d[44].push(c.i64.to_string(d[48])),d[44])}])}):c.resolve()},function(a){return d[46]=d[44].join(","),d[41]=d[46]}])},function(a){return d[39].some(function(a){return c.i64.eq(d[30],a)})?d[42]=d[30]:d[42]=f,c.i64.neq(d[42],f)?d[43]=d[42]:d[43]=f,d[24]=d[43]}])},function(e){return c.i64.neq(d[24],f)?d[25]=d[24]:d[25]=c.i64.cast([0,0]),c.i64.neq(d[31],f)?d[26]=d[31]:d[26]=c.i64.cast([0,1]),c.i64.neq(d[33],f)?c.seq([function(e){return c.ftr(c.db.table(305).fetch(),function(b){return c.i64.eq(b.pendingBackupTaskId,a[0])}).next().then(function(j,k){var e=j.done;j=j.value;return e?(d[38]=new c.Map(),d[38].set("error_code",c.i64.cast([0,5])),d[38].set("stored_procedure","LSEncryptedBackupsLoadProtobufBackupSerializedPayloadDataStoredProcedure"),d[38].set("error_message",""),e=[f,d[38],d[11]],d[34]=e[0],d[35]=e[1],d[36]=e[2],e):(k=j.item,c.seq([function(b){return d[56]=k.actThreadId,d[38]=new c.Map(),d[38].set("backup_id",c.i64.to_string(h.backupId)),d[38].set("act_thread_id",d[56]),d[38].set("server_thread_id",d[56]),d[38].set("timestamp",c.i64.to_string(k.messageTimestampMs)),d[38].set("otid",k.toplevelOfflineThreadingId),c.db.table(2).fetch([[[a[0]]]]).next().then(function(e,g){var b=e.done;e=e.value;return b?(d[57]=c.i64.of_float(Date.now()),b=[a[0],f,f,f,f,c.i64.sub(c.i64.mul(d[57],c.i64.cast([0,1e6])),d[23]),f],d[39]=b[0],d[40]=b[1],d[41]=b[2],d[42]=b[3],d[43]=b[4],d[44]=b[5],d[45]=b[6],b):(g=e.item,d[57]=c.i64.of_float(Date.now()),b=[a[0],g.queueName,g.enqueueTimestampMs,g.priority,g.firstExecutedTimestampMs,c.i64.sub(c.i64.mul(d[57],c.i64.cast([0,1e6])),d[23]),f],d[39]=b[0],d[40]=b[1],d[41]=b[2],d[42]=b[3],d[43]=b[4],d[44]=b[5],d[45]=b[6],b)})},function(a){return d[47]=new c.Map(),d[47].set("task_id",d[39]),d[47].set("queue_name",d[40]),d[47].set("enqueue_timestamp_ms",d[41]),d[47].set("priority",d[42]),d[47].set("first_executed_timestamp_ms",d[43]),d[47].set("execution_time_ns",d[44]),d[47].set("echo_encoding_execution_time_ns",d[45]),d[48]=new c.Map(),d[48].set("task_metadata",d[47]),d[48].set("action_type",c.i64.cast([0,1])),d[48].set("content_type",c.i64.cast([0,1])),d[48].set("identifiers",d[38]),d[48].set("task_creation_source",f),d[48].set("message_payload_source",c.i64.cast([0,2])),c.sp(b("LSGetLatestEpochKeys"),!1).then(function(a){return a=a,d[49]=a[0],d[50]=a[1],a})},function(a){return d[49]!==f?c.seq([function(a){return c.i64.eq(c.i64.cast([0,1]),c.i64.cast([0,1]))?c.seq([function(a){return d[60]=d[38].get("act_thread_id"),d[38],d[61]=c.createArray(),d[66]=(d[61].push(c.i64.cast([0,32])),d[61]),c.nop(b("LSGetBlobFromString.nop"),["thread_ope_key","_",d[60]].join("")).then(function(a){return a=a,d[62]=a[0],a})},function(a){return c.nop(b("LSCreateDerivedKeys.nop"),d[62],f,d[32],d[61]).then(function(a){return a=a,d[63]=a[0],a})},function(a){return d[63]?d[64]=!1:d[64]=!0,d[64]?c.seq([function(a){return function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBCryptoUtils] Got null keys while deriving message list OPE key. Returning null blobish"),d[66]=c.createArray(),f!==f?d[67]=(d[66].push(f),d[66]):0,c.nop(b("LSLogMebClientEvent.nop"),"MEBCryptoUtils","Got null keys while deriving message list OPE key. Returning null blobish",d[66],c.i64.cast([0,3]))},function(a){return d[65]=f}]):c.seq([function(a){return c.ntop("Array",b("LSArrayGetObjectAt"),d[63],c.i64.cast([0,0])).then(function(a){return a=a,d[66]=a[0],d[67]=a[1],a})},function(a){return d[65]=d[66]}])},function(a){return d[57]=d[65]}]):c.seq([function(a){return c.i64.eq(c.i64.cast([0,1]),c.i64.cast([0,2]))?c.seq([function(a){return d[61]=d[38].get("otid"),d[38],d[62]=c.createArray(),d[67]=(d[62].push(c.i64.cast([0,32])),d[62]),c.nop(b("LSGetBlobFromString.nop"),["thread_ope_key","_",d[61]].join("")).then(function(a){return a=a,d[63]=a[0],a})},function(a){return c.nop(b("LSCreateDerivedKeys.nop"),d[63],f,d[32],d[62]).then(function(a){return a=a,d[64]=a[0],a})},function(a){return d[64]?d[65]=!1:d[65]=!0,d[65]?c.seq([function(a){return function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBCryptoUtils] Got null keys while deriving message list OPE key. Returning null blobish"),d[67]=c.createArray(),f!==f?d[68]=(d[67].push(f),d[67]):0,c.nop(b("LSLogMebClientEvent.nop"),"MEBCryptoUtils","Got null keys while deriving message list OPE key. Returning null blobish",d[67],c.i64.cast([0,3]))},function(a){return d[66]=f}]):c.seq([function(a){return c.ntop("Array",b("LSArrayGetObjectAt"),d[64],c.i64.cast([0,0])).then(function(a){return a=a,d[67]=a[0],d[68]=a[1],a})},function(a){return d[66]=d[67]}])},function(a){return d[60]=d[66]}]):c.resolve(d[60]=f)},function(a){return d[57]=d[60]}])},function(a){return c.blobs.neq(d[57],f)?c.seq([function(a){return d[60]=d[49].get("epoch_keys"),d[49],d[61]=d[60].get("epoch_anon_id"),d[60],d[62]=d[60].get("epoch_root_key"),d[60],d[63]=d[38].get("act_thread_id"),d[38],d[64]=c.createArray(),d[75]=(d[64].push(c.i64.cast([0,32])),d[64]),c.i64.ge(d[25],c.i64.cast([0,3]))?c.resolve(d[65]=f):c.seq([function(a){return c.nop(b("LSGetBlobFromString.nop"),d[63]).then(function(a){return a=a,d[75]=a[0],a})},function(a){return d[65]=d[75]}])},function(a){return c.i64.ge(d[25],c.i64.cast([0,4]))?(d[75]="_",d[66]=["message_key_in_epoch",d[75],c.blobs.to_string(d[61]),d[75],"cipher_version",d[75],c.i64.to_string(d[25]),d[75],"thread",d[75],d[63]==null?"":d[63]].join("")):(c.i64.ge(d[25],c.i64.cast([0,3]))?(d[76]="_",d[75]=["message_key_in_epoch",d[76],c.blobs.to_string(d[61]),d[76],"cipher_version",d[76],c.i64.to_string(d[25]),d[76],"thread",d[76],d[63]==null?"":d[63]].join("")):(c.i64.ge(d[25],c.i64.cast([0,2]))?(d[77]="_",d[76]=["message_key_in_epoch",d[77],c.blobs.to_string(d[61]),d[77],"cipher_version",d[77],c.i64.to_string(d[25])].join("")):d[76]=["message_key_in_epoch","_",c.blobs.to_string(d[61])].join(""),d[75]=d[76]),d[66]=d[75]),c.nop(b("LSGetBlobFromString.nop"),d[66]).then(function(a){return a=a,d[67]=a[0],a})},function(a){return c.nop(b("LSCreateDerivedKeys.nop"),d[67],d[65],d[62],d[64]).then(function(a){return a=a,d[68]=a[0],a})},function(a){return d[68]?d[69]=!1:d[69]=!0,d[69]?c.resolve(d[70]=f):c.seq([function(a){return c.ntop("Array",b("LSArrayGetObjectAt"),d[68],c.i64.cast([0,0])).then(function(a){return a=a,d[75]=a[0],d[76]=a[1],a})},function(a){return d[70]=d[75]}])},function(a){return c.ftr(c.db.table(169).fetch(),function(a){return c.blobs.eq(a.epochAnonIdBlob,c.blob("MA=="))}).next().then(function(e,h){var a=e.done;e=e.value;return a?c.seq([function(a){return function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTableUtils] Failed to get mailbox_root_key_v2: epoch 0 is not available."),d[75]=c.createArray(),f!==f?d[76]=(d[75].push(f),d[75]):0,c.nop(b("LSLogMebClientEvent.nop"),"MEBTableUtils","Failed to get mailbox_root_key_v2: epoch 0 is not available.",d[75],c.i64.cast([0,3]))},function(a){return d[71]=f}]):(h=e.item,c.seq([function(a){return d[75]=c.createArray(),d[83]=(d[75].push(c.i64.cast([0,32])),d[75]),c.nop(b("LSCreateDerivedKeys.nop"),c.blob("a2RmX2luZm86bWFpbGJveF9yb290X2tleT5zYWx0X21haWxib3hfcm9vdF9rZXlfdjI="),f,d[32],d[75]).then(function(a){return a=a,d[76]=a[0],a})},function(a){return d[76]!==f?c.seq([function(a){return d[83]=c.i64.of_int32(d[76].length),c.i64.ge(d[83],c.i64.cast([0,1]))?c.seq([function(a){return c.ntop("Array",b("LSArrayGetObjectAt"),d[76],c.i64.cast([0,0])).then(function(a){return a=a,d[85]=a[0],d[86]=a[1],a})},function(a){return d[84]=d[85]}]):c.seq([function(a){return function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBCryptoUtils] CreateDerivedKeys returned an empty list of keys. This should never happen; aborting dasm VM."),d[85]=c.createArray(),f!==f?d[86]=(d[85].push(f),d[85]):0,c.nop(b("LSLogMebClientEvent.nop"),"MEBCryptoUtils","CreateDerivedKeys returned an empty list of keys. This should never happen; aborting dasm VM.",d[85],c.i64.cast([0,3]))},function(a){return d[84]=f}])},function(a){return d[77]=d[84]}]):c.seq([function(a){return function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBCryptoUtils] CreateDerivedKeys returned null. This should never happen; aborting dasm VM."),d[83]=c.createArray(),f!==f?d[84]=(d[83].push(f),d[83]):0,c.nop(b("LSLogMebClientEvent.nop"),"MEBCryptoUtils","CreateDerivedKeys returned null. This should never happen; aborting dasm VM.",d[83],c.i64.cast([0,3]))},function(a){return d[77]=f}])},function(a){return c.blobs.neq(d[77],f)?d[78]=!0:d[78]=!1,d[78]?0:(function(a){c.logger(a).mustfix(a)}("LS::assert is failed. Attempting to coerce a null value to nonnull."),c["throw"]("LS::assert is failed. Attempting to coerce a null value to nonnull.")),d[79]=c.createArray(),d[83]=(d[79].push(c.i64.cast([0,32])),d[79]),c.nop(b("LSCreateDerivedKeys.nop"),c.blob("a2RmX2luZm86bWFpbGJveF9yb290X2tleT5tYWlsYm94X3Jvb3Rfa2V5X3Yy"),d[77],h.epochRootKeyBlob,d[79]).then(function(a){return a=a,d[80]=a[0],a})},function(a){return d[80]!==f?c.seq([function(a){return d[83]=c.i64.of_int32(d[80].length),c.i64.ge(d[83],c.i64.cast([0,1]))?c.seq([function(a){return c.ntop("Array",b("LSArrayGetObjectAt"),d[80],c.i64.cast([0,0])).then(function(a){return a=a,d[85]=a[0],d[86]=a[1],a})},function(a){return d[84]=d[85]}]):c.seq([function(a){return function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBCryptoUtils] CreateDerivedKeys returned an empty list of keys. This should never happen; aborting dasm VM."),d[85]=c.createArray(),f!==f?d[86]=(d[85].push(f),d[85]):0,c.nop(b("LSLogMebClientEvent.nop"),"MEBCryptoUtils","CreateDerivedKeys returned an empty list of keys. This should never happen; aborting dasm VM.",d[85],c.i64.cast([0,3]))},function(a){return d[84]=f}])},function(a){return d[81]=d[84]}]):c.seq([function(a){return function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBCryptoUtils] CreateDerivedKeys returned null. This should never happen; aborting dasm VM."),d[83]=c.createArray(),f!==f?d[84]=(d[83].push(f),d[83]):0,c.nop(b("LSLogMebClientEvent.nop"),"MEBCryptoUtils","CreateDerivedKeys returned null. This should never happen; aborting dasm VM.",d[83],c.i64.cast([0,3]))},function(a){return d[81]=f}])},function(a){return c.blobs.neq(d[81],f)?d[82]=!0:d[82]=!1,d[82]?0:(function(a){c.logger(a).mustfix(a)}("LS::assert is failed. Attempting to coerce a null value to nonnull."),c["throw"]("LS::assert is failed. Attempting to coerce a null value to nonnull.")),d[71]=d[81]}]))})},function(a){return c.blobs.neq(d[70],f)?c.seq([function(a){return c.blobs.neq(d[71],f)?c.seq([function(a){return d[81]=c.createArray(),d[85]=(d[81].push(c.i64.cast([0,32])),d[81]),c.nop(b("LSCreateDerivedKeys.nop"),c.blob("a2RmX2luZm86bWFpbGJveF9yb290X2tleV92Mj5mYWxsYmFja19rZXk="),f,d[71],d[81]).then(function(a){return a=a,d[82]=a[0],a})},function(a){return d[82]!==f?c.seq([function(a){return d[85]=c.i64.of_int32(d[82].length),c.i64.ge(d[85],c.i64.cast([0,1]))?c.seq([function(a){return c.ntop("Array",b("LSArrayGetObjectAt"),d[82],c.i64.cast([0,0])).then(function(a){return a=a,d[87]=a[0],d[88]=a[1],a})},function(a){return d[86]=d[87]}]):c.seq([function(a){return function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBCryptoUtils] CreateDerivedKeys returned an empty list of keys. This should never happen; aborting dasm VM."),d[87]=c.createArray(),f!==f?d[88]=(d[87].push(f),d[87]):0,c.nop(b("LSLogMebClientEvent.nop"),"MEBCryptoUtils","CreateDerivedKeys returned an empty list of keys. This should never happen; aborting dasm VM.",d[87],c.i64.cast([0,3]))},function(a){return d[86]=f}])},function(a){return d[83]=d[86]}]):c.seq([function(a){return function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBCryptoUtils] CreateDerivedKeys returned null. This should never happen; aborting dasm VM."),d[85]=c.createArray(),f!==f?d[86]=(d[85].push(f),d[85]):0,c.nop(b("LSLogMebClientEvent.nop"),"MEBCryptoUtils","CreateDerivedKeys returned null. This should never happen; aborting dasm VM.",d[85],c.i64.cast([0,3]))},function(a){return d[83]=f}])},function(a){return c.blobs.neq(d[83],f)?d[84]=!0:d[84]=!1,d[84]?0:(function(a){c.logger(a).mustfix(a)}("LS::assert is failed. Attempting to coerce a null value to nonnull."),c["throw"]("LS::assert is failed. Attempting to coerce a null value to nonnull.")),d[75]=d[83]}]):c.resolve(d[75]=f)},function(a){return d[76]=d[60].get("epoch_root_key"),d[60],d[77]=d[60].get("epoch_anon_id"),d[60],d[78]=d[60].get("epoch_id"),d[60],d[79]=new c.Map(),d[79].set("payload_key",d[70]),d[79].set("payload_fallback_key",d[75]),d[79].set("encryption_version",d[25]),d[79].set("epoch_root_key",d[76]),d[79].set("epoch_anon_id",d[77]),d[79].set("epoch_id",d[78]),d[80]=new c.Map(),d[80].set("ope_key",d[57]),d[80].set("message_payload_encryption_keys",d[79]),d[80].set("ocmf_shared_key",h.ocmfClientStateBlob),d[80].set("mailbox_base_salt",d[32]),d[80].set("mailbox_root_key_v2",d[71]),a=[d[80],f],d[73]=a[0],d[74]=a[1],a}]):c.resolve((d[75]=new c.Map(),d[75].set("error_code",c.i64.cast([0,26])),d[75].set("stored_procedure","MEBKeyDeriver"),d[75].set("error_message",""),a=[f,d[75]],d[73]=a[0],d[74]=a[1],a))},function(a){return a=[d[73],d[74]],d[58]=a[0],d[59]=a[1],a}]):c.resolve((d[60]=new c.Map(),d[60].set("error_code",c.i64.cast([0,25])),d[60].set("stored_procedure","MEBKeyDeriver"),d[60].set("error_message",""),a=[f,d[60]],d[58]=a[0],d[59]=a[1],a))},function(a){return a=[d[58],d[59]],d[51]=a[0],d[52]=a[1],a}]):c.resolve((a=[f,d[50]],d[51]=a[0],d[52]=a[1],a))},function(e){return d[51]!==f?c.seq([function(a){return c.sp(b("LSEncryptIdentifiers"),c.i64.cast([0,1]),c.i64.cast([0,1]),d[38],d[51]).then(function(a){return a=a,d[57]=a[0],d[58]=a[1],a})},function(a){return d[59]=d[51].get("message_payload_encryption_keys"),d[51],d[60]=d[59].get("encryption_version"),d[59],d[61]=d[59].get("epoch_anon_id"),d[59],d[62]=d[59].get("epoch_root_key"),d[59],d[63]=d[38].get("act_thread_id"),d[38],d[64]=d[59].get("payload_key"),d[59],d[65]=d[38].get("backup_id"),d[38],d[66]=d[59].get("payload_fallback_key"),d[59],d[67]=c.createArray(),d[99]=(d[67].push(c.i64.cast([0,6])),d[67]),c.nop(b("LSGetBlobFromString.nop"),"epoch_anon_id_debug").then(function(a){return a=a,d[68]=a[0],a})},function(a){return c.nop(b("LSCreateDerivedKeys.nop"),d[68],f,d[61],d[67]).then(function(a){return a=a,d[69]=a[0],a})},function(a){return d[69]?d[70]=!1:d[70]=!0,d[70]?c.resolve(d[71]=""):c.seq([function(a){return c.ntop("Array",b("LSArrayGetObjectAt"),d[69],c.i64.cast([0,0])).then(function(a){return a=a,d[99]=a[0],d[100]=a[1],a})},function(a){return c.nop(b("LSBase64Encode.nop"),d[99]).then(function(a){return a=a,d[101]=a[0],a})},function(a){return d[71]=d[101]==null?"":d[101]}])},function(a){return d[72]=c.createArray(),d[99]=(d[72].push(c.i64.cast([0,6])),d[72]),c.nop(b("LSGetBlobFromString.nop"),"epoch_root_key_debug").then(function(a){return a=a,d[73]=a[0],a})},function(a){return c.nop(b("LSCreateDerivedKeys.nop"),d[73],f,d[62],d[72]).then(function(a){return a=a,d[74]=a[0],a})},function(a){return d[74]?d[75]=!1:d[75]=!0,d[75]?c.resolve(d[76]=""):c.seq([function(a){return c.ntop("Array",b("LSArrayGetObjectAt"),d[74],c.i64.cast([0,0])).then(function(a){return a=a,d[99]=a[0],d[100]=a[1],a})},function(a){return c.nop(b("LSBase64Encode.nop"),d[99]).then(function(a){return a=a,d[101]=a[0],a})},function(a){return d[76]=d[101]==null?"":d[101]}])},function(a){return d[77]=c.createArray(),d[99]=(d[77].push(c.i64.cast([0,6])),d[77]),c.nop(b("LSGetBlobFromString.nop"),"message_key_debug").then(function(a){return a=a,d[78]=a[0],a})},function(a){return c.nop(b("LSCreateDerivedKeys.nop"),d[78],f,d[64],d[77]).then(function(a){return a=a,d[79]=a[0],a})},function(a){return d[79]?d[80]=!1:d[80]=!0,d[80]?c.resolve(d[81]=""):c.seq([function(a){return c.ntop("Array",b("LSArrayGetObjectAt"),d[79],c.i64.cast([0,0])).then(function(a){return a=a,d[99]=a[0],d[100]=a[1],a})},function(a){return c.nop(b("LSBase64Encode.nop"),d[99]).then(function(a){return a=a,d[101]=a[0],a})},function(a){return d[81]=d[101]==null?"":d[101]}])},function(a){return c.nop(b("LSBase64Encode.nop"),d[62]).then(function(a){return a=a,d[82]=a[0],a})},function(a){return c.nop(b("LSGetBlobFromString.nop"),[d[82]==null?"":d[82],d[63]].join("")).then(function(a){return a=a,d[83]=a[0],a})},function(a){return d[84]=c.createArray(),d[99]=(d[84].push(c.i64.cast([0,6])),d[84]),c.nop(b("LSGetBlobFromString.nop"),"epoch_root_key_thread_id_debug").then(function(a){return a=a,d[85]=a[0],a})},function(a){return c.nop(b("LSCreateDerivedKeys.nop"),d[85],f,d[83],d[84]).then(function(a){return a=a,d[86]=a[0],a})},function(a){return d[86]?d[87]=!1:d[87]=!0,d[87]?c.resolve(d[88]=""):c.seq([function(a){return c.ntop("Array",b("LSArrayGetObjectAt"),d[86],c.i64.cast([0,0])).then(function(a){return a=a,d[99]=a[0],d[100]=a[1],a})},function(a){return c.nop(b("LSBase64Encode.nop"),d[99]).then(function(a){return a=a,d[101]=a[0],a})},function(a){return d[88]=d[101]==null?"":d[101]}])},function(a){return d[89]=":",d[98]=[d[71],d[89],d[76],d[89],d[81],d[89],d[88]].join(""),c.blobs.neq(d[62],f)?c.seq([function(a){return d[99]=c.createArray(),d[105]=(d[99].push(c.i64.cast([0,18])),d[99]),c.nop(b("LSCreateDerivedKeys.nop"),c.blob("bWViL2RlYnVnL2ZpbmdlcnByaW50L01FQkVwb2NoUm9vdEtleQ=="),f,d[62],d[99]).then(function(a){return a=a,d[100]=a[0],a})},function(a){return d[100]!==f?c.seq([function(a){return d[105]=c.i64.of_int32(d[100].length),c.i64.ge(d[105],c.i64.cast([0,1]))?c.seq([function(a){return c.ntop("Array",b("LSArrayGetObjectAt"),d[100],c.i64.cast([0,0])).then(function(a){return a=a,d[107]=a[0],d[108]=a[1],a})},function(a){return d[106]=d[107]}]):c.seq([function(a){return function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBFingerprint] CreateDerivedKeys returned an empty list of keys. This should never happen; aborting dasm VM."),d[107]=c.createArray(),f!==f?d[108]=(d[107].push(f),d[107]):0,c.nop(b("LSLogMebClientEvent.nop"),"MEBFingerprint","CreateDerivedKeys returned an empty list of keys. This should never happen; aborting dasm VM.",d[107],c.i64.cast([0,3]))},function(a){return d[106]=f}])},function(a){return d[101]=d[106]}]):c.seq([function(a){return function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBFingerprint] CreateDerivedKeys returned null. This should never happen; aborting dasm VM."),d[105]=c.createArray(),f!==f?d[106]=(d[105].push(f),d[105]):0,c.nop(b("LSLogMebClientEvent.nop"),"MEBFingerprint","CreateDerivedKeys returned null. This should never happen; aborting dasm VM.",d[105],c.i64.cast([0,3]))},function(a){return d[101]=f}])},function(a){return c.blobs.neq(d[101],f)?d[102]=!0:d[102]=!1,d[102]?0:(function(a){c.logger(a).mustfix(a)}("LS::assert is failed. Attempting to coerce a null value to nonnull."),c["throw"]("LS::assert is failed. Attempting to coerce a null value to nonnull.")),c.nop(b("LSBase64Encode.nop"),d[101]).then(function(a){return a=a,d[103]=a[0],a})},function(a){return d[103]!==f?d[104]=d[103]:d[104]="encodingfailed",d[90]=d[104]}]):c.resolve(d[90]="null")},function(a){return c.nop(b("LSBase64Encode.nop"),d[61]).then(function(a){return a=a,d[91]=a[0],a})},function(a){return d[97]=d[91]==null?"":d[91],c.blobs.neq(d[66],f)?c.seq([function(a){return function(a){c.logger(a).info(a)}("[EncryptedBackups][MEBSerializationUtils] Including fallback encrypted epoch key in value_secret_ref."),c.nop(b("LSBase64Encode.nop"),d[62]).then(function(a){return a=a,d[99]=a[0],a})},function(a){return c.nop(b("LSSymmetricEncryptionCreateEncryptedString.nop"),d[66],c.blob("ZmFsbGJhY2tfZW5jcnlwdGVkX2Vwb2NoX2tleQ=="),d[99]==null?"":d[99]).then(function(a){return a=a,d[100]=a[0],a})},function(a){return d[100]!==f?d[101]=d[100]:d[101]="",d[102]=new c.Map(),d[102].set("encryption_version",d[60]),d[102].set("epoch_anon_id",d[97]),d[102].set("message_encryption_values",d[98]),d[102].set("fallback_encrypted_epoch_key",d[101]),d[102].set("root_key_fingerprint",d[90]),d[102].set("backup_id",d[65]),d[92]=d[102]}]):c.resolve((d[99]=new c.Map(),d[99].set("encryption_version",d[60]),d[99].set("epoch_anon_id",d[97]),d[99].set("message_encryption_values",d[98]),d[99].set("root_key_fingerprint",d[90]),d[99].set("backup_id",d[65]),d[92]=d[99]))},function(e){return d[93]=c.toJSON(d[92]),d[57]!==f?c.seq([function(e){return c.sp(b("LSLoadAndEncryptProtobuf"),a[0],d[51],d[38]).then(function(a){return a=a,d[99]=a[0],d[100]=a[1],a})},function(a){return d[99]!==f?(d[104]=new c.Map(),d[104].set("protobuf_backup_payload",d[99]),d[104].set("encrypted_identifiers",d[57]),d[104].set("device_id",d[33]),d[104].set("identifiers",d[38]),d[104].set("encryption_keys",d[51]),d[104].set("content_type",c.i64.cast([0,1])),d[104].set("action_type",c.i64.cast([0,1])),d[104].set("value_secret_ref",d[93]),d[104].set("attachment_backup_payload",k.attachmentPayload),a=[d[104],f,d[48]],d[101]=a[0],d[102]=a[1],d[103]=a[2],a):(a=[f,d[100],d[48]],d[101]=a[0],d[102]=a[1],d[103]=a[2],a),a=[d[101],d[102],d[103]],d[94]=a[0],d[95]=a[1],d[96]=a[2],a}]):c.resolve((e=[f,d[58],d[48]],d[94]=e[0],d[95]=e[1],d[96]=e[2],e))},function(a){return a=[d[94],d[95],d[96]],d[53]=a[0],d[54]=a[1],d[55]=a[2],a}]):c.resolve((e=[f,d[52],d[48]],d[53]=e[0],d[54]=e[1],d[55]=e[2],e))},function(a){return a=[d[53],d[54],d[55]],d[34]=a[0],d[35]=a[1],d[36]=a[2],a}]))})},function(a){return a=[d[34],d[35],d[36]],d[27]=a[0],d[28]=a[1],d[29]=a[2],a}]):c.resolve((d[34]=new c.Map(),d[34].set("error_code",c.i64.cast([0,24])),d[34].set("stored_procedure","LSEncryptedBackupsLoadProtobufBackupSerializedPayloadDataStoredProcedure"),d[34].set("error_message",""),e=[f,d[34],d[11]],d[27]=e[0],d[28]=e[1],d[29]=e[2],e))},function(a){return a=[d[27],d[28],d[29]],d[12]=a[0],d[13]=a[1],d[14]=a[2],a}]))})},function(a){return d[16]=c.i64.of_float(Date.now()),d[18]="Finishing execution. Execution time: ",d[19]=c.i64.to_string(c.i64.sub(d[16],d[0])),d[21]=" ms",d[17]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][loadProtobufBackupSerializedPayloadData] ",d[17],d[18],d[17],d[19],d[17],d[21]].join("")),d[20]=",",d[22]=c.createArray(),f!==f?d[24]=(d[22].push(f),d[22]):0,c.nop(b("LSLogMebClientEvent.nop"),"loadProtobufBackupSerializedPayloadData",[d[18],d[20],d[19],d[20],d[21]].join(""),d[22],c.i64.cast([0,4]))},function(a){return a=[d[12],d[13],d[14]],e[0]=a[0],e[1]=a[1],e[2]=a[2],a}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSTaskSerializerEncryptedBackupsUploadProtobufOnly",["LSBase64Encode.nop","LSLoadProtobufBackupSerializedPayloadData","LSLogMebClientEvent.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(g){return c.seq([function(e){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][taskSerializerEncryptedBackupsUploadProtobufOnly] Beginning execution."),d[1]=c.i64.of_float(Date.now()),c.sp(b("LSLoadProtobufBackupSerializedPayloadData"),a[0]).then(function(a){return a=a,d[2]=a[0],d[3]=a[1],d[4]=a[2],a})},function(a){return d[2]!==f?c.seq([function(a){return d[16]=d[2].get("encrypted_identifiers"),d[2],d[17]=d[2].get("identifiers"),d[2],d[18]=d[2].get("encryption_keys"),d[2],d[19]=d[2].get("protobuf_backup_payload"),d[2],d[20]=d[16].get("act_thread_id_ocmf_partial"),d[16],d[21]=d[16].get("otid_ocmf_partial"),d[16],d[22]=d[16].get("timestamp_encrypted"),d[16],d[23]=new c.Map(),d[23].set("list_key",d[20]),d[23].set("unique_key",d[21]),d[23].set("sort_key",d[22]),d[24]=d[2].get("value_secret_ref"),d[2],d[25]=new c.Map(),d[25].set("value",""),d[25].set("value_secret_ref",d[24]),d[26]=d[2].get("action_type"),d[2],d[27]=new c.Map(),d[27].set("list_item_id",d[23]),d[27].set("list_item",d[25]),d[27].set("action_type",d[26]),d[28]=d[17].get("server_thread_id"),d[17],d[29]=d[17].get("timestamp"),d[17],d[30]=d[17].get("otid"),d[17],d[31]=d[17].get("act_thread_id"),d[17],d[32]=new c.Map(),d[32].set("server_thread_key",d[28]),d[32].set("timestamp",d[29]),d[32].set("otid",d[30]),d[32].set("wa_thread_id",c.i64.from_string(d[31])),d[33]=d[18].get("mailbox_base_salt"),d[18],c.nop(b("LSBase64Encode.nop"),d[33]).then(function(a){return a=a,d[34]=a[0],a})},function(a){return d[35]=d[18].get("ocmf_shared_key"),d[18],c.nop(b("LSBase64Encode.nop"),d[35]).then(function(a){return a=a,d[36]=a[0],a})},function(a){return d[37]=new c.Map(),d[37].set("mailbox_root_key",d[34]==null?"":d[34]),d[37].set("ocmf_client_state_blob",d[36]==null?"":d[36]),d[38]=d[16].get("backup_id_ocmf_partial"),d[16],d[39]=d[2].get("device_id"),d[2],d[40]=d[18].get("message_payload_encryption_keys"),d[18],d[41]=d[40].get("epoch_id"),d[40],d[42]=d[18].get("message_payload_encryption_keys"),d[18],d[43]=d[42].get("encryption_version"),d[42],d[44]=d[2].get("content_type"),d[2],d[45]=new c.Map(),d[45].set("mailbox_partial_id",d[38]),d[45].set("action",d[27]),d[45].set("device_id",d[39]),d[45].set("echo_version",c.i64.cast([0,0])),d[45].set("epoch_id",d[41]),d[45].set("trace_id",f),d[45].set("encryption_version",d[43]),d[45].set("is_thread",c.i64.eq(d[44],c.i64.cast([0,2]))),d[45].set("raw_identifiers",d[32]),d[45].set("raw_tokens",d[37]),d[45].set("request_id",""),d[45].set("is_instamadillo",!0),d[46]=d[19].get("supplemental_data_encrypted"),d[19],d[46]!==f?c.seq([function(a){return d[50]=d[19].get("protobuf_encrypted"),d[19],d[51]=d[19].get("backup_action"),d[19],d[52]=d[19].get("timestamp_ms"),d[19],d[53]=d[46].get("sk_ciphertext"),d[46],c.nop(b("LSBase64Encode.nop"),d[53]).then(function(a){return a=a,d[54]=a[0],a})},function(a){return d[55]=d[46].get("sk_hash"),d[46],c.nop(b("LSBase64Encode.nop"),d[55]).then(function(a){return a=a,d[56]=a[0],a})},function(a){return d[57]=d[19].get("message_tags"),d[19],d[58]=new c.Map(),d[58].set("supplementary_data_key",f),d[58].set("encrypted_protobuf",d[50]),d[58].set("key_value_backup_action",d[51]),d[58].set("protobuf_ts_ms",d[52]),d[58].set("supplemental_key_ciphertext",d[54]),d[58].set("supplemental_key_hash",d[56]),d[58].set("message_tags",d[57]),d[47]=d[58]}]):c.resolve((d[50]=d[19].get("protobuf_encrypted"),d[19],d[51]=d[19].get("backup_action"),d[19],d[52]=d[19].get("timestamp_ms"),d[19],d[53]=d[19].get("message_tags"),d[19],d[54]=new c.Map(),d[54].set("supplementary_data_key",f),d[54].set("encrypted_protobuf",d[50]),d[54].set("key_value_backup_action",d[51]),d[54].set("protobuf_ts_ms",d[52]),d[54].set("message_tags",d[53]),d[47]=d[54]))},function(a){return d[45].set("key_value_backup_payload",d[47]),d[48]=d[2].get("attachment_backup_payload"),d[2],d[48]!==f?d[45].set("attachment_backup_payload",d[48]):0,d[49]=c.toJSON(d[45]),a=[d[49],f,d[4]],d[5]=a[0],d[6]=a[1],d[7]=a[2],a}]):c.resolve((d[3]?d[16]=!1:d[16]=!0,d[16]?(a=[f,f,d[4]],d[17]=a[0],d[18]=a[1],d[19]=a[2],a):(a=[f,d[3],d[4]],d[17]=a[0],d[18]=a[1],d[19]=a[2],a),a=[d[17],d[18],d[19]],d[5]=a[0],d[6]=a[1],d[7]=a[2],a))},function(a){return d[16]=new c.Map(),d[17]=d[16].set("success",d[5]),d[18]=d[16].set("failure",d[6]),d[19]=d[16].set("context",d[7]),d[20]=c.toJSON(d[16]),d[8]=d[20],d[9]=c.i64.of_float(Date.now()),d[11]="Finishing execution. Execution time: ",d[12]=c.i64.to_string(c.i64.sub(d[9],d[0])),d[14]=" ms",d[10]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][taskSerializerEncryptedBackupsUploadProtobufOnly] ",d[10],d[11],d[10],d[12],d[10],d[14]].join("")),d[13]=",",d[15]=c.createArray(),f!==f?d[16]=(d[15].push(f),d[15]):0,c.nop(b("LSLogMebClientEvent.nop"),"taskSerializerEncryptedBackupsUploadProtobufOnly",[d[11],d[13],d[12],d[13],d[14]].join(""),d[15],c.i64.cast([0,4]))},function(a){return a=[d[8],c.i64.cast([0,50042])],e[0]=a[0],e[1]=a[1],a}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSTaskSerializerMuteThreadV2",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[],e;return b.seq([function(f){return b.seq([function(d){return b.db.table(32).fetch([[[a[0]]]]).next().then(function(d,f){var g=d.done;d=d.value;return g?(c[3]=b.createArray(),c[4]=(c[3].push("TaskSerializerMuteThreadV2: Task ID not found"),c[3]),c[5]=(c[3].push(a[0]),c[3]),c[6]=b.toJSON(c[3]),function(a){b.logger(a).mustfix(a)}(c[6]),g=[e,e],c[0]=g[0],c[1]=g[1],g):(f=d.item,b.seq([function(a){return c[6]=f.threadKey,b.db.table(9).fetch([[[c[6]]]]).next().then(function(d,f){var a=d.done;d=d.value;return a?(c[7]=b.createArray(),c[8]=(c[7].push("TaskSerializerMuteThreadV2: Thread not found"),c[7]),c[9]=(c[7].push(c[6]),c[7]),c[10]=b.toJSON(c[7]),function(a){b.logger(a).mustfix(a)}(c[10]),a=[e,e],c[3]=a[0],c[4]=a[1],a):(f=d.item,b.seq([function(a){return b.db.table(9).fetch([[[c[6]]]]).next().then(function(d,f){var a=d.done;d=d.value;return a?c[7]=b.i64.cast([0,1]):(f=d.item,c[12]=f.syncGroup,b.i64.neq(c[12],e)?c[11]=c[12]:c[11]=b.i64.cast([0,1]),c[7]=c[11])})},function(a){return c[9]=new b.Map(),c[9].set("thread_key",c[6]),c[9].set("mailbox_type",b.i64.cast([0,0])),c[9].set("mute_expire_time_ms",f.muteExpireTimeMs),c[9].set("sync_group",c[7]),c[10]=b.toJSON(c[9]),a=[c[10],b.i64.cast([0,144])],c[3]=a[0],c[4]=a[1],a}]))})},function(a){return a=[c[3],c[4]],c[0]=a[0],c[1]=a[1],a}]))})},function(a){return a=[c[0],c[1]],d[0]=a[0],d[1]=a[1],a}])},function(a){return b.resolve(d)}])}b=a;f["default"]=b}),66);
__d("LSTaskSerializerRemoveThread",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[],e;return b.seq([function(f){return b.seq([function(d){return b.db.table(32).fetch([[[a[0]]]]).next().then(function(d,f){var g=d.done;d=d.value;return g?(c[3]=b.createArray(),c[4]=(c[3].push("TaskSerializerRemoveThreadV2: Task ID not found"),c[3]),c[5]=(c[3].push(a[0]),c[3]),c[6]=b.toJSON(c[3]),function(a){b.logger(a).mustfix(a)}(c[6]),g=[e,e],c[0]=g[0],c[1]=g[1],g):(f=d.item,c[5]=f.removeType,b.i64.neq(c[5],e)?(c[6]=new b.Map(),c[6].set("thread_key",f.threadKey),c[6].set("remove_type",c[5]),c[6].set("sync_group",f.syncGroup==null?b.i64.cast([0,1]):f.syncGroup),c[7]=b.toJSON(c[6]),g=[c[7],b.i64.cast([0,146])],c[3]=g[0],c[4]=g[1],g):(d=[e,e],c[3]=d[0],c[4]=d[1],d),f=[c[3],c[4]],c[0]=f[0],c[1]=f[1],f)})},function(a){return a=[c[0],c[1]],d[0]=a[0],d[1]=a[1],a}])},function(a){return b.resolve(d)}])}b=a;f["default"]=b}),66);
__d("LSTaskSerializerSendMessageV2",["LSSymmetricEncryptionCreateEncryptedString.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[],e;return b.seq([function(f){return b.seq([function(d){return b.db.table(31).fetch([[[a[0]]]]).next().then(function(d,f){var g=d.done;d=d.value;return g?(c[3]=b.createArray(),c[4]=(c[3].push("task ID not found"),c[3]),c[5]=(c[3].push(a[0]),c[3]),c[6]=b.toJSON(c[3]),function(a){b.logger(a).mustfix(a)}(c[6]),g=[e,e],c[0]=g[0],c[1]=g[1],g):(f=d.item,b.seq([function(d){return c[9]=f.offlineThreadingId,c[10]=f.messageId,c[17]=f.threadAttributionSource,c[7]=f.platformRef,c[8]=f.platformToken,c[6]=f.replySourceId,c[11]=f.replySourceType,c[16]=f.sendType,c[12]=f.initiatingSource,c[13]=f.skipUrlPreviewGen,c[14]=f.textHasLinks,c[15]=f.multitabEnv,b.db.table(12).fetch([[[c[9]]],"optimistic"]).next().then(function(f,h){var d=f.done;f=f.value;return d?(c[18]=b.createArray(),c[19]=(c[18].push("OTID not found"),c[18]),c[20]=(c[18].push(c[9]),c[18]),c[21]=b.toJSON(c[18]),function(a){b.logger(a).mustfix(a)}(c[21]),d=[e,e],c[3]=d[0],c[4]=d[1],d):(h=f.item,b.seq([function(d){return c[24]=h.text,c[21]=h.threadKey,c[25]=h.messageId,c[23]=h.stickerId,c[27]=h.mentionOffsets,c[28]=h.mentionLengths,c[22]=h.mentionIds,c[29]=h.mentionTypes,c[32]=h.replyType,c[30]=h.isForwarded,c[26]=h.forwardScore,c[31]=h.hotEmojiSize,b.db.table(9).fetch([[[c[21]]]]).next().then(function(f,i){var d=f.done;f=f.value;return d?(c[33]=b.createArray(),c[34]=(c[33].push("thread not found"),c[33]),c[35]=(c[33].push(c[21]),c[33]),c[36]=b.toJSON(c[33]),function(a){b.logger(a).mustfix(a)}(c[36]),d=[e,e],c[18]=d[0],c[19]=d[1],d):(i=f.item,b.seq([function(d){return c[38]=i.threadName,c[33]=i.threadType,b.db.table(2).fetch([[[a[0]]]]).next().then(function(e,f){var d=e.done;e=e.value;return d?c[34]=!1:(f=e.item,b.seq([function(d){return b.islc(b.db.table(2).fetch([[[f.queueName]],"queueNameTaskId"]),0,b.i64.to_float(b.i64.cast([0,1]))).next().then(function(e,f){var d=e.done;e=e.value;return d?c[39]=!1:(f=e.item,c[39]=b.i64.eq(f.taskId,a[0]))})},function(a){return c[34]=c[39]}]))})},function(a){return b.i64.eq(i.authorityLevel,b.i64.cast([0,20]))&&(b.i64.eq(c[33],b.i64.cast([0,2]))||b.i64.eq(c[33],b.i64.cast([0,5]))||b.i64.eq(c[33],b.i64.cast([0,26])))&&c[34]?b.seq([function(a){return c[42]=c[16]==null?b.i64.cast([0,1]):c[16],b.db.table(9).fetch([[[c[21]]]]).next().then(function(d,f){var a=d.done;d=d.value;return a?c[39]=b.i64.cast([0,1]):(f=d.item,c[54]=f.syncGroup,b.i64.neq(c[54],e)?c[53]=c[54]:c[53]=b.i64.cast([0,1]),c[39]=c[53])})},function(a){return c[41]=new b.Map(),c[41].set("thread_id",c[21]),c[41].set("otid",c[9]),c[41].set("source",c[17]==null?b.i64.cast([0,0]):c[17]),c[41].set("send_type",b.i64.cast([0,1])),c[41].set("sync_group",c[39]),b.i64.eq(c[42],b.i64.cast([0,1]))?b.resolve(c[41].set("text",c[24])):b.i64.eq(c[42],b.i64.cast([0,2]))?b.resolve(b.i64.neq(c[23],e)?(c[41].set("sticker_id",c[23]),c[41].set("send_type",c[42])):0):b.i64.eq(c[42],b.i64.cast([0,7]))?b.seq([function(a){return b.db.table(16).fetch([[[c[21],c[25]]]]).next().then(function(b,d){var a=b.done;b=b.value;return a?(a=[e,e],c[53]=a[0],c[54]=a[1],a):(d=b.item,a=[d.filename,d.attributionAppId],c[53]=a[0],c[54]=a[1],a)})},function(a){return c[53]!==e?b.i64.neq(c[54],e)?(c[41].set("url",c[53]),c[41].set("attribution_app_id",c[54]),c[41].set("send_type",c[42])):0:0}]):b.i64.eq(c[42],b.i64.cast([0,3]))?b.seq([function(a){return c[41].set("text",c[24]),c[53]=b.createArray(),c[54]=b.createArray(),b.fe(b.sb(b.db.table(16).fetch([[[c[21],c[25]]]]),[["attachmentIndex","ASC"]]),function(a){a=a.item;return c[55]=a.offlineAttachmentId,c[56]=(c[53].push(b.i64.from_string(a.attachmentFbid)),c[53]),c[55]!==e?c[56]=(c[54].push(c[55]),c[54]):0})},function(a){return c[41].set("attachment_fbids",c[53]),b.i64.eq(c[42],b.i64.cast([0,9]))?c[41].set("offline_attachment_ids",c[54]):0,c[41].set("send_type",c[42])}]):b.i64.eq(c[42],b.i64.cast([0,9]))?b.seq([function(a){return c[41].set("text",c[24]),c[53]=b.createArray(),c[54]=b.createArray(),b.fe(b.sb(b.db.table(16).fetch([[[c[21],c[25]]]]),[["attachmentIndex","ASC"]]),function(a){a=a.item;return c[55]=a.offlineAttachmentId,c[56]=(c[53].push(b.i64.from_string(a.attachmentFbid)),c[53]),c[55]!==e?c[56]=(c[54].push(c[55]),c[54]):0})},function(a){return c[41].set("attachment_fbids",c[53]),b.i64.eq(c[42],b.i64.cast([0,9]))?c[41].set("offline_attachment_ids",c[54]):0,c[41].set("send_type",c[42])}]):b.i64.eq(c[42],b.i64.cast([0,10]))?b.seq([function(a){return c[41].set("text",c[24]),c[53]=b.createArray(),c[54]=b.createArray(),b.fe(b.sb(b.db.table(16).fetch([[[c[21],c[25]]]]),[["attachmentIndex","ASC"]]),function(a){a=a.item;return c[55]=a.offlineAttachmentId,c[56]=(c[53].push(b.i64.from_string(a.attachmentFbid)),c[53]),c[55]!==e?c[56]=(c[54].push(c[55]),c[54]):0})},function(a){return c[41].set("attachment_fbids",c[53]),b.i64.eq(c[42],b.i64.cast([0,9]))?c[41].set("offline_attachment_ids",c[54]):0,c[41].set("send_type",c[42])}]):b.i64.eq(c[42],b.i64.cast([0,4]))?b.seq([function(a){return b.db.table(16).fetch([[[c[21],c[25]]]]).next().then(function(b,d){var a=b.done;b=b.value;return a?c[53]=e:(d=b.item,c[53]=d.attachmentFbid)})},function(a){return b.db.table(16).fetch([[[c[21],c[25]]]]).next().then(function(b,d){var a=b.done;b=b.value;return a?c[55]=e:(d=b.item,c[55]=d.actionUrl)})},function(a){return c[53]!==e?(c[41].set("text",c[24]),c[55]!==e?c[41].set("url",c[55]):0,c[41].set("forwarded_share_id",c[53]),c[41].set("send_type",c[42])):0}]):b.i64.eq(c[42],b.i64.cast([0,5]))?b.resolve(c[10]!==e?(c[41].set("forwarded_msg_id",c[10]),c[41].set("send_type",c[42]),b.i64.neq(c[26],e)?c[41].set("forward_score",c[26]):0,c[41].set("strip_forwarded_msg_caption",!1)):0):b.i64.eq(c[42],b.i64.cast([0,6]))?b.seq([function(a){return b.db.table(16).fetch([[[c[21],c[25]]]]).next().then(function(b,d){var a=b.done;b=b.value;return a?(a=[e,e],c[53]=a[0],c[54]=a[1],a):(d=b.item,a=[d.filename,d.attributionAppId],c[53]=a[0],c[54]=a[1],a)})},function(a){return c[53]!==e?(c[41].set("url",c[53]),c[41].set("text",c[24]),c[41].set("send_type",c[42])):0}]):b.i64.eq(c[42],b.i64.cast([0,11]))?b.seq([function(a){return b.db.table(16).fetch([[[c[21],c[25]]]]).next().then(function(b,d){var a=b.done;b=b.value;return a?(a=[e,e],c[53]=a[0],c[54]=a[1],a):(d=b.item,a=[d.actionUrl,d.attributionAppId],c[53]=a[0],c[54]=a[1],a)})},function(a){return c[53]!==e?(c[41].set("url",c[53]),c[41].set("send_type",c[42])):0}]):b.resolve(0)},function(a){return c[49]=c[6]===""?e:c[6],c[49]!==e?b.i64.neq(c[11],e)?(c[53]=new b.Map(),c[53].set("reply_source_id",c[49]),c[53].set("reply_source_type",c[11]),c[53].set("reply_type",c[32]==null?b.i64.cast([0,0]):c[32]),c[41].set("reply_metadata",c[53])):0:0,c[50]=c[22]===""?e:c[22],c[50]!==e?(c[53]=c[27]===""?e:c[27],c[53]!==e?(c[54]=c[28]===""?e:c[28],c[54]!==e?(c[55]=new b.Map(),c[55].set("mention_ids",c[50]),c[55].set("mention_offsets",c[53]),c[55].set("mention_lengths",c[54]),c[55].set("mention_types",c[29]===""?e:c[29]),c[41].set("mention_data",c[55])):0):0):0,c[30]!==e?c[41].set("is_forwarded",c[30]):0,c[51]=c[7]===""?e:c[7],c[51]!==e?c[41].set("platform_ref",c[51]):0,c[52]=c[8]===""?e:c[8],c[52]!==e?c[41].set("platform_token",c[52]):0,[b.i64.cast([0,1]),b.i64.cast([0,2])].some(function(a){return b.i64.eq(c[42],a)})?b.i64.neq(c[31],e)?c[41].set("hot_emoji_size",c[31]):0:0,b.i64.neq(c[12],e)?c[41].set("initiating_source",c[12]):0,c[13]!==e?c[41].set("skip_url_preview_gen",c[13]):0,b.resolve()},function(a){return c[14]!==e?c[41].set("text_has_links",c[14]):0,c[15]!==e?c[41].set("multitab_env",c[15]):0,c[43]=b.createArray(),b.fe(b.db.table(14).fetch([[[c[21]]]]),function(a){a=a.item;return c[53]=(c[43].push(a.contactId),c[43])})},function(a){return c[44]=new b.Map(),c[44].set("participants",c[43]),c[44].set("send_payload",c[41]),c[38]!==e?c[44].set("thread_name",c[38]):0,b.db.table(312).fetch([[[c[21]]]]).next().then(function(b,d){var a=b.done;b=b.value;return a?c[45]=e:(d=b.item,c[45]=d.metadata)})},function(a){return c[44].set("thread_metadata",c[45]),b.fe(b.db.table(9).fetch([[[i.threadKey]]]),function(a){var b=a.update;a.item;return b({otidOfFirstMessage:h.offlineThreadingId})})},function(a){return c[45]===e||!1?(b.i64.eq(c[33],b.i64.cast([0,5]))||b.i64.eq(c[33],b.i64.cast([0,26]))?(function(a){b.logger(a).mustfix(a)}("For Marketplace & community chat subthreads, thread metadata cannot be null"),a=[e,e],c[53]=a[0],c[54]=a[1],a):(c[55]=b.toJSON(c[44]),a=[c[55],b.i64.cast([0,130])],c[53]=a[0],c[54]=a[1],a),a=[c[53],c[54]],c[47]=a[0],c[48]=a[1],a):(b.i64.eq(c[33],b.i64.cast([0,5]))?(c[55]=b.toJSON(c[44]),a=[c[55],b.i64.cast([0,645])],c[53]=a[0],c[54]=a[1],a):(b.i64.eq(c[33],b.i64.cast([0,26]))?(c[57]=b.toJSON(c[44]),a=[c[57],b.i64.cast([0,696])],c[55]=a[0],c[56]=a[1],a):(c[57]=b.toJSON(c[44]),a=[c[57],b.i64.cast([0,645])],c[55]=a[0],c[56]=a[1],a),a=[c[55],c[56]],c[53]=a[0],c[54]=a[1],a),a=[c[53],c[54]],c[47]=a[0],c[48]=a[1],a),a=[c[47],c[48]],c[36]=a[0],c[37]=a[1],a}]):b.seq([function(a){return c[42]=c[16]==null?b.i64.cast([0,1]):c[16],b.db.table(9).fetch([[[c[21]]]]).next().then(function(d,f){var a=d.done;d=d.value;return a?c[39]=b.i64.cast([0,1]):(f=d.item,c[49]=f.syncGroup,b.i64.neq(c[49],e)?c[48]=c[49]:c[48]=b.i64.cast([0,1]),c[39]=c[48])})},function(a){return c[41]=new b.Map(),c[41].set("thread_id",c[21]),c[41].set("otid",c[9]),c[41].set("source",c[17]==null?b.i64.cast([0,0]):c[17]),c[41].set("send_type",b.i64.cast([0,1])),c[41].set("sync_group",c[39]),b.i64.eq(c[42],b.i64.cast([0,1]))?b.resolve(c[41].set("text",c[24])):b.i64.eq(c[42],b.i64.cast([0,2]))?b.resolve(b.i64.neq(c[23],e)?(c[41].set("sticker_id",c[23]),c[41].set("send_type",c[42])):0):b.i64.eq(c[42],b.i64.cast([0,7]))?b.seq([function(a){return b.db.table(16).fetch([[[c[21],c[25]]]]).next().then(function(b,d){var a=b.done;b=b.value;return a?(a=[e,e],c[48]=a[0],c[49]=a[1],a):(d=b.item,a=[d.filename,d.attributionAppId],c[48]=a[0],c[49]=a[1],a)})},function(a){return c[48]!==e?b.i64.neq(c[49],e)?(c[41].set("url",c[48]),c[41].set("attribution_app_id",c[49]),c[41].set("send_type",c[42])):0:0}]):b.i64.eq(c[42],b.i64.cast([0,3]))?b.seq([function(a){return c[41].set("text",c[24]),c[48]=b.createArray(),c[49]=b.createArray(),b.fe(b.sb(b.db.table(16).fetch([[[c[21],c[25]]]]),[["attachmentIndex","ASC"]]),function(a){a=a.item;return c[50]=a.offlineAttachmentId,c[51]=(c[48].push(b.i64.from_string(a.attachmentFbid)),c[48]),c[50]!==e?c[51]=(c[49].push(c[50]),c[49]):0})},function(a){return c[41].set("attachment_fbids",c[48]),b.i64.eq(c[42],b.i64.cast([0,9]))?c[41].set("offline_attachment_ids",c[49]):0,c[41].set("send_type",c[42])}]):b.i64.eq(c[42],b.i64.cast([0,9]))?b.seq([function(a){return c[41].set("text",c[24]),c[48]=b.createArray(),c[49]=b.createArray(),b.fe(b.sb(b.db.table(16).fetch([[[c[21],c[25]]]]),[["attachmentIndex","ASC"]]),function(a){a=a.item;return c[50]=a.offlineAttachmentId,c[51]=(c[48].push(b.i64.from_string(a.attachmentFbid)),c[48]),c[50]!==e?c[51]=(c[49].push(c[50]),c[49]):0})},function(a){return c[41].set("attachment_fbids",c[48]),b.i64.eq(c[42],b.i64.cast([0,9]))?c[41].set("offline_attachment_ids",c[49]):0,c[41].set("send_type",c[42])}]):b.i64.eq(c[42],b.i64.cast([0,10]))?b.seq([function(a){return c[41].set("text",c[24]),c[48]=b.createArray(),c[49]=b.createArray(),b.fe(b.sb(b.db.table(16).fetch([[[c[21],c[25]]]]),[["attachmentIndex","ASC"]]),function(a){a=a.item;return c[50]=a.offlineAttachmentId,c[51]=(c[48].push(b.i64.from_string(a.attachmentFbid)),c[48]),c[50]!==e?c[51]=(c[49].push(c[50]),c[49]):0})},function(a){return c[41].set("attachment_fbids",c[48]),b.i64.eq(c[42],b.i64.cast([0,9]))?c[41].set("offline_attachment_ids",c[49]):0,c[41].set("send_type",c[42])}]):b.i64.eq(c[42],b.i64.cast([0,4]))?b.seq([function(a){return b.db.table(16).fetch([[[c[21],c[25]]]]).next().then(function(b,d){var a=b.done;b=b.value;return a?c[48]=e:(d=b.item,c[48]=d.attachmentFbid)})},function(a){return b.db.table(16).fetch([[[c[21],c[25]]]]).next().then(function(b,d){var a=b.done;b=b.value;return a?c[50]=e:(d=b.item,c[50]=d.actionUrl)})},function(a){return c[48]!==e?(c[41].set("text",c[24]),c[50]!==e?c[41].set("url",c[50]):0,c[41].set("forwarded_share_id",c[48]),c[41].set("send_type",c[42])):0}]):b.i64.eq(c[42],b.i64.cast([0,5]))?b.resolve(c[10]!==e?(c[41].set("forwarded_msg_id",c[10]),c[41].set("send_type",c[42]),b.i64.neq(c[26],e)?c[41].set("forward_score",c[26]):0,c[41].set("strip_forwarded_msg_caption",!1)):0):b.i64.eq(c[42],b.i64.cast([0,6]))?b.seq([function(a){return b.db.table(16).fetch([[[c[21],c[25]]]]).next().then(function(b,d){var a=b.done;b=b.value;return a?(a=[e,e],c[48]=a[0],c[49]=a[1],a):(d=b.item,a=[d.filename,d.attributionAppId],c[48]=a[0],c[49]=a[1],a)})},function(a){return c[48]!==e?(c[41].set("url",c[48]),c[41].set("text",c[24]),c[41].set("send_type",c[42])):0}]):b.i64.eq(c[42],b.i64.cast([0,11]))?b.seq([function(a){return b.db.table(16).fetch([[[c[21],c[25]]]]).next().then(function(b,d){var a=b.done;b=b.value;return a?(a=[e,e],c[48]=a[0],c[49]=a[1],a):(d=b.item,a=[d.actionUrl,d.attributionAppId],c[48]=a[0],c[49]=a[1],a)})},function(a){return c[48]!==e?(c[41].set("url",c[48]),c[41].set("send_type",c[42])):0}]):b.resolve(0)},function(a){return c[44]=c[6]===""?e:c[6],c[44]!==e?b.i64.neq(c[11],e)?(c[48]=new b.Map(),c[48].set("reply_source_id",c[44]),c[48].set("reply_source_type",c[11]),c[48].set("reply_type",c[32]==null?b.i64.cast([0,0]):c[32]),c[41].set("reply_metadata",c[48])):0:0,c[45]=c[22]===""?e:c[22],c[45]!==e?(c[48]=c[27]===""?e:c[27],c[48]!==e?(c[49]=c[28]===""?e:c[28],c[49]!==e?(c[50]=new b.Map(),c[50].set("mention_ids",c[45]),c[50].set("mention_offsets",c[48]),c[50].set("mention_lengths",c[49]),c[50].set("mention_types",c[29]===""?e:c[29]),c[41].set("mention_data",c[50])):0):0):0,c[30]!==e?c[41].set("is_forwarded",c[30]):0,c[46]=c[7]===""?e:c[7],c[46]!==e?c[41].set("platform_ref",c[46]):0,c[47]=c[8]===""?e:c[8],c[47]!==e?c[41].set("platform_token",c[47]):0,[b.i64.cast([0,1]),b.i64.cast([0,2])].some(function(a){return b.i64.eq(c[42],a)})?b.i64.neq(c[31],e)?c[41].set("hot_emoji_size",c[31]):0:0,b.i64.neq(c[12],e)?c[41].set("initiating_source",c[12]):0,c[13]!==e?c[41].set("skip_url_preview_gen",c[13]):0,b.resolve()},function(a){return c[14]!==e?c[41].set("text_has_links",c[14]):0,c[15]!==e?c[41].set("multitab_env",c[15]):0,c[43]=b.toJSON(c[41]),a=[c[43],b.i64.cast([0,46])],c[36]=a[0],c[37]=a[1],a}])},function(a){return a=[c[36],c[37]],c[18]=a[0],c[19]=a[1],a}]))})},function(a){return a=[c[18],c[19]],c[3]=a[0],c[4]=a[1],a}]))})},function(a){return a=[c[3],c[4]],c[0]=a[0],c[1]=a[1],a}]))})},function(a){return a=[c[0],c[1]],d[0]=a[0],d[1]=a[1],a}])},function(a){return b.resolve(d)}])}b=a;f["default"]=b}),66);
__d("LSTaskSerializerUpdateThreadName",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[],e;return b.seq([function(f){return b.seq([function(d){return b.db.table(32).fetch([[[a[0]]]]).next().then(function(d,f){var g=d.done;d=d.value;return g?(c[3]=b.createArray(),c[4]=(c[3].push("taskSerializerUpdateThreadName: Task ID not found"),c[3]),c[5]=(c[3].push(a[0]),c[3]),c[6]=b.toJSON(c[3]),function(a){b.logger(a).mustfix(a)}(c[6]),g=[e,e],c[0]=g[0],c[1]=g[1],g):(f=d.item,b.seq([function(a){return c[6]=f.threadKey,b.db.table(9).fetch([[[c[6]]]]).next().then(function(d,f){var a=d.done;d=d.value;return a?(c[7]=b.createArray(),c[8]=(c[7].push("taskSerializerUpdateThreadName: Thread not found"),c[7]),c[9]=(c[7].push(c[6]),c[7]),c[10]=b.toJSON(c[7]),function(a){b.logger(a).mustfix(a)}(c[10]),a=[e,e],c[3]=a[0],c[4]=a[1],a):(f=d.item,b.seq([function(a){return b.db.table(9).fetch([[[c[6]]]]).next().then(function(d,f){var a=d.done;d=d.value;return a?c[7]=b.i64.cast([0,1]):(f=d.item,c[12]=f.syncGroup,b.i64.neq(c[12],e)?c[11]=c[12]:c[11]=b.i64.cast([0,1]),c[7]=c[11])})},function(a){return c[9]=new b.Map(),c[9].set("thread_key",c[6]),c[9].set("thread_name",f.threadName==null?"":f.threadName),c[9].set("sync_group",c[7]),c[10]=b.toJSON(c[9]),a=[c[10],b.i64.cast([0,32])],c[3]=a[0],c[4]=a[1],a}]))})},function(a){return a=[c[3],c[4]],c[0]=a[0],c[1]=a[1],a}]))})},function(a){return a=[c[0],c[1]],d[0]=a[0],d[1]=a[1],a}])},function(a){return b.resolve(d)}])}b=a;f["default"]=b}),66);
__d("LSSerializeTask",["LSTaskSerializerAcsIssueNextSync","LSTaskSerializerE2eeMessageIntegrityCheckV2","LSTaskSerializerE2eeMetadataThreadIntegrityCheck","LSTaskSerializerEncryptedBackupAction","LSTaskSerializerEncryptedBackupsLoopingUpload","LSTaskSerializerEncryptedBackupsRestoreWithSerializer","LSTaskSerializerEncryptedBackupsUpload","LSTaskSerializerEncryptedBackupsUploadProtobufOnly","LSTaskSerializerMuteThreadV2","LSTaskSerializerRemoveThread","LSTaskSerializerSendMessageV2","LSTaskSerializerUnauthenticatedTask","LSTaskSerializerUpdateThreadName"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(g){return c.seq([function(e){return a[1]==="46"?c.seq([function(e){return c.sp(b("LSTaskSerializerSendMessageV2"),a[0]).then(function(a){return a=a,d[6]=a[0],d[7]=a[1],a})},function(a){return a=[d[6],c.i64.to_string(d[7]),f],d[0]=a[0],d[1]=a[1],d[2]=a[2],a}]):c.seq([function(e){return a[1]==="144"?c.seq([function(e){return c.sp(b("LSTaskSerializerMuteThreadV2"),a[0]).then(function(a){return a=a,d[9]=a[0],d[10]=a[1],a})},function(a){return a=[d[9],c.i64.to_string(d[10]),f],d[6]=a[0],d[7]=a[1],d[8]=a[2],a}]):c.seq([function(e){return a[1]==="146"?c.seq([function(e){return c.sp(b("LSTaskSerializerRemoveThread"),a[0]).then(function(a){return a=a,d[12]=a[0],d[13]=a[1],a})},function(a){return a=[d[12],c.i64.to_string(d[13]),f],d[9]=a[0],d[10]=a[1],d[11]=a[2],a}]):c.seq([function(e){return a[1]==="32"?c.seq([function(e){return c.sp(b("LSTaskSerializerUpdateThreadName"),a[0]).then(function(a){return a=a,d[15]=a[0],d[16]=a[1],a})},function(a){return a=[d[15],c.i64.to_string(d[16]),f],d[12]=a[0],d[13]=a[1],d[14]=a[2],a}]):c.seq([function(e){return a[1]==="362"?c.seq([function(e){return c.sp(b("LSTaskSerializerAcsIssueNextSync"),a[0]).then(function(a){return a=a,d[18]=a[0],d[19]=a[1],a})},function(a){return a=[d[18],c.i64.to_string(d[19]),f],d[15]=a[0],d[16]=a[1],d[17]=a[2],a}]):c.seq([function(e){return a[1]==="50015"?c.seq([function(e){return c.sp(b("LSTaskSerializerEncryptedBackupsRestoreWithSerializer"),a[0]).then(function(a){return a=a,d[21]=a[0],d[22]=a[1],a})},function(a){return a=[d[21],c.i64.to_string(d[22]),f],d[18]=a[0],d[19]=a[1],d[20]=a[2],a}]):c.seq([function(e){return a[1]==="319"?c.seq([function(e){return c.sp(b("LSTaskSerializerEncryptedBackupAction"),a[0]).then(function(a){return a=a,d[24]=a[0],d[25]=a[1],a})},function(a){return a=[d[24],c.i64.to_string(d[25]),f],d[21]=a[0],d[22]=a[1],d[23]=a[2],a}]):c.seq([function(e){return a[1]==="50026"?c.seq([function(e){return c.sp(b("LSTaskSerializerEncryptedBackupsUpload"),a[0]).then(function(a){return a=a,d[27]=a[0],d[28]=a[1],a})},function(a){return a=[d[27],c.i64.to_string(d[28]),f],d[24]=a[0],d[25]=a[1],d[26]=a[2],a}]):c.seq([function(e){return a[1]==="50042"?c.seq([function(e){return c.sp(b("LSTaskSerializerEncryptedBackupsUploadProtobufOnly"),a[0]).then(function(a){return a=a,d[30]=a[0],d[31]=a[1],a})},function(a){return a=[d[30],c.i64.to_string(d[31]),f],d[27]=a[0],d[28]=a[1],d[29]=a[2],a}]):c.seq([function(e){return a[1]==="700"?c.seq([function(e){return c.sp(b("LSTaskSerializerE2eeMetadataThreadIntegrityCheck"),a[0]).then(function(a){return a=a,d[33]=a[0],d[34]=a[1],a})},function(a){return a=[d[33],c.i64.to_string(d[34]),f],d[30]=a[0],d[31]=a[1],d[32]=a[2],a}]):c.seq([function(e){return a[1]==="705"?c.seq([function(e){return c.sp(b("LSTaskSerializerE2eeMessageIntegrityCheckV2"),a[0]).then(function(a){return a=a,d[36]=a[0],d[37]=a[1],a})},function(a){return a=[d[36],c.i64.to_string(d[37]),f],d[33]=a[0],d[34]=a[1],d[35]=a[2],a}]):c.seq([function(e){return a[1]==="50043"?c.seq([function(e){return c.sp(b("LSTaskSerializerEncryptedBackupsLoopingUpload"),a[0]).then(function(a){return a=a,d[39]=a[0],d[40]=a[1],a})},function(a){return a=[d[39],c.i64.to_string(d[40]),f],d[36]=a[0],d[37]=a[1],d[38]=a[2],a}]):c.resolve((e=[a[2],a[1],f],d[36]=e[0],d[37]=e[1],d[38]=e[2],e))},function(a){return a=[d[36],d[37],d[38]],d[33]=a[0],d[34]=a[1],d[35]=a[2],a}])},function(a){return a=[d[33],d[34],d[35]],d[30]=a[0],d[31]=a[1],d[32]=a[2],a}])},function(a){return a=[d[30],d[31],d[32]],d[27]=a[0],d[28]=a[1],d[29]=a[2],a}])},function(a){return a=[d[27],d[28],d[29]],d[24]=a[0],d[25]=a[1],d[26]=a[2],a}])},function(a){return a=[d[24],d[25],d[26]],d[21]=a[0],d[22]=a[1],d[23]=a[2],a}])},function(a){return a=[d[21],d[22],d[23]],d[18]=a[0],d[19]=a[1],d[20]=a[2],a}])},function(a){return a=[d[18],d[19],d[20]],d[15]=a[0],d[16]=a[1],d[17]=a[2],a}])},function(a){return a=[d[15],d[16],d[17]],d[12]=a[0],d[13]=a[1],d[14]=a[2],a}])},function(a){return a=[d[12],d[13],d[14]],d[9]=a[0],d[10]=a[1],d[11]=a[2],a}])},function(a){return a=[d[9],d[10],d[11]],d[6]=a[0],d[7]=a[1],d[8]=a[2],a}])},function(a){return a=[d[6],d[7],d[8]],d[0]=a[0],d[1]=a[1],d[2]=a[2],a}])},function(e){return a[3]?c.resolve((d[1]==="60009"?(function(a){c.logger(a).mustfix(a)}(["Deidentified task with label ","60009"," is being executed through the 'identified' path. This should never happen!"].join("")),e=[f,f,f],d[6]=e[0],d[7]=e[1],d[8]=e[2],e):(d[1]==="60006"?(function(a){c.logger(a).mustfix(a)}(["Deidentified task with label ","60006"," is being executed through the 'identified' path. This should never happen!"].join("")),e=[f,f,f],d[9]=e[0],d[10]=e[1],d[11]=e[2],e):(d[1]==="60008"?(function(a){c.logger(a).mustfix(a)}(["Deidentified task with label ","60008"," is being executed through the 'identified' path. This should never happen!"].join("")),e=[f,f,f],d[12]=e[0],d[13]=e[1],d[14]=e[2],e):(d[1]==="765"?(function(a){c.logger(a).mustfix(a)}(["Deidentified task with label ","765"," is being executed through the 'identified' path. This should never happen!"].join("")),e=[f,f,f],d[15]=e[0],d[16]=e[1],d[17]=e[2],e):(d[1]==="761"?(function(a){c.logger(a).mustfix(a)}(["Deidentified task with label ","761"," is being executed through the 'identified' path. This should never happen!"].join("")),e=[f,f,f],d[18]=e[0],d[19]=e[1],d[20]=e[2],e):(d[1]==="632"?(function(a){c.logger(a).mustfix(a)}(["Deidentified task with label ","632"," is being executed through the 'identified' path. This should never happen!"].join("")),e=[f,f,f],d[21]=e[0],d[22]=e[1],d[23]=e[2],e):(d[1]==="384"?(function(a){c.logger(a).mustfix(a)}(["Deidentified task with label ","384"," is being executed through the 'identified' path. This should never happen!"].join("")),e=[f,f,f],d[24]=e[0],d[25]=e[1],d[26]=e[2],e):(d[1]==="384"?(function(a){c.logger(a).mustfix(a)}(["Deidentified task with label ","384"," is being executed through the 'identified' path. This should never happen!"].join("")),e=[f,f,f],d[27]=e[0],d[28]=e[1],d[29]=e[2],e):(e=[d[0],d[1],d[2]],d[27]=e[0],d[28]=e[1],d[29]=e[2],e),e=[d[27],d[28],d[29]],d[24]=e[0],d[25]=e[1],d[26]=e[2],e),e=[d[24],d[25],d[26]],d[21]=e[0],d[22]=e[1],d[23]=e[2],e),e=[d[21],d[22],d[23]],d[18]=e[0],d[19]=e[1],d[20]=e[2],e),e=[d[18],d[19],d[20]],d[15]=e[0],d[16]=e[1],d[17]=e[2],e),e=[d[15],d[16],d[17]],d[12]=e[0],d[13]=e[1],d[14]=e[2],e),e=[d[12],d[13],d[14]],d[9]=e[0],d[10]=e[1],d[11]=e[2],e),e=[d[9],d[10],d[11]],d[6]=e[0],d[7]=e[1],d[8]=e[2],e),e=[d[6],d[7],d[8]],d[3]=e[0],d[4]=e[1],d[5]=e[2],e)):c.seq([function(e){return c.sp(b("LSTaskSerializerUnauthenticatedTask"),a[0],d[1],d[0]).then(function(a){return a=a,d[6]=a[0],d[7]=a[1],a})},function(a){return a=[d[6],c.i64.to_string(d[7]),f],d[3]=a[0],d[4]=a[1],d[5]=a[2],a}])},function(a){return a=[d[3],d[4],d[5]],e[0]=a[0],e[1]=a[1],e[2]=a[2],a}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSBeginHandlingPendingTasksForQueue",["LSSerializeTask","gkx"],(function(a,b,c,d,e,f,g){function a(){var a=arguments,d=a[a.length-1];d.n;var e=[],f=[],g;return d.seq([function(h){return d.seq([function(b){return d.ftr(d.db.table(3).fetch([[[a[0]]]]),function(b){return d.i64.neq(b.epochId,g)&&b.taskQueueName===a[0]}).next().then(function(a,b){b=a.done;a=a.value;return b?e[0]=!1:(a.item,e[0]=!0)})},function(f){return e[2]=new d.Map(),e[2].set("queue_name",a[0]),e[2].set("next_sync_ms",g),e[2].set("work_item_type",d.i64.cast([0,4])),e[2].set("network_payload",g),e[2].set("http_url_override",g),e[2].set("skip_realtime_gateway",!1),e[3]=e[2],e[0]?d.resolve():d.seq([function(b){return d.islc(d.db.table(2).fetch([[[a[0]]],"queueNameTaskId"]),0,d.i64.to_float(d.i64.cast([0,1]))).next().then(function(a,b){var c=a.done;a=a.value;return c?(c=["",d.i64.cast([-1,4294967295]),d.i64.cast([0,0]),d.i64.cast([-1,4294967295]),g,g],e[4]=c[0],e[5]=c[1],e[6]=c[2],e[7]=c[3],e[8]=c[4],e[9]=c[5],c):(b=a.item,c=[b.queueName,b.minTimeToSyncTimestampMs,b.pluginType,b.failureCount,b.context,b.httpUrlOverride],e[4]=c[0],e[5]=c[1],e[6]=c[2],e[7]=c[3],e[8]=c[4],e[9]=c[5],c)})},function(b){return d.db.table(3).fetch([[[a[0]]]]).next().then(function(a,b){var c=a.done;a=a.value;return c?e[11]=d.i64.cast([0,0]):(b=a.item,e[11]=b.lastSyncRequestTimestampMs)})},function(f){return e[13]=d.i64.of_float(Date.now()),e[15]=d.i64.sub(e[5],e[13]),d.i64.le(e[15],d.i64.cast([0,0]))?(d.i64.eq(e[7],d.i64.cast([0,0]))||a[1]?e[16]=d.i64.cast([0,0]):(d.i64.gt(e[7],d.i64.cast([0,7]))?e[19]=d.i64.sub(e[7],d.i64.cast([0,7])):e[19]=e[7],e[20]=d.i64.sub(e[19],d.i64.cast([0,1])),e[21]=d.i64.mul(d.i64.lsl_(d.i64.cast([0,1]),d.i64.to_int32(d.i64.lt(e[20],d.i64.cast([0,7]))?e[20]:d.i64.cast([0,7]))),d.i64.cast([0,500])),e[16]=d.i64.lt(e[21],d.i64.cast([0,3e4]))?e[21]:d.i64.cast([0,3e4])),e[17]=d.i64.of_float(Date.now()),e[18]=d.i64.sub(d.i64.add(e[11],e[16]),e[17]),e[14]=d.i64.gt(e[18],d.i64.cast([0,0]))?e[18]:d.i64.cast([0,0])):e[14]=e[15],d.i64.neq(e[14],d.i64.cast([0,0]))?d.resolve((e[16]=new d.Map(),e[16].set("queue_name",a[0]),e[16].set("next_sync_ms",e[14]),e[16].set("work_item_type",d.i64.cast([0,3])),e[16].set("network_payload",g),e[16].set("http_url_override",g),e[16].set("skip_realtime_gateway",!1),e[3]=e[16])):d.seq([function(a){return d.i64.neq(e[6],d.i64.cast([0,0]))||e[8]==="16"||e[8]==="4"?d.resolve((a=[e[4],g,d.i64.cast([0,2]),g,g,!1],e[16]=a[0],e[17]=a[1],e[18]=a[2],e[19]=a[3],e[20]=a[4],e[21]=a[5],a)):d.seq([function(a){return e[23]=d.createArray(),e[24]=!0,d.islc(d.db.table(2).fetch([[[e[4]]],"queueNameTaskId"]),0,d.i64.to_float(d.i64.cast([0,1]))).next().then(function(a,b){var c=a.done;a=a.value;return c?(c=["",d.i64.cast([-1,4294967295]),d.i64.cast([0,0]),d.i64.cast([-1,4294967295]),g,g],e[25]=c[0],e[26]=c[1],e[27]=c[2],e[28]=c[3],e[29]=c[4],e[30]=c[5],c):(b=a.item,c=[b.queueName,b.minTimeToSyncTimestampMs,b.pluginType,b.failureCount,b.context,b.httpUrlOverride],e[25]=c[0],e[26]=c[1],e[27]=c[2],e[28]=c[3],e[29]=c[4],e[30]=c[5],c)})},function(a){return d.db.table(2).fetch([[[e[4]]],"queueNameTaskId"]).next().then(function(a,b){var c=a.done;a=a.value;return c?e[32]=!0:(b=a.item,d.seq([function(a){return d.db.table(306).fetch([[[b.taskId]]]).next().then(function(b,c){var a=b.done;b=b.value;return a?e[41]=!0:(c=b.item,e[41]=c.requiresAuthentication)})},function(a){return e[32]=e[41]}]))})},function(a){return d.fe(d.db.table(2).fetch([[[e[4]]],"queueNameTaskId"]),function(a){var f=a.item;return d.seq([function(a){return e[41]=f.taskId,e[42]=f.context,e[44]=f.failureCount,e[43]=f.timeoutTimestampMs,d.i64.eq(f.firstExecutedTimestampMs,d.i64.cast([0,0]))?(e[45]=d.i64.of_float(Date.now()),d.fe(d.db.table(2).fetch([[[e[41]]]]),function(a){var b=a.update;a.item;return b({firstExecutedTimestampMs:e[45]})})):d.resolve()},function(a){return d.seq([function(a){return d.db.table(306).fetch([[[e[41]]]]).next().then(function(a,b){var c=a.done;a=a.value;return c?e[45]=!0:(b=a.item,e[45]=b.requiresAuthentication)})},function(a){return e[24]=f.httpUrlOverride===e[30]&&e[45]===e[32]&&e[24],e[24]?d.seq([function(a){return e[42]===g?d.seq([function(a){return d.fe(d.db.table(2).fetch([[[e[41]]]]),function(a){return a["delete"]()})},function(a){return e[47]=g}]):d.seq([function(a){return d.i64.neq(e[43],g)?(e[54]=d.i64.of_float(Date.now()),e[52]=d.i64.ge(e[54],e[43])):e[52]=!1,e[52]?d.seq([function(a){return d.fe(d.db.table(2).fetch([[[e[41]]]]),function(a){return a["delete"]()})},function(a){return e[53]=g}]):d.seq([function(a){return d.sp(b("LSSerializeTask"),e[41],e[42],f.taskValue,e[32]).then(function(a){return a=a,e[54]=a[0],e[55]=a[1],e[56]=a[2],a})},function(a){return e[54]!==g?(e[58]=new d.Map(),e[58].set("label",e[55]),e[58].set("payload",e[54]),e[58].set("queue_name",f.queueName),e[58].set("task_id",e[41]),e[58].set("failure_count",d.i64.eq(e[44],d.i64.cast([0,0]))?g:e[44]),e[57]=e[58]):e[57]=g,e[53]=e[57]}])},function(a){return e[47]=e[53]}])},function(a){return e[47]?e[48]=!1:e[48]=!0,e[48]?0:e[52]=(e[23].push(e[47]),e[23]),e[49]=d.i64.of_int32(e[23].length),c("gkx")("6280")?e[50]=d.i64.cast([0,50]):e[50]=d.i64.cast([0,5]),e[42]!==g?e[51]=["90","130","153"].includes(e[42]):e[51]=!1,e[24]=!(d.i64.ge(e[49],e[50])||e[51])}]):d.resolve()}])}])})},function(a){return e[34]=d.i64.of_int32(e[23].length),d.i64.eq(e[34],d.i64.cast([0,0]))?d.resolve((a=[e[4],g,d.i64.cast([0,4]),g,g,!1],e[35]=a[0],e[36]=a[1],e[37]=a[2],e[38]=a[3],e[39]=a[4],e[40]=a[5],a)):d.seq([function(a){return e[41]=d.i64.of_float(Date.now()),e[42]=d.i64.random(),e[52]=d.i64.and_(d.i64.or_(d.i64.lsl_(e[41],d.i64.to_int32(d.i64.cast([0,22]))),d.i64.and_(e[42],d.i64.cast([0,4194303]))),d.i64.cast([2147483647,4294967295])),d.db.table(3).fetch([[[e[4],d.i64.cast([-1,4294967295])]]]).next().then(function(a,b){b=a.done;a=a.value;return b?(e[53]=d.i64.of_float(Date.now()),d.db.table(3).add({syncDatabaseId:d.i64.cast([-1,4294967295]),taskQueueName:e[4],failureCount:d.i64.cast([0,0]),lastSentTimestampMs:d.i64.cast([0,0]),lastSyncRequestTimestampMs:e[53],epochId:e[52]})):(a.item,e[53]=d.i64.of_float(Date.now()),d.fe(d.db.table(3).fetch([[[e[4],d.i64.cast([-1,4294967295])]]]),function(a){var b=a.update;a.item;return b({epochId:e[52],lastSyncRequestTimestampMs:e[53]})}))})},function(a){return d.islc(d.db.table(2).fetch([[[e[4]]],"queueNameTaskId"]),0,d.i64.to_float(d.i64.cast([0,1]))).next().then(function(a,b){var c=a.done;a=a.value;return c?(c=["",d.i64.cast([-1,4294967295]),d.i64.cast([0,0]),d.i64.cast([-1,4294967295]),g,g],e[44]=c[0],e[45]=c[1],e[46]=c[2],e[47]=c[3],e[48]=c[4],e[49]=c[5],c):(b=a.item,c=[b.queueName,b.minTimeToSyncTimestampMs,b.pluginType,b.failureCount,b.context,b.httpUrlOverride],e[44]=c[0],e[45]=c[1],e[46]=c[2],e[47]=c[3],e[48]=c[4],e[49]=c[5],c)})},function(a){return e[51]=new d.Map(),e[51].set("tasks",e[23]),e[51].set("epoch_id",e[52]),a=[e[4],g,d.i64.cast([0,1]),e[51],e[49],!(e[49]===g)||d.i64.gt(e[47],d.i64.cast([0,7]))],e[35]=a[0],e[36]=a[1],e[37]=a[2],e[38]=a[3],e[39]=a[4],e[40]=a[5],a}])},function(a){return a=[e[35],e[36],e[37],e[38],e[39],e[40]],e[16]=a[0],e[17]=a[1],e[18]=a[2],e[19]=a[3],e[20]=a[4],e[21]=a[5],a}])},function(a){return e[22]=new d.Map(),e[22].set("queue_name",e[16]),e[22].set("next_sync_ms",e[17]),e[22].set("work_item_type",e[18]),e[22].set("network_payload",e[19]),e[22].set("http_url_override",e[20]),e[22].set("skip_realtime_gateway",e[21]),e[3]=e[22]}])}])},function(a){return f[0]=e[3]}])},function(a){return d.resolve(f)}])}d=a;g["default"]=d}),98);
__d("LSBeginHandlingSyncForSyncGroup",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[],e;return b.seq([function(f){return b.seq([function(d){return b.db.table(1).fetch([[[a[0]]]]).next().then(function(a,d){var f=a.done;a=a.value;return f?c[0]=e:(d=a.item,c[9]=new b.Map(),c[9].set("group_id",d.groupId),c[9].set("current_cursor",d.currentCursor),c[9].set("sync_status",d.syncStatus),c[9].set("sync_params",d.syncParams),c[9].set("send_sync_params",d.sendSyncParams),c[9].set("min_time_to_sync_timestamp_ms",d.minTimeToSyncTimestampMs),c[9].set("can_ignore_timestamp",d.canIgnoreTimestamp),c[9].set("sync_channel",d.syncChannel),c[9].set("last_sync_request_timestamp_ms",d.lastSyncRequestTimestampMs),c[0]=c[9])})},function(d){return c[0]?c[2]=!1:c[2]=!0,c[2]?b.resolve((d=[a[0],e,b.i64.cast([0,4]),e,!1],c[3]=d[0],c[4]=d[1],c[5]=d[2],c[6]=d[3],c[7]=d[4],d)):b.seq([function(a){return c[9]=c[0].get("group_id"),c[0],b.ftr(b.db.table(3).fetch(),function(a){return b.i64.neq(a.epochId,e)&&b.i64.eq(a.syncDatabaseId,c[9])}).next().then(function(a,b){b=a.done;a=a.value;return b?c[10]=!1:(a.item,c[10]=!0)})},function(d){return c[10]?b.resolve((c[17]=c[0].get("group_id"),c[0],d=[c[17],e,b.i64.cast([0,4]),e,!1],c[12]=d[0],c[13]=d[1],c[14]=d[2],c[15]=d[3],c[16]=d[4],d)):b.seq([function(d){return c[17]=b.i64.of_float(Date.now()),c[18]=c[0].get("min_time_to_sync_timestamp_ms"),c[0],c[19]=c[0].get("last_sync_request_timestamp_ms"),c[0],c[20]=c[0].get("can_ignore_timestamp"),c[0],c[20]&&a[1]||b.i64.ge(c[17],c[18])?b.seq([function(d){return a[1]?b.resolve(c[28]=b.i64.cast([0,0])):b.seq([function(a){return c[29]=c[0].get("group_id"),c[0],b.db.table(3).fetch([[["",c[29]]]]).next().then(function(a,d){var e=a.done;a=a.value;return e?c[30]=b.i64.cast([0,0]):(d=a.item,c[30]=d.failureCount)})},function(a){return c[32]=b.i64.mul(b.i64.sub(b.i64.lsl_(b.i64.cast([0,1]),b.i64.to_int32(b.i64.lt(b.i64.cast([0,15]),c[30])?b.i64.cast([0,15]):c[30])),b.i64.cast([0,1])),b.i64.cast([0,500])),c[33]=b.i64.sub(b.i64.add(c[19]==null?b.i64.cast([0,0]):c[19],b.i64.lt(c[32],b.i64.cast([0,3e4]))?c[32]:b.i64.cast([0,3e4])),c[17]),c[28]=b.i64.gt(c[33],b.i64.cast([0,0]))?c[33]:b.i64.cast([0,0])}])},function(a){return c[21]=c[28]}]):b.resolve(c[21]=b.i64.sub(c[18],c[17]))},function(a){return c[22]=c[0].get("group_id"),c[0],b.i64.gt(c[21],b.i64.cast([0,0]))?b.seq([function(a){return c[28]=b.i64.of_float(Date.now()),b.fe(b.ftr(b.db.table(3).fetch(),function(a){return b.i64.eq(a.syncDatabaseId,c[22])}),function(a){var b=a.update;a.item;return b({lastDelayedRequestTimestampMs:c[28]})})},function(a){return a=[c[22],c[21],b.i64.cast([0,3]),e,!1],c[23]=a[0],c[24]=a[1],c[25]=a[2],c[26]=a[3],c[27]=a[4],a}]):b.seq([function(a){return c[28]=b.i64.of_float(Date.now()),b.fe(b.db.table(1).fetch([[[c[22]]]]),function(a){var b=a.update;a.item;return b({lastSyncRequestTimestampMs:c[28]})})},function(a){return c[29]=b.i64.of_float(Date.now()),b.fe(b.ftr(b.db.table(3).fetch(),function(a){return b.i64.eq(a.syncDatabaseId,c[22])}),function(a){var b=a.update;a.item;return b({lastSyncRequestTimestampMs:c[29]})})},function(a){return c[30]=c[0].get("group_id"),c[0],c[31]=b.i64.of_float(Date.now()),c[32]=b.i64.random(),c[45]=b.i64.and_(b.i64.or_(b.i64.lsl_(c[31],b.i64.to_int32(b.i64.cast([0,22]))),b.i64.and_(c[32],b.i64.cast([0,4194303]))),b.i64.cast([2147483647,4294967295])),b.db.table(3).fetch([[["",c[30]]]]).next().then(function(a,d){d=a.done;a=a.value;return d?b.db.table(3).add({syncDatabaseId:c[30],taskQueueName:"",failureCount:b.i64.cast([0,0]),lastSentTimestampMs:b.i64.cast([0,0]),lastSyncRequestTimestampMs:b.i64.cast([0,0]),epochId:c[45]}):(a.item,b.fe(b.db.table(3).fetch([[["",c[30]]]]),function(a){var b=a.update;a.item;return b({epochId:c[45]})}))})},function(a){return c[34]=c[0].get("group_id"),c[0],b.db.table(3).fetch([[["",c[34]]]]).next().then(function(a,d){var e=a.done;a=a.value;return e?c[35]=b.i64.cast([0,0]):(d=a.item,c[35]=d.failureCount)})},function(a){return c[37]=c[0].get("send_sync_params"),c[0],c[38]=c[0].get("sync_params"),c[0],c[39]=c[0].get("current_cursor"),c[0],c[40]=new b.Map(),c[40].set("database",c[34]),c[40].set("version",b.i64.cast([-1,4294967295])),c[40].set("epoch_id",c[45]),c[40].set("last_applied_cursor",c[39]),c[40].set("sync_params",c[37]?c[38]:e),c[40].set("failure_count",b.i64.gt(c[35],b.i64.cast([0,0]))?c[35]:e),c[41]=c[0].get("current_cursor"),c[0],e===c[41]?c[42]=b.i64.cast([0,1]):c[42]=b.i64.cast([0,2]),c[43]=new b.Map(),c[43].set("type",c[42]),c[43].set("request_payload",c[40]),c[44]=c[0].get("sync_channel"),c[0],a=[c[30],e,b.i64.cast([0,1]),c[43],b.i64.eq(c[44],b.i64.cast([0,2]))],c[23]=a[0],c[24]=a[1],c[25]=a[2],c[26]=a[3],c[27]=a[4],a}])},function(a){return a=[c[23],c[24],c[25],c[26],c[27]],c[12]=a[0],c[13]=a[1],c[14]=a[2],c[15]=a[3],c[16]=a[4],a}])},function(a){return a=[c[12],c[13],c[14],c[15],c[16]],c[3]=a[0],c[4]=a[1],c[5]=a[2],c[6]=a[3],c[7]=a[4],a}])},function(a){return c[8]=new b.Map(),c[8].set("sync_group_id",c[3]),c[8].set("next_sync_ms",c[4]),c[8].set("work_item_type",c[5]),c[8].set("network_payload",c[6]),c[8].set("skip_realtime_gateway",c[7]),d[0]=c[8]}])},function(a){return b.resolve(d)}])}b=a;f["default"]=b}),66);
__d("LSBeginHandlingSync",["LSBeginHandlingSyncForSyncGroup"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[];return c.seq([function(f){return c.seq([function(e){return d[0]=c.createArray(),c.fe(c.db.table(1).fetch(),function(e){var f=e.item;return c.seq([function(e){return c.sp(b("LSBeginHandlingSyncForSyncGroup"),f.groupId,a[0]).then(function(a){return a=a,d[1]=a[0],a})},function(a){return d[2]=(d[0].push(d[1]),d[0])}])})},function(a){return e[0]=d[0]}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSHandleTaskSendFailureForQueue",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[],e;return b.seq([function(d){return b.seq([function(d){return b.islc(b.db.table(2).fetch([[[a[0]]],"queueNameTaskId"]),0,b.i64.to_float(b.i64.cast([0,1]))).next().then(function(a,d){var f=a.done;a=a.value;return f?0:(d=a.item,b.db.table(2).fetch([[[d.taskId]]]).next().then(function(d,f){var a=d.done;d=d.value;return a?0:(f=d.item,b.i64.neq(e,e)?(c[2]=b.i64.of_float(Date.now()),c[1]=b.i64.add(c[2],e)):c[1]=f.minTimeToSyncTimestampMs,b.fe(b.db.table(2).fetch([[[f.taskId]]]),function(a){var d=a.update;a.item;return d({failureCount:b.i64.add(f.failureCount,b.i64.cast([0,1])),minTimeToSyncTimestampMs:c[1]})}))}))})},function(c){return b.fe(b.db.table(3).fetch([[[a[0],b.i64.cast([-1,4294967295])]]]),function(a){var c=a.update;a=a.item;return c({failureCount:b.i64.add(a.failureCount,b.i64.cast([0,1]))})})},function(c){return b.fe(b.db.table(3).fetch([[[a[0],b.i64.cast([-1,4294967295])]]]),function(a){var b=a.update;a.item;return b({epochId:e,networkTaskIdentifier:e})})}])},function(a){return b.resolve(d)}])}b=a;f["default"]=b}),66);
__d("LSHandleTaskSendSuccessForQueue",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[],d;return b.seq([function(c){return b.fe(b.ftr(b.db.table(3).fetch([[[a[0],b.i64.cast([-1,4294967295])]]]),function(c){return c.taskQueueName===a[0]&&b.i64.eq(c.syncDatabaseId,b.i64.cast([-1,4294967295]))&&!b.i64.eq(c.epochId,d)}),function(a){return a["delete"]()})},function(a){return b.resolve(c)}])}b=a;f["default"]=b}),66);
__d("LSPlatformRequestId",[],(function(a,b,c,d,e,f){"use strict";var g=4;function a(){var a=g;g+=1;return a}b={generate:a};f["default"]=b}),66);
__d("LSPlatformServerResponseHandler",["Promise","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f){"use strict";var g;a=function(){function a(a){this.eval=a,this.currentlyRunning=(g||(g=b("Promise"))).resolve()}var c=a.prototype;c.evalWhenReady=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){yield a,yield this.eval(b)});function c(b,c){return a.apply(this,arguments)}return c}();c.evalInOrderReceived=function(a,b){var c=this,d=this.currentlyRunning.then(function(){return c.evalWhenReady(a,babelHelpers["extends"]({},b,{priority:"sync_script"}))});this.currentlyRunning=d;return d};return a}();f["default"]=a}),66);
__d("LSPlatformSyncSystem",["FBLogger","I64","LSBeginHandlingSync","LSBeginHandlingSyncForSyncGroup","LSFactory","LSIntEnum","LSJson","LSPlatformGraphQLTransport","LSPlatformRealtimeTransport","LSPlatformRequestId","LSPlatformRequestScheduler","LSPlatformServerResponseHandler","LSShape","LSVec","MWPBumpEntityKey","MessengerLogHistory","Promise","ReQL","asyncToGeneratorRuntime","gkx","promiseDone","recoverableViolation","throttle"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function a(a,e,f,g,k,l){var m=d("MessengerLogHistory").getInstance("client_sync"),n=new(c("LSPlatformServerResponseHandler"))(f),o=function(c){return a.runInTransaction(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var e=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.table("network_requests")).getKeyRange("",c)));if(e!=null)return a.table("network_requests").put({epochId:void 0,failureCount:(j||(j=d("I64"))).add(e.failureCount,j.one),lastDelayedRequestTimestampMs:e.lastDelayedRequestTimestampMs,lastSentTimestampMs:e.lastSentTimestampMs,lastSyncRequestTimestampMs:e.lastSyncRequestTimestampMs,networkTaskIdentifier:e.networkTaskIdentifier,syncDatabaseId:e.syncDatabaseId,taskQueueName:e.taskQueueName});else return(h||(h=b("Promise"))).resolve()});return function(b){return a.apply(this,arguments)}}(),"readwrite")},p=new(c("LSPlatformRequestScheduler"))(),q=function(){var m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(m,o){o=d("LSShape").toRecord(o);var p=d("LSShape").toRecord(o.request_payload);o=o.type;var q=c("LSPlatformRequestId").generate();p=d("LSJson").stringify(d("LSShape").ofRecord({database:p.database,epoch_id:p.epoch_id,failure_count:p.failure_count,last_applied_cursor:p.last_applied_cursor,sync_params:p.sync_params,version:(j||(j=d("I64"))).of_string(g)}));var r=(j||(j=d("I64"))).equal(m.sync_group_id,(i||(i=d("LSIntEnum"))).ofNumber(1))&&c("gkx")("7914")===!0;if(!r&&m.skip_realtime_gateway){r=(yield d("LSPlatformGraphQLTransport").publish(k,q,o,p,l));var s=r[0],t=r[1],u=r[2];r=r[3];u={experiments:u,syncScript:t,target:r};return c("gkx")("6543")?n.evalInOrderReceived(s,u):f(u)}else{t=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.table("sync_groups")).getKeyRange(m.sync_group_id)));r=t!=null?t.syncChannel:(i||(i=d("LSIntEnum"))).ofNumber(1);return e.publish(r,void 0,q,o,p).then(function(){return(h||(h=b("Promise"))).resolve()})}});return function(a,b){return m.apply(this,arguments)}}(),r=function e(f){var g=function(b){return a.runInTransaction(function(a){return c("LSBeginHandlingSyncForSyncGroup")(b,!1,c("LSFactory")(a))},"readwrite").then(function(a){return e(a[0])})},k=function(a,b){p.schedule(function(){c("promiseDone")(g(a))},(j||(j=d("I64"))).to_string(a),j.to_float(b))},l=d("LSShape").toRecord(f);f=l.work_item_type;if((j||(j=d("I64"))).equal(f,(i||(i=d("LSIntEnum"))).ofNumber(1))||(j||(j=d("I64"))).equal(f,(i||(i=d("LSIntEnum"))).ofNumber(5))){var n=l.network_payload;if(n!=null)return q(l,n)["catch"](function(a){if(a.message===d("LSPlatformGraphQLTransport").ServerError)d("MWPBumpEntityKey").bumpEntityKeyWithAppId("lsplatform_sync","send_sync_request_graphql_error");else if(a.RE_EXN_ID===d("LSPlatformRealtimeTransport").Timeout||a.RE_EXN_ID===d("LSPlatformRealtimeTransport").NotConnected)d("MWPBumpEntityKey").bumpEntityKeyWithAppId("lsplatform_sync","send_sync_request_timeout_or_disc"),m.debug("Publish timed out");else{d("MWPBumpEntityKey").bumpEntityKeyWithAppId("lsplatform_sync","send_sync_request_other_error");if(a instanceof Error)c("FBLogger")("messenger_web_product").catching(a).mustfix("Encountered an JS error while publishing a LS sync request");else{var b="";try{b=JSON.stringify(a)}catch(a){}c("FBLogger")("messenger_web_product").mustfix("Encountered an JS error while publishing a LS sync request %s",b)}}return o(l.sync_group_id).then(function(){return g(l.sync_group_id)})});else{c("recoverableViolation")("Expected networkpayload for sync request but didn't get any","messenger_web_product");return(h||(h=b("Promise"))).resolve()}}if(!(j||(j=d("I64"))).equal(f,(i||(i=d("LSIntEnum"))).ofNumber(3)))if((j||(j=d("I64"))).equal(f,(i||(i=d("LSIntEnum"))).ofNumber(4))||!(j||(j=d("I64"))).equal(f,(i||(i=d("LSIntEnum"))).ofNumber(2)))return(h||(h=b("Promise"))).resolve();else{c("recoverableViolation")("Native handling for sync group not implemented yet","messenger_web_product");return(h||(h=b("Promise"))).resolve()}n=l.next_sync_ms;if(n!=null){k(l.sync_group_id,n);return(h||(h=b("Promise"))).resolve()}else{c("recoverableViolation")("Expected delay for delayed sync request but didn't get any","messenger_web_product");return(h||(h=b("Promise"))).resolve()}},s=function(a){return(h||(h=b("Promise"))).all(c("LSVec").toArray(a[0]).map(function(a){return r(a)}))},t=function(){c("promiseDone")(a.runInTransaction(function(a){return c("LSBeginHandlingSync")(!1,c("LSFactory")(a))},"readwrite").then(s))},u=c("throttle")(t,500);t=function(){return d("ReQL").fromTableAscending(a.table("sync_groups")).subscribe(function(){return u()})};var v=function(){return e.subscribeToNonTaskResponses(function(a,b){var e=b.ex,g=b.payload;e={experiments:e,syncScript:g,target:b.target};c("promiseDone")(c("gkx")("6543")?n.evalInOrderReceived(a,e):f(e),function(){return u()},function(a){d("MWPBumpEntityKey").bumpEntityKeyWithAppId("lsplatform_sync","handle_sync_response_failure");if(a instanceof Error)c("FBLogger")("messenger_web_product").catching(a).mustfix("JS error encountered handling response from MQTT (pdb=%s): %s",c("gkx")("6543"),a.message);else{var b="";try{b=JSON.stringify(a)}catch(a){}c("FBLogger")("messenger_web_product").mustfix("JS error encountered handling response from MQTT (pdb=%s): %s",c("gkx")("6543"),b)}})})},w=function(){return e.onReconnect(function(){d("MWPBumpEntityKey").bumpEntityKeyWithAppId("lsplatform_sync","resume_sync_reconnect"),m.debug("Sync System reconnecting"),c("promiseDone")(a.runInTransaction(function(){var e=b("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var f;f=(yield (f=d("ReQL")).toArrayAsync(f.mergeJoin(f.fromTableAscending(a.table("sync_groups")),f.fromTableAscending(a.table("network_requests")).getKeyRange(""))));yield (h||(h=b("Promise"))).all(f.map(function(a){a=a[1];return e.table("network_requests").put({epochId:void 0,failureCount:a.failureCount,lastDelayedRequestTimestampMs:a.lastDelayedRequestTimestampMs,lastSentTimestampMs:a.lastSentTimestampMs,lastSyncRequestTimestampMs:a.lastSyncRequestTimestampMs,networkTaskIdentifier:a.networkTaskIdentifier,syncDatabaseId:a.syncDatabaseId,taskQueueName:a.taskQueueName})}));return c("LSBeginHandlingSync")(!1,c("LSFactory")(e))});return function(a){return e.apply(this,arguments)}}(),"readwrite").then(s))})},x=t(),y=v(),z=w();u();return{cleanup:function(){x(),z(),y()}}}g["default"]=a}),98);
__d("LSPlatformSyncSystemEager",["LSPlatformSyncSystem","Promise"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(){return(h||(h=b("Promise"))).resolve(c("LSPlatformSyncSystem"))}g["default"]=a}),98);
__d("LSPlatformDataTraceCheckPoint",["I64"],(function(a,b,c,d,e,f,g){"use strict";var h;a=(h||d("I64")).of_int32(5e4);g.CLIENT_SEND_TASK_PAYLOAD=a}),98);
__d("LSPlatformTaskSystemTransport",["CurrentMessengerUser","FBLogger","I64","JSScheduler","LSAppendDataTraceAddon","LSBeginHandlingPendingTasksForQueue","LSFactory","LSHandleTaskSendFailureForQueue","LSHandleTaskSendSuccessForQueue","LSJson","LSPlatformDataTraceCheckPoint","LSPlatformRealtimeTransport","LSPlatformRequestId","LSPlatformRequestScheduler","LSPlatformServerResponseHandler","LSShape","LSVec","MWPBumpEntityKey","MWPlatformTaskUtils","Promise","ReQL","asyncToGeneratorRuntime","cr:6666","cr:6668","gkx","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;a=function(){function a(a,e,f,g){var h=this;this.key="ls";this.$16=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var e=(yield h.$1.runInTransaction(function(d){return c("LSBeginHandlingPendingTasksForQueue")(a,b,c("LSFactory")(d))},"readwrite"));e=e[0];yield h.$15(d("LSShape").toRecord(e))});return function(b,c){return a.apply(this,arguments)}}();this.$1=a;this.$2=e;this.$3=f;this.$4=g;this.$5=new(c("LSPlatformRequestScheduler"))();this.$6=new(c("LSPlatformServerResponseHandler"))(f);this.$7=this.$8();this.$9()}var e=a.prototype;e.$10=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){yield this.$1.runInTransaction(function(b){return c("LSHandleTaskSendFailureForQueue")(a,c("LSFactory")(b))},"readwrite")});function d(b){return a.apply(this,arguments)}return d}();e.$11=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){yield this.$1.runInTransaction(function(b){return c("LSHandleTaskSendSuccessForQueue")(a,c("LSFactory")(b))},"readwrite","background")});function d(b){return a.apply(this,arguments)}return d}();e.$12=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=c("LSVec").toArray(a.tasks).slice(0).map(function(a){return d("LSShape").toRecord(a)});a=a[0];if(a==null)return;a=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(this.$1.table("pending_tasks")).getKeyRange(a.task_id)));if(c("gkx")("6551")&&a!=null&&a.dataTraceId!=null&&a.context==="46")try{var b=a.dataTraceId;c("promiseDone")(this.$1.runInTransaction(function(a){return c("LSAppendDataTraceAddon")(b,d("LSPlatformDataTraceCheckPoint").CLIENT_SEND_TASK_PAYLOAD,(i||(i=d("I64"))).of_int32(1),void 0,"pdb",c("LSFactory")(a))},"readwrite"),function(a){},function(a){c("FBLogger")("messenger_web_product").catching(a).warn("AppendTrace rejected in task system")})}catch(a){c("FBLogger")("messenger_web_product").catching(a).warn("Cannot append trace in task system")}return a==null?void 0:a.dataTraceId});function e(b){return a.apply(this,arguments)}return e}();e.$13=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e){var f=this;if(a.network_payload==null)return;var g=d("LSShape").toRecord(a.network_payload);(j||(j=d("JSScheduler"))).scheduleLoggingPriCallback(function(){return g&&(b("cr:6668")==null?void 0:b("cr:6668").recordTaskSending(g.tasks))});var k=this.$4;try{yield (h||(h=b("Promise"))).all(c("LSVec").toArray(g.tasks).map(function(a){return d("LSShape").toRecord(a)}).map(function(b){var g=c("LSPlatformRequestId").generate();return f.$2.publish((i||(i=d("I64"))).of_int32(1),a.queue_name,g,i.of_int32(e),d("LSJson").stringify(d("LSShape").ofRecord({label:b.label,payload:b.payload,version:k})))}))}catch(a){}});function e(b,c){return a.apply(this,arguments)}return e}();e.$14=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e){if(a.network_payload==null)return;var f=d("LSShape").toRecord(a.network_payload),g=(yield this.$12(f));(j||(j=d("JSScheduler"))).scheduleLoggingPriCallback(function(){return f&&(b("cr:6668")==null?void 0:b("cr:6668").recordTaskSending(f.tasks))});var h=c("LSPlatformRequestId").generate(),k;try{k=(yield this.$2.publish((i||(i=d("I64"))).of_int32(1),a.queue_name,h,i.of_int32(e),d("LSJson").stringify(d("LSShape").ofRecord(babelHelpers["extends"]({},f,{version_id:this.$4},g==null?{}:{data_trace_id:g})))))}catch(b){b.RE_EXN_ID===d("LSPlatformRealtimeTransport").Timeout?d("MWPBumpEntityKey").bumpEntityKeyWithAppId("lsplatform_tasks","send_fail_timeout"):b.RE_EXN_ID===d("LSPlatformRealtimeTransport").NotConnected?(d("MWPBumpEntityKey").bumpEntityKeyWithAppId("lsplatform_tasks","send_fail_notconnected"),c("FBLogger")("messenger_web_product").warn("Publishing a task to the server not connected")):(d("MWPBumpEntityKey").bumpEntityKeyWithAppId("lsplatform_tasks","send_fail_generic"),c("FBLogger")("messenger_web_product").warn("Error while publishing a task for request: %s, error %s",e,JSON.stringify(b))),yield this.$10(a.queue_name)}if(k!=null&&k.type==="taskresponse")try{h=k.downloadTask;var l=k.payload;g={experiments:l.ex,syncScript:l.payload,target:l.target};c("gkx")("6543")?yield this.$6.evalWhenReady(h,g):yield this.$3(g);yield this.$11(a.queue_name);(j||(j=d("JSScheduler"))).scheduleLoggingPriCallback(function(){return f&&(b("cr:6668")==null?void 0:b("cr:6668").recordTaskSent(f.tasks,l.payload))})}catch(b){d("MWPBumpEntityKey").bumpEntityKeyWithAppId("lsplatform_tasks","handle_task_failure"),c("FBLogger")("messenger_web_product").catching(b).mustfix("Encountered an error while processing a task response via realtime transport"),yield this.$10(a.queue_name)}});function e(b,c){return a.apply(this,arguments)}return e}();e.decideWhatToDoWithTask=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a=(yield a.runInTransaction(function(a){return c("LSBeginHandlingPendingTasksForQueue")(b,!1,c("LSFactory")(a))},"readwrite","background"));a=a[0];c("promiseDone")(this.$15(d("LSShape").toRecord(a)))});function e(b,c){return a.apply(this,arguments)}return e}();e.$15=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var e=this.$5,f=this.$16;function g(a,b){e.schedule(function(){c("promiseDone")(f(a,!1))},a,b)}var h=(i||(i=d("I64"))).to_int32(a.work_item_type);if(b("cr:6666")&&[1,5,2].includes(h))try{var j=(yield b("cr:6666").handleTask(this.$1,a,d("CurrentMessengerUser").getAccountID()));if(j!==b("cr:6666").DeferToLS)return}catch(b){c("FBLogger")("messenger_web_product").catching(b).mustfix("Error handling work for queue: %s",a.queue_name)}switch(h){case 1:yield this.$14(a,3);break;case 5:yield this.$13(a,4);break;case 3:g(a.queue_name,(i||(i=d("I64"))).to_float(a.next_sync_ms));break;case 2:if(b("cr:6666")==null){c("FBLogger")("messenger_web_product").mustfix("Native tasks not supported so far see gk mpf_web_native_tasks");c("FBLogger")("igd_web_on_msgr").mustfix("Native tasks not supported so far see gk igd_mpf_web_native_tasks");break}break;case 4:break;default:c("FBLogger")("messenger_web_product").warn("Unknown Task type of %s",h)}});function e(b){return a.apply(this,arguments)}return e}();e.$8=function(){var a=this,e=this.$1;return this.$2.onReconnect(function(){c("promiseDone")(e.runInTransaction(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var e=(yield d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.table("network_requests")).bounds({gte:d("ReQL").key("")}))),f=c("LSFactory")(a);yield (h||(h=b("Promise"))).all(e.map(function(a){a=a.taskQueueName;return c("LSHandleTaskSendFailureForQueue")(a,f)}))});return function(b){return a.apply(this,arguments)}}(),"readwrite")),a.$9()})};e.$9=function(){var a=this;d("MWPlatformTaskUtils").checkAllPendingTasksForWork(this.$1,function(b){b=b.queueName;return a.decideWhatToDoWithTask(a.$1,b)})};e.cleanup=function(){this.$7()};return a}();g["default"]=a}),98);
__d("LSPlatformTaskSystemTransportEager",["LSPlatformTaskSystemTransport","Promise"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(){return(h||(h=b("Promise"))).resolve(c("LSPlatformTaskSystemTransport"))}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("BTManifestName",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum")({MAIN:"main",LONGTAIL:"longtail"});c=a;f["default"]=c}),66);
__d("BtLongtailHashFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5779");b=d("FalcoLoggerInternal").create("bt_longtail_hash",a);e=b;g["default"]=e}),98);
__d("CometBTManifestLoader",["BootloaderEvents","BtLongtailHashFalcoEvent","ClientConsistencyEventEmitter","FBLogger","ODS","Promise","SiteData","XHRRequest","asyncToGeneratorRuntime","err","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=new Set();function k(a,b,c,d){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,d,e,f){var g=(yield new(i||(i=b("Promise")))(function(b,g){new(c("XHRRequest"))(a+"/btmanifest/"+e+"/"+d+"/"+f).setMethod("GET").setResponseHandler(function(a){return b(a.toString())}).setErrorHandler(function(a){return g(a)}).send()}));if(typeof g!=="string")throw c("FBLogger")("binary_transparency","bt_invalid_manifest_response").mustfixThrow("Invalid response from BT manifest endpoint");return g});return l.apply(this,arguments)}function m(a,b){(h||(h=d("ODS"))).bumpEntityKey(454,"obc.www.all","bt.comet_manifest_loader."+Number(d("SiteData").compose_bootloads)+"."+d("SiteData").pkg_cohort+"."+a+"."+b)}function n(a,b,d){var e;if(d instanceof Error)e=d;else if(typeof d==="object"){var f=JSON.stringify(d);e=c("err")("(XHRRequest): %s",f.slice(0,300)+(f.length>300?"...":""))}else e=c("err")(d);c("FBLogger")("binary_transparency","bt_download_manifest_error").catching(e).mustfix('Unable to download and inject BT manifest "%s" for version: %s',b,a)}function o(a,b){return p.apply(this,arguments)}function p(){p=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){if(!d("SiteData").manifest_origin||d("SiteData").manifest_version_prefix==null||d("SiteData").manifest_base_uri==null)return;var c=a+"_"+b;a=""+d("SiteData").manifest_version_prefix+a;if(j.has(c))return;m(b,"start");j.add(c);try{var e,f=document.createElement("script");f.innerText=(yield k(d("SiteData").manifest_base_uri,d("SiteData").manifest_origin,a,b));f.type="application/json";f.setAttribute("name","binary-transparency-manifest");f.dataset.manifestRev=a;f.dataset.manifestType=b;(e=document.head)==null?void 0:e.appendChild(f);m(b,"complete")}catch(d){m(b,"failed"),n(a,b,d),j["delete"](c)}});return p.apply(this,arguments)}function a(){c("promiseDone")(o(d("SiteData").client_revision,"main")),d("BootloaderEvents").onResourceInLongTailBTManifest(function(a){c("promiseDone")(o(d("SiteData").client_revision,"longtail")),a.hashes.forEach(function(b){c("BtLongtailHashFalcoEvent").log(function(){return{client_revision:String(d("SiteData").client_revision),compose_bootloads:d("SiteData").compose_bootloads,ef_page:d("SiteData").ef_page||"",hash:b,pkg_cohort:d("SiteData").pkg_cohort,reference:a.source,rls_id:d("SiteData").hsi}})})}),c("ClientConsistencyEventEmitter").addListener("newRevision",function(a){c("promiseDone")(o(a,"main")),c("promiseDone")(o(a,"longtail"))})}g.init=a}),98);
__d("CometIconWirelessSlashFilled.react",["CometSVGIcon.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsx(c("CometSVGIcon.react"),babelHelpers["extends"]({viewBox:"0 0 24 24"},a,{children:i.jsx("path",{d:"M23.7805.2195c.2925.293.2925.768 0 1.061l-22.5 22.5C1.134 23.927.942 24 .75 24c-.192 0-.384-.073-.5305-.2195-.2925-.293-.2925-.768 0-1.061l12.1967947-12.1971509c-2.3773758-.1150468-4.79162015.7286756-6.6038447 2.5401009-.3905.3905-1.0235.3905-1.414 0-.3905-.3905-.3905-1.024 0-1.414 2.65728981-2.65728981 6.3696459-3.62280965 9.8005664-2.90852144l2.430738-2.43186193C11.7816792 4.58111626 6.15198938 5.65271062 2.27735 9.52735c-.3905.3905-1.0235.3905-1.414 0-.3905-.3905-.3905-1.0235 0-1.414 4.6714534-4.67191574 11.571522-5.78608437 17.3096457-3.34843552L22.7195.2195c.293-.2925.768-.2925 1.061 0zM12 18.5c.6905 0 1.25.5595 1.25 1.25S12.6905 21 12 21s-1.25-.5595-1.25-1.25.5595-1.25 1.25-1.25zm1.4175-4.81495c.9705.2455 1.8905.741 2.6485 1.499.3905.3905.3905 1.0235 0 1.414-.1955.1955-.451.293-.707.293-.256 0-.512-.0975-.707-.293-.7835333-.7835333-1.8301422-1.1445778-2.8581093-1.0880116L11.574 15.52855l1.8435-1.8435zm3.8154-3.8154c.848.4725 1.649 1.059 2.3685 1.779.391.39.391 1.023 0 1.414-.195.195-.451.293-.707.293-.2555 0-.5115-.098-.707-.293-.7285-.728-1.5575-1.291-2.439-1.7085zm2.1908-2.1908l1.4425-1.4425c.8.545 1.5615 1.168 2.2705 1.877.3905.3905.3905 1.0235 0 1.414-.1955.1955-.451.293-.707.293-.256 0-.5115-.0975-.707-.293-.5933333-.59333333-1.2283333-1.11861111-1.895162-1.57959491L19.4237 7.67885l1.4425-1.4425z"})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("AsyncDOM",["CSS","DOM","FBLogger"],(function(a,b,c,d,e,f){a={invoke:function(a,c){for(var d=0;d<a.length;++d){var e=a[d],f=e[0],g=e[1],h=e[2];e=e[3];h=h&&c||null;g&&(h=b("DOM").scry(h||document.documentElement,g)[0]);h||b("FBLogger")("async_dom").warn("Could not find relativeTo element for %s AsyncDOM operation based on selector: %s",f,g);switch(f){case"hide":b("CSS").hide(h);break;case"show":b("CSS").show(h);break;case"setContent":b("DOM").setContent(h,e);break;case"appendContent":b("DOM").appendContent(h,e);break;case"prependContent":b("DOM").prependContent(h,e);break;case"insertAfter":b("DOM").insertAfter(h,e);break;case"insertBefore":b("DOM").insertBefore(h,e);break;case"remove":b("DOM").remove(h);break;case"replace":b("DOM").replace(h,e);break;default:b("FBLogger")("async_dom").warn("Received invalid command %s for AsyncDOM operation",f)}}}};e.exports=a}),null);
__d("AsyncResponse",["invariant","Bootloader","FBLogger","HTML","WebDriverConfig"],(function(a,b,c,d,e,f,g,h){"use strict";a=function(){function a(a,b){this.error=0,this.errorSummary=null,this.errorDescription=null,this.onload=null,this.replay=!1,this.payload=b,this.request=a,this.silentError=!1,this.transientError=!1,this.blockedAction=!1,this.is_last=!0,this.responseHeaders=null}var b=a.prototype;b.getRequest=function(){return this.request};b.getPayload=function(){return this.payload};b.toError=function(){this.error!==0||h(0,5599);var a=this.errorSummary||"",b=this.getErrorDescriptionString()||"",c=new Error(a.toString()+": "+b);Object.assign(c,{code:this.error,description:this.errorDescription||"",descriptionString:b,response:this,summary:a,isSilent:this.silentError,isTransient:this.transientError});return c};b.getError=function(){return this.error};b.getErrorSummary=function(){return this.errorSummary};b.setErrorSummary=function(a){a=a===void 0?null:a;this.errorSummary=a;return this};b.getErrorDescription=function(){return this.errorDescription};b.getErrorDescriptionString=function(){var a=this.getErrorDescription();if(a==null)return null;if(c("HTML").isHTML(a)){var b=new(c("HTML"))(a);return b.getRootNode().textContent}return a.toString()};b.getErrorIsWarning=function(){return!!this.errorIsWarning};b.isSilent=function(){return!!this.silentError};b.isTransient=function(){return!!this.transientError};b.isBlockedAction=function(){return!!this.blockedAction};b.getResponseHeader=function(a){var b=this.responseHeaders;if(!b)return null;b=b.replace(/^\n/,"");a=a.toLowerCase();b=b.split("\r\n");for(var c=0;c<b.length;++c){var d=b[c],e=d.indexOf(": ");if(e<=0)continue;var f=d.substring(0,e).toLowerCase();if(f===a)return d.substring(e+2)}return null};a.defaultErrorHandler=function(b){try{!b.silentError?a.verboseErrorHandler(b):c("FBLogger")("async_response").catching(b.toError()).warn("default error handler called")}catch(a){alert(b)}};a.verboseErrorHandler=function(a,b){c("Bootloader").loadModules(["ExceptionDialog"],function(c){return c.showAsyncError(a,b)},"AsyncResponse")};return a}();g["default"]=a}),98);
__d("ArbiterMixin",["Arbiter","guid"],(function(a,b,c,d,e,f,g){var h="arbiter$"+c("guid")(),i=Object.prototype.hasOwnProperty;a={_getArbiterInstance:function(){return i.call(this,h)?this[h]:this[h]=new(c("Arbiter"))()},inform:function(a,b,c){return this._getArbiterInstance().inform(a,b,c)},subscribe:function(a,b,c){return this._getArbiterInstance().subscribe(a,b,c)},subscribeOnce:function(a,b,c){return this._getArbiterInstance().subscribeOnce(a,b,c)},unsubscribe:function(a){this._getArbiterInstance().unsubscribe(a)},unsubscribeCurrentSubscription:function(){this._getArbiterInstance().unsubscribeCurrentSubscription()},releaseCurrentPersistentEvent:function(){this._getArbiterInstance().releaseCurrentPersistentEvent()},registerCallback:function(a,b){return this._getArbiterInstance().registerCallback(a,b)},query:function(a){return this._getArbiterInstance().query(a)}};b=a;g["default"]=b}),98);
__d("FetchStreamConfig",[],(function(a,b,c,d,e,f){a=Object.freeze({delim:"/*<!-- fetch-stream -->*/"});f["default"]=a}),66);
__d("StreamBlockReader",["Promise","regeneratorRuntime"],(function(a,b,c,d,e,f){var g;a=function(){function a(a){var c=this;if(!a.getReader)throw new Error("No getReader method found on given object");this.$3=a.getReader();this.$1="";this.$2=null;this.$4=!1;this.$5="utf-8";this.$6="";this.$9=!1;this.$8=function(){return(g||(g=b("Promise"))).reject("Sorry, you are somehow using this too early.")};this.$7=new(g||(g=b("Promise")))(function(a,b){c.$8=a})}var c=a.prototype;c.changeEncoding=function(a){if(this.$2)throw new Error("Decoder already in use, encoding cannot be changed");this.$5=a};c.$10=function(){if(!self.TextDecoder)throw new Error("TextDecoder is not supported here");this.$2||(this.$2=new self.TextDecoder(this.$5));return this.$2};c.$11=function(){if(this.$9)throw new Error("Something else is already reading from this reader");this.$9=!0};c.$12=function(){this.$9=!1};c.isDone=function(){return this.$4};c.$13=function(){var a,c,d,e;return b("regeneratorRuntime").async(function(f){while(1)switch(f.prev=f.next){case 0:if(!(this.$6!=="")){f.next=4;break}a=this.$6;this.$6="";return f.abrupt("return",a);case 4:if(!this.isDone()){f.next=6;break}throw new Error("You cannot read from a stream that is done");case 6:f.next=8;return b("regeneratorRuntime").awrap(this.$3.read());case 8:c=f.sent;d=c.done;e=c.value;this.$4=d;d&&this.$8();return f.abrupt("return",e?this.$10().decode(e,{stream:!d}):"");case 14:case"end":return f.stop()}},null,this)};c.readNextBlock=function(){var a;return b("regeneratorRuntime").async(function(b){while(1)switch(b.prev=b.next){case 0:this.$11();a=this.$13();this.$12();return b.abrupt("return",a);case 4:case"end":return b.stop()}},null,this)};c.readUntilStringOrEnd=function(a){return b("regeneratorRuntime").async(function(c){while(1)switch(c.prev=c.next){case 0:c.next=2;return b("regeneratorRuntime").awrap(this.readUntilOneOfStringOrEnd_DO_NOT_USE([a]));case 2:return c.abrupt("return",c.sent);case 3:case"end":return c.stop()}},null,this)};c.readUntilStringOrThrow=function(a){var c,d,e;return b("regeneratorRuntime").async(function(f){while(1)switch(f.prev=f.next){case 0:if(a){f.next=2;break}throw new Error("cannot read empty string");case 2:this.$11(),c="",d=0;case 5:if(this.isDone()){f.next=23;break}f.t0=c;f.next=9;return b("regeneratorRuntime").awrap(this.$13());case 9:c=f.t0+=f.sent;if(!(c.length<a.length)){f.next=12;break}return f.abrupt("continue",5);case 12:e=c.substring(d).indexOf(a);if(!(e!==-1)){f.next=20;break}e+=d;this.$6=c.substring(e+a.length);this.$12();return f.abrupt("return",c.substring(0,e));case 20:d=c.length-a.length+1;case 21:f.next=5;break;case 23:this.$6=c;this.$12();throw new Error("Breakpoint not found");case 26:case"end":return f.stop()}},null,this)};c.readUntilOneOfStringOrEnd_DO_NOT_USE=function(a){var c,d,e,f;return b("regeneratorRuntime").async(function(g){while(1)switch(g.prev=g.next){case 0:this.$11(),c="";case 2:if(this.isDone()){g.next=20;break}g.t0=c;g.next=6;return b("regeneratorRuntime").awrap(this.$13());case 6:c=g.t0+=g.sent,d=0;case 8:if(!(d<a.length)){g.next=18;break}e=a[d];f=c.indexOf(e);if(!(f!==-1)){g.next=15;break}this.$6=c.substring(f+e.length);this.$12();return g.abrupt("return",c.substring(0,f));case 15:d++;g.next=8;break;case 18:g.next=2;break;case 20:this.$12();return g.abrupt("return",c);case 22:case"end":return g.stop()}},null,this)};c.waitUntilDone=function(){return b("regeneratorRuntime").async(function(a){while(1)switch(a.prev=a.next){case 0:return a.abrupt("return",this.$7);case 1:case"end":return a.stop()}},null,this)};return a}();f["default"]=a}),66);
__d("mixin",[],(function(a,b,c,d,e,f){function a(){var a=function(){},b=0,c;while(b<0||arguments.length<=b?void 0:arguments[b]){c=b<0||arguments.length<=b?void 0:arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a.prototype[d]=c[d]);b+=1}return a}f["default"]=a}),66);
__d("FetchStreamTransport",["ArbiterMixin","FetchStreamConfig","StreamBlockReader","TimeSlice","URI","asyncToGeneratorRuntime","mixin","nullthrows"],(function(a,b,c,d,e,f,g){var h,i=0;a=function(a){babelHelpers.inheritsLoose(d,a);function d(b){var c;if(!self.ReadableStream||!self.fetch||!Request||!TextDecoder)throw new Error("fetch stream transport is not supported here");c=a.call(this)||this;c.$FetchStreamTransport$p_6=null;c.$FetchStreamTransport$p_1=b;c.$FetchStreamTransport$p_3=!1;c.$FetchStreamTransport$p_4=!1;c.$FetchStreamTransport$p_5=!1;c.$FetchStreamTransport$p_2=++i;return babelHelpers.assertThisInitialized(c)||babelHelpers.assertThisInitialized(c)}var e=d.prototype;e.hasFinished=function(){return this.$FetchStreamTransport$p_5};e.getRequestURI=function(){return new(h||(h=c("URI")))(this.$FetchStreamTransport$p_1).addQueryData({__a:1,__adt:this.$FetchStreamTransport$p_2,__req:"fetchstream_"+this.$FetchStreamTransport$p_2,ajaxpipe_fetch_stream:1})};e.send=function(){if(this.$FetchStreamTransport$p_3)throw new Error("FetchStreamTransport instances cannot be re-used.");this.$FetchStreamTransport$p_3=!0;var a=new Request(this.getRequestURI().toString(),{mode:"same-origin",credentials:"include"});this.$FetchStreamTransport$p_6=c("TimeSlice").getGuardedContinuation("FetchStreamTransport: waiting on first response");a=self.fetch(a,{redirect:"follow"});this.$FetchStreamTransport$p_7(a)};e.$FetchStreamTransport$p_7=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=this,d;try{d=(yield a)}catch(a){this.abort()}if(!d||!d.body||!d.ok){this.abort();return}var e=new(c("StreamBlockReader"))(d.body);a=function*(){var a=(yield e.readUntilStringOrEnd(c("FetchStreamConfig").delim));if(b.$FetchStreamTransport$p_4)return"break";c("nullthrows")(b.$FetchStreamTransport$p_6)(function(){var d=JSON.parse(a);e.isDone()||d.finished?b.$FetchStreamTransport$p_5=!0:b.$FetchStreamTransport$p_6=c("TimeSlice").getGuardedContinuation("FetchStreamTransport: waiting on next response");b.inform("response",d.content)})};while(!this.$FetchStreamTransport$p_5&&!this.$FetchStreamTransport$p_4){var f=(yield* a());if(f==="break")break}});function d(b){return a.apply(this,arguments)}return d}();e.abort=function(){var a=this;if(this.$FetchStreamTransport$p_4||this.$FetchStreamTransport$p_5)return;this.$FetchStreamTransport$p_4=!0;this.$FetchStreamTransport$p_5=!0;if(this.$FetchStreamTransport$p_6){var b=this.$FetchStreamTransport$p_6;b(function(){a.inform("abort")})}else this.inform("abort")};return d}(c("mixin")(c("ArbiterMixin")));g["default"]=a}),98);
__d("HTTPErrors",["emptyFunction"],(function(a,b,c,d,e,f,g){function a(a){return{summary:"HTTP Error",description:"Unknown HTTP error #"+a}}b={get:a,getAll:c("emptyFunction").thatReturns(new Map())};d=b;g["default"]=d}),98);
__d("JSONPTransport",["ArbiterMixin","DOM","HTML","TimeSlice","URI","mixin","setTimeout"],(function(a,b,c,d,e,f,g){var h,i={},j=2;function k(a){delete i[a]}a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var c;c=a.call(this)||this;c.$JSONPTransport$p_3=!1;c.$JSONPTransport$p_7=b;i[c.getID()]=babelHelpers.assertThisInitialized(c);return c}var d=b.prototype;d.getID=function(){return this.$JSONPTransport$p_4||(this.$JSONPTransport$p_4=j++)};d.hasFinished=function(){return!(this.getID()in i)};d.getRequestURI=function(){return new(h||(h=c("URI")))(this.$JSONPTransport$p_7).addQueryData({__a:1,__adt:this.getID(),__req:"jsonp_"+this.getID()})};d.getTransportFrame=function(){if(this.$JSONPTransport$p_5)return this.$JSONPTransport$p_5;var a="transport_frame_"+this.getID();a=c("HTML")('<iframe class="hidden_elem" name="'+a+'" src="javascript:void(0)" />');return this.$JSONPTransport$p_5=c("DOM").appendContent(document.body,a)[0]};d.send=function(){var a=this;this.getTransportFrame().onload=function(){return a.$JSONPTransport$p_8()};this.getTransportFrame().src=this.getRequestURI().toString();this.$JSONPTransport$p_2=c("TimeSlice").getGuardedContinuation("JSONPTransport: waiting for first response")};d.handleResponse=function(a){var b=this;this.$JSONPTransport$p_2==null?void 0:this.$JSONPTransport$p_2(function(){b.inform("response",a),b.hasFinished()?c("setTimeout")(function(){return b.$JSONPTransport$p_9()},0):b.$JSONPTransport$p_2=c("TimeSlice").getGuardedContinuation("JSONPTransport: waiting for next response")})};d.abort=function(){if(this.$JSONPTransport$p_1)return;this.$JSONPTransport$p_1=!0;this.$JSONPTransport$p_9();k(this.getID());this.inform("abort")};d.$JSONPTransport$p_8=function(){this.$JSONPTransport$p_3||this.abort()};d.$JSONPTransport$p_9=function(){this.$JSONPTransport$p_5&&(c("DOM").remove(this.$JSONPTransport$p_5),this.$JSONPTransport$p_5=null)};return b}(c("mixin")(c("ArbiterMixin")));a.respond=function(a,b,c){var d=i[a];if(d){d.$JSONPTransport$p_3=!0;c||k(a);b;if(typeof b==="string")c=JSON.parse(b);else{c=JSON.parse((a=JSON.stringify(b))!=null?a:"null")}d.handleResponse(c)}};a.respond=c("TimeSlice").guard(a.respond,"JSONPTransport.respond",{root:!0});g["default"]=a}),98);
__d("SessionName",["SessionNameConfig"],(function(a,b,c,d,e,f){e.exports={getName:function(){return b("SessionNameConfig").seed}}}),null);
__d("bind",[],(function(a,b,c,d,e,f){function a(a,b){var c=Array.prototype.slice.call(arguments,2);if(typeof b!=="string")return Function.prototype.bind.apply(b,[a].concat(c));function d(){var d=c.concat(Array.prototype.slice.call(arguments));if(a[b])return a[b].apply(a,d)}d.toString=function(){return"bound lazily: "+a[b]};return d}e.exports=a}),null);
__d("executeAfter",[],(function(a,b,c,d,e,f){function a(a,b,c){return function(){a.apply(c||this,arguments),b.apply(c||this,arguments)}}e.exports=a}),null);
__d("isSparkDotMetaDotComURI",[],(function(a,b,c,d,e,f){var g=new RegExp("(^|\\.)spark\\.meta\\.com$","i"),h=["https"];function a(a){if(a.isEmpty()&&a.toString()!=="#")return!1;return!a.getDomain()&&!a.getProtocol()?!1:h.indexOf(a.getProtocol())!==-1&&g.test(a.getDomain())}f["default"]=a}),66);
__d("AsyncRequest",["errorCode","fbt","invariant","Arbiter","AsyncDOM","AsyncRequestConfig","AsyncResponse","Bootloader","CSS","DTSG","DTSG_ASYNC","Deferred","Env","ErrorGuard","Event","FBLogger","FetchStreamTransport","HTTPErrors","HasteResponse","PHPQuerySerializer","Parent","Promise","ResourceTimingsStore","ResourceTypes","ScriptPath","ServerJS","SessionName","TimeSlice","URI","UserAgent_DEPRECATED","ZeroRewrites","bind","clearTimeout","emptyFunction","executeAfter","fb-error","ge","getAsyncHeaders","getAsyncParams","gkx","goURI","isBulletinDotComURI","isEmpty","isFacebookURI","isHorizonDotMetaDotComURI","isInternalFBURI","isMessengerDotComURI","isSparkDotMetaDotComURI","isWorkDotMetaDotComURI","isWorkplaceDotComURI","isWorkroomsDotComURI","performanceAbsoluteNow","promiseDone","replaceTransportMarkers","setTimeout","setTimeoutAcrossTransitions","unrecoverableViolation","uriIsRelativePath"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";var k,l,m,n,o,p,q;f=19e3;h=500;var r=1006,s=1004,t=1010,u=new Set([h,t,s,r]);function v(){try{return!window.domready}catch(a){return!0}}function w(a){return"onprogress"in a}function x(a){return"upload"in a&&"onprogress"in a.upload}function y(a){return"withCredentials"in a}function z(a){return a.status in{0:1,12029:1,12030:1,12031:1,12152:1}}function A(a){a=!a||typeof a==="function";a||c("FBLogger")("asyncresponse").mustfix("AsyncRequest response handlers must be functions. Pass a function, or use bind() to build one.");return a}var B=2,C=B,D=!1;c("Arbiter").subscribe("page_transition",function(a,b){!D?C=b.id:D=!1});var E="for (;;);",F=E.length,G=function(){function a(b){var e=this,f;this._allowIrrelevantRequests=!1;this._delayPreDisplayJS=!1;this._shouldReplaceTransportMarkers=!1;this._dispatchErrorResponse=function(a,b){var d=a.getError();e.clearStatusIndicator();if(!e._isRelevant()||d===t){e.abort();return}if(e._isServerDialogErrorCode(d)){var f=d==1357008||d==1357007;e.interceptHandler(a);d==1357041?e._solveQuicksandChallenge(a):d==1357007?e._displayServerDialog(a,f,!0):e._displayServerDialog(a,f)}else if(e.initialHandler(a)!==!1){c("clearTimeout")(e.timer);try{b(a)}catch(b){e.finallyHandler(a);throw b}e.finallyHandler(a)}};this._onStateChange=function(){var b=e.transport;if(!b)return;try{a._inflightCount--;d("ResourceTimingsStore").measureResponseReceived(c("ResourceTypes").XHR,e.resourceTimingStoreUID);try{b.getResponseHeader("X-FB-Debug")&&(e._xFbServer=b.getResponseHeader("X-FB-Debug"),c("fb-error").ErrorXFBDebug.add(e._xFbServer))}catch(a){}if(b.status>=200&&b.status<300)a.lastSuccessTime=Date.now(),e._handleXHRResponse(b);else if(d("UserAgent_DEPRECATED").webkit()&&typeof b.status==="undefined")e._invokeErrorHandler(1002);else if(c("AsyncRequestConfig").retryOnNetworkError&&z(b)&&e.remainingRetries>0&&!e._requestTimeout){e.remainingRetries--;delete e.transport;e.send(!0);return}else e._invokeErrorHandler();e.getOption("asynchronous_DEPRECATED")!==!1&&delete e.transport}catch(a){if(v())return;delete e.transport;e.remainingRetries>0?(e.remainingRetries--,e.send(!0)):(e.getOption("suppressErrorAlerts")||c("FBLogger")("AsyncRequest").catching(a).mustfix("AsyncRequest exception when attempting to handle a state change"),e._invokeErrorHandler(1007))}};this._handleTimeout=function(){e.continuation.last(function(){e._requestTimeout=!0;var a=e.timeoutHandler;e.abandon();a&&a(e);c("setTimeout")(function(){c("Arbiter").inform("AsyncRequest/timeout",{request:e})},0)})};this.continuation=c("TimeSlice").getPlaceholderReusableContinuation();this.transport=null;this.method="POST";this.uri="";this.timeout=null;this.timer=null;this.initialHandler=f=c("emptyFunction");this.handler=null;this.uploadProgressHandler=null;this.errorHandler=c("AsyncResponse").defaultErrorHandler;this.transportErrorHandler=null;this.timeoutHandler=null;this.interceptHandler=f;this.finallyHandler=f;this.abortHandler=f;this.serverDialogCancelHandler=null;this.relativeTo=null;this.statusElement=null;this.statusClass="";this.data={};this.headers={};this.file=null;this.context={};this.readOnly=!1;this.writeRequiredParams=[];this.remainingRetries=0;this.userActionID="-";this.resourceTimingStoreUID=d("ResourceTimingsStore").getUID(c("ResourceTypes").XHR,b!=null?b.toString():"");this.flushedResponseTextParseIndex=0;this.option={asynchronous_DEPRECATED:!0,suppressErrorHandlerWarning:!1,suppressEvaluation:!1,suppressErrorAlerts:!1,retries:0,bundle:!1,useIframeTransport:!1,handleErrorAfterUnload:!1,useFetchWithIframeFallback:!1};this.transportErrorHandler=c("bind")(this,"errorHandler");b!==void 0&&this.setURI(b);this.setAllowCrossPageTransition(c("AsyncRequestConfig").asyncRequestsSurviveTransitionsDefault||!1)}var f=a.prototype;f._dispatchResponse=function(a){this.clearStatusIndicator();if(!this._isRelevant()){this._invokeErrorHandler(t);return}if(this.initialHandler(a)===!1)return;c("clearTimeout")(this.timer);var b,d=this.getHandler();if(d)try{b=this._shouldSuppressJS(d(a))}catch(b){a.is_last&&this.finallyHandler(a);throw b}b||this._handleJSResponse(a);a.is_last&&this.finallyHandler(a)};f._shouldSuppressJS=function(b){return b===a.suppressOnloadToken};f._handlePreDisplayServerJS=function(a,b){var d=!1,e=[],f=function(){if(d){c("FBLogger")("AsyncResponse").warn("registerToBlockDisplayUntilDone_DONOTUSE called after AsyncResponse display started. This is a no-op.");return function(){}}var a,b=new(c("Deferred"))();e.push(b.getPromise());return c("TimeSlice").guard(function(){a&&c("clearTimeout")(a),b.resolve()},"AsyncRequestDisplayBlockingEvent",{propagationType:c("TimeSlice").PropagationType.EXECUTION})};a.handle(b,{bigPipeContext:{registerToBlockDisplayUntilDone_DONOTUSE:f}});d=!0;return e};f._hasEvalDomOp=function(a){return a&&a.length?a.some(function(a){return a[0]==="eval"}):!1};f._handleJSResponse=function(a){var b=this.getRelativeTo(),e=a.domops,f=a.dtsgToken,g=a.dtsgAsyncGetToken,h=a.jsmods,i=a.savedServerJSInstance;i&&i instanceof c("ServerJS")?i=i:i=new(c("ServerJS"))();i.setRelativeTo(b);if(h){var j={define:h.define,instances:h.instances,markup:h.markup};delete h.define;delete h.instances;delete h.markup;this._hasEvalDomOp(e)&&(j.elements=h.elements,delete h.elements);i.handle(j)}j=new(m||(m=c("URI")))(this.uri);(!j.getDomain()&&!j.getProtocol()||document.location.origin===j.getOrigin())&&(f&&d("DTSG").setToken(f),g&&d("DTSG_ASYNC").setToken(g));e&&(q||(q=c("ErrorGuard"))).applyWithGuard(function(){return d("AsyncDOM").invoke(e,b)},null,[],{errorType:"warn"});h&&i.handle(h);this._handleJSRegisters(a,"onload");this._handleJSRegisters(a,"onafterload")};f._handleJSRegisters=function(a,b){a=a[b];if(a)for(b=0;b<a.length;b++){var d=null,e=a[b],f=e.match(/^\"caller:([^\"]+?)\";(.*)/);f!=null&&(d=f[1],e=f[2]);(q||(q=c("ErrorGuard"))).applyWithGuard(new Function(e),this,[]);c("FBLogger")("comet_infra").info("Detected dynamic new Function(...) call in AsyncRequest._handleJSRegisters(...).",new(m||(m=c("URI")))(this.uri).getPath(),d)}};f.invokeResponseHandler=function(a){var e=this;if(typeof a.redirect!=="undefined"){c("setTimeout")(function(){e.setURI(a.redirect,!0).send()},0);return}if(a.bootloadOnly!==void 0){var f=typeof a.bootloadOnly==="string"?JSON.parse(a.bootloadOnly):a.bootloadOnly,g=function(a){c("TimeSlice").guard(function(){c("Bootloader").loadPredictedResourceMap(a)},"Bootloader.loadPredictedResourceMap",{root:!0})()};for(f of f)g(f);return}if(!this.handler&&!this.errorHandler&&!this.transportErrorHandler&&!this.preBootloadHandler&&this.initialHandler===c("emptyFunction")&&this.finallyHandler===c("emptyFunction"))return;var h=a.asyncResponse;if(typeof h!=="undefined"){if(!this._isRelevant()){this._invokeErrorHandler(t);return}h.updateScriptPath&&c("ScriptPath").set(h.updateScriptPath.path,h.updateScriptPath.token,h.updateScriptPath.extra_info);h.lid&&(this._responseTime=Date.now(),this.lid=h.lid);d("HasteResponse").handleSRPayload((g=h.hsrp)!=null?g:{});var i,j;if(h.getError()&&!h.getErrorIsWarning()){f=this.getErrorHandler().bind(this);i=(q||(q=c("ErrorGuard"))).guard(this._dispatchErrorResponse,{name:"AsyncRequest#_dispatchErrorResponse for "+this.getURI()});i=i.bind(this,h,f);j="error"}else{i=(q||(q=c("ErrorGuard"))).guard(this._dispatchResponse.bind(this),{name:"AsyncRequest#_dispatchResponse for "+this.getURI()});i=i.bind(this,h);j="response";g=h.domops;if(!this._delayPreDisplayJS&&h.jsmods&&h.jsmods.pre_display_requires&&!this._hasEvalDomOp(g)){f=h.jsmods;g={define:f.define,instances:f.instances,markup:f.markup};delete f.define;delete f.instances;delete f.markup;g.pre_display_requires=f.pre_display_requires;delete f.pre_display_requires;f=new(c("ServerJS"))();f.setRelativeTo(this.getRelativeTo());h.savedServerJSInstance=f;var k=this._handlePreDisplayServerJS(f,g);if(k&&k.length){var m=i;i=function(){c("promiseDone")((l||(l=b("Promise"))).all(k).then(m))}}}}var o=(n||(n=c("performanceAbsoluteNow")))();i=c("executeAfter")(i,function(){c("Arbiter").inform("AsyncRequest/"+j,{request:e,response:h,ts:o})});this.preBootloadHandler&&this.preBootloadHandler(h);c("Bootloader").loadResources((f=h.allResources)!=null?f:[],{onAll:c("AsyncRequestConfig").immediateDispatch?i:function(){c("setTimeout")(i,0)}})}else typeof a.transportError!=="undefined"?this._xFbServer?this._invokeErrorHandler(1008):this._invokeErrorHandler(1012):this._invokeErrorHandler(1007)};f._invokeErrorHandler=function(a){var b=this,d=this.transport;if(!d)return;var e;if(this.responseText==="")e=1002;else if(this._requestAborted)e=1011;else{try{e=a||d.status||s}catch(a){e=1005}!1===navigator.onLine&&(e=r)}var f,g;a=!0;if(e===r)g=i._("__JHASH__zia6hGr6i8P__JHASH__"),f=i._("__JHASH__PjKFkAw4Nck__JHASH__");else if(e>=300&&e<=399){g=i._("__JHASH__SUtyZBh0Rzk__JHASH__");f=i._("__JHASH__StinKHRkRou__JHASH__");var h=d.getResponseHeader("Location");h&&c("goURI")(h,!0);a=!0}else g=i._("__JHASH__zR4dpqEC6W7__JHASH__"),f=i._("__JHASH__7UBdKMXdKi6__JHASH__");var j=new(c("AsyncResponse"))(this,d);Object.assign(j,{error:e,errorSummary:g,errorDescription:f,silentError:a});c("setTimeout")(function(){c("Arbiter").inform("AsyncRequest/error",{request:b,response:j})},0);if(v()&&!this.getOption("handleErrorAfterUnload"))return;if(!this.transportErrorHandler){c("FBLogger")("asyncresponse").mustfix("Async request to %s failed with a %d error, but there was no error handler available to deal with it.",this.getURI(),e);return}h=this.getTransportErrorHandler().bind(this);!(this.getOption("suppressErrorAlerts")||u.has(e))?c("FBLogger")("asyncresponse").addToCategoryKey(String(e)).mustfix("Async request failed with error %s: %s when requesting %s",e,f.toString(),this.getURI()):u.has(e)&&c("FBLogger")("asyncresponse").addToCategoryKey(String(e)).warn("Async request failed with error %s: %s when requesting %s",e,f.toString(),this.getURI());(q||(q=c("ErrorGuard"))).applyWithGuard(this._dispatchErrorResponse,this,[j,h])};f._isServerDialogErrorCode=function(a){return a==1357008||a==1357007||a==1357041||a==1442002||a==1357001};f._solveQuicksandChallenge=function(a){var b=this,d=a.getPayload();c("Bootloader").loadModules(["QuickSandSolver"],function(a){a.solveAndSendRequestBack(b,d)},"AsyncRequest")};f._displayServerDialog=function(a,b,d){var e=this;d===void 0&&(d=!1);var f=a.getPayload();if(f.__dialog!==void 0){this._displayServerLegacyDialog(a,b);return}b=f.__dialogx;new(c("ServerJS"))().handle(b);if(f.__should_use_mwa_reauth===!0){c("Bootloader").loadModules(["MWADeveloperReauthBarrier"],function(b){b.registerRequest(f.__dialogID,e,a)},"AsyncRequest");return}c("Bootloader").loadModules(["ConfirmationDialog"],function(b){b.setupConfirmation(a,e,d)},"AsyncRequest")};f._displayServerLegacyDialog=function(a,b){var d=this,e=a.getPayload().__dialog;if(c("gkx")("708253")){var f;c("FBLogger")("comet_infra").addMetadata("COMET_INFRA","ERROR_CODE",a.getError().toString()).addMetadata("COMET_INFRA","ERROR_URL",(f=(f=a.request)==null?void 0:f.getURI())!=null?f:"unknown").mustfix("AsyncRequest._displayServerLegacyDialog called in Comet")}c("Bootloader").loadModules(["Dialog"],function(c){c=new c(e);b&&c.setHandler(d._displayConfirmationHandler.bind(d,c));c.setCancelHandler(function(){var b=d.getServerDialogCancelHandler();try{b&&b(a)}catch(a){throw a}finally{d.finallyHandler(a)}}).setCausalElement(d.relativeTo).show()},"AsyncRequest")};f._displayConfirmationHandler=function(a){this.data.confirmed=1,Object.assign(this.data,a.getFormData()),this.send()};f._setJSONPTransport=function(a){a.subscribe("response",this._handleJSONPResponse.bind(this)),a.subscribe("abort",this._handleJSONPAbort.bind(this)),this.transport=a};f._handleJSONPResponse=function(a,b){a=this.transport;if(!a)return;b.bootloadOnly||(this.is_first=this.is_first===void 0);b=this._interpretResponse(b);b.asyncResponse&&(b.asyncResponse.is_first=this.is_first,b.asyncResponse.is_last=a.hasFinished());this.invokeResponseHandler(b);a.hasFinished()&&delete this.transport};f._handleJSONPAbort=function(){this._invokeErrorHandler(),delete this.transport};f._handleXHRResponse=function(a){var b;if(this.getOption("suppressEvaluation"))b={asyncResponse:new(c("AsyncResponse"))(this,a)};else try{this._handleFlushedResponse();a=a.responseText;a=this._filterOutFlushedText(a);a=this._unshieldResponseText(a);a=JSON.parse(a);b=this._interpretResponse(a)}catch(a){b=a.message,c("FBLogger")("async_request").catching(a).warn("Failed to handle response")}this.invokeResponseHandler(b)};f._handleFlushedResponse=function(){var a=this.flushedResponseHandler,b=this.transport;if(a&&b){var c=b.responseText.indexOf(E);c=c===-1?b.responseText.length:c;a(b.responseText.substring(this.flushedResponseTextParseIndex,c));this.flushedResponseTextParseIndex=c}};f._unshieldResponseText=function(a){if(a.length<=F)throw new Error("Response too short on async");var b=0;while(a.charAt(b)==" "||a.charAt(b)=="\n")b++;b&&a.substring(b,b+F)==E;return a.substring(b+F)};f._filterOutFlushedText=function(a){if(!this.flushedResponseHandler)return a;var b=a.indexOf(E);return b<0?a:a.substr(b)};f._interpretResponse=function(a){if(a.redirect)return{redirect:a.redirect};if(a.bootloadOnly)return{bootloadOnly:a.bootloadOnly};var b=a.error&&this._isServerDialogErrorCode(a.error);this._shouldReplaceTransportMarkers&&a.payload&&!b&&c("replaceTransportMarkers")({relativeTo:this.getRelativeTo(),bigPipeContext:null},a.payload);b=new(c("AsyncResponse"))(this);if(a.__ar!=1)c("FBLogger")("AsyncRequest").warn("AsyncRequest to endpoint %s returned a JSON response, but it is not properly formatted. The endpoint needs to provide a response using the AsyncResponse class in PHP.",this.getURI()),b.payload=a;else{Object.assign(b,a);a=this.transport;a&&a.getAllResponseHeaders!==void 0&&(b.responseHeaders=a.getAllResponseHeaders())}return{asyncResponse:b}};f._isMultiplexable=function(){if(this.getOption("useIframeTransport")||this.getOption("useFetchWithIframeFallback")){c("FBLogger")("AsyncRequest").mustfix("You cannot bundle AsyncRequest that uses iframe transport.");return!1}if(!c("isFacebookURI")(new(m||(m=c("URI")))(this.uri))){c("FBLogger")("AsyncRequest").mustfix("You can not bundle AsyncRequest sent to non-facebook URIs.  Uri: %s",this.getURI());return!1}if(!this.getOption("asynchronous_DEPRECATED")){c("FBLogger")("AsyncRequest").mustfix("We cannot bundle synchronous AsyncRequests");return!1}return!0};f.handleResponse=function(a){a=this._interpretResponse(a);this.invokeResponseHandler(a)};f.setMethod=function(a){this.method=a.toString().toUpperCase();return this};f.getMethod=function(){return this.method};f.setData=function(a){this.data=a;return this};f.setRequestHeader=function(a,b){this.headers[a]=b;return this};f.setRawData=function(a){this.rawData=a;return this};f.getData=function(){return this.data};f.setContextData=function(a,b,c){c=c===void 0?!0:c;c&&(this.context["_log_"+a]=b);return this};f._setUserActionID=function(){this.userActionID=(d("SessionName").getName()||"-")+"/-"};f.setURI=function(a,b){b===void 0&&(b=!1);typeof a==="string"&&a.match(/^\/?u_\d+_\d+/)&&c("FBLogger")("asyncrequest").warn("Invalid URI %s",a);var e=new(m||(m=c("URI")))(a);if((this.getOption("useIframeTransport")||this.getOption("useFetchWithIframeFallback"))&&!c("isFacebookURI")(e)){b&&j(0,45284);return this}if(!this._allowCrossOrigin&&!this.getOption("useIframeTransport")&&!this.getOption("useFetchWithIframeFallback")&&!e.isSameOrigin()&&!c("uriIsRelativePath")(e)){b&&j(0,45285);return this}this._setUserActionID();if(!a||e.isEmpty()){c("FBLogger")("async_request").mustfix("URI cannot be empty");return this}this.uri=d("ZeroRewrites").rewriteURI(e);return this};f.getURI=function(){return this.uri.toString()};f.delayPreDisplayJS=function(a){a===void 0&&(a=!0);this._delayPreDisplayJS=a;return this};f.setInitialHandler=function(a){this.initialHandler=a;return this};f.setPayloadHandler=function(a){this.setHandler(function(b){a(b.payload)});return this};f.setHandler=function(a){A(a)&&(this.handler=a);return this};f.setFlushedResponseHandler=function(a){A(a)&&(this.flushedResponseHandler=a);return this};f.getHandler=function(){return this.handler||c("emptyFunction")};f.setProgressHandler=function(a){A(a)&&(this.progressHandler=a);return this};f.setUploadProgressHandler=function(a){A(a)&&(this.uploadProgressHandler=a);return this};f.setErrorHandler=function(a){A(a)&&(this.errorHandler=a);return this};f.setTransportErrorHandler=function(a){this.transportErrorHandler=a;return this};f.getErrorHandler=function(){return this.errorHandler||c("emptyFunction")};f.getTransportErrorHandler=function(){return this.transportErrorHandler||c("emptyFunction")};f.setTimeoutHandler=function(a,b){A(b)&&(this.timeout=a,this.timeoutHandler=b);return this};f.resetTimeout=function(a){if(!(this.timeoutHandler===null))if(a===null)this.timeout=null,c("clearTimeout")(this.timer),this.timer=null;else{var b=!this._allowCrossPageTransition;this.timeout=a;c("clearTimeout")(this.timer);b?this.timer=c("setTimeout")(this._handleTimeout.bind(this),this.timeout):this.timer=c("setTimeoutAcrossTransitions")(this._handleTimeout.bind(this),this.timeout)}return this};f.setNewSerial=function(){this.id=++B;return this};f.setInterceptHandler=function(a){this.interceptHandler=a;return this};f.setFinallyHandler=function(a){this.finallyHandler=a;return this};f.setAbortHandler=function(a){this.abortHandler=a;return this};f.getServerDialogCancelHandler=function(){return this.serverDialogCancelHandler};f.setServerDialogCancelHandler=function(a){this.serverDialogCancelHandler=a;return this};f.setPreBootloadHandler=function(a){this.preBootloadHandler=a;return this};f.setReadOnly=function(a){typeof a!=="boolean"||(this.readOnly=a);return this};f.getReadOnly=function(){return this.readOnly};f.setRelativeTo=function(a){this.relativeTo=a;return this};f.getRelativeTo=function(){return this.relativeTo};f.setStatusClass=function(a){this.statusClass=a;return this};f.setStatusElement=function(a){this.statusElement=a;return this};f.getStatusElement=function(){return c("ge")(this.statusElement)};f._isRelevant=function(){if(this._allowCrossPageTransition)return!0;return!this.id?!0:this.id>C};f.clearStatusIndicator=function(){var a=this.getStatusElement();a&&(d("CSS").removeClass(a,"async_saving"),d("CSS").removeClass(a,this.statusClass))};f._addStatusIndicator=function(){var a=this.getStatusElement();a&&(d("CSS").addClass(a,"async_saving"),d("CSS").addClass(a,this.statusClass))};f.specifiesWriteRequiredParams=function(){var a=this;return this.writeRequiredParams.every(function(b){a.data[b]=a.data[b]||(o||(o=c("Env")))[b]||(c("ge")(b)||{}).value;return a.data[b]!==void 0?!0:!1})};f.setOption=function(a,b){typeof this.option[a]!=="undefined"&&(this.option[a]=b);return this};f.getOption=function(a){typeof this.option[a]==="undefined";return this.option[a]};f.abort=function(){var a=this;this.continuation.last(function(){var b=a.transport;if(b){var d=a.getTransportErrorHandler();a.setOption("suppressErrorAlerts",!0);a.setTransportErrorHandler(c("emptyFunction"));a._requestAborted=!0;b.abort();a.setTransportErrorHandler(d)}a.abortHandler();J.unschedule(a)})};f.abandon=function(){var a=this;this.continuation.last(function(){var b;c("clearTimeout")(a.timer);a.setOption("suppressErrorAlerts",!0).setHandler(b=c("emptyFunction")).setErrorHandler(b).setTransportErrorHandler(b).setProgressHandler(b).setUploadProgressHandler(b);b=a.transport;b&&(a._requestAborted=!0,w(b)&&delete b.onprogress,x(b)&&delete b.upload.onprogress,b.abort());a.abortHandler();J.unschedule(a)})};f.setNectarModuleDataSafe=function(a){var b=this.setNectarModuleData;b&&b.call(this,a);return this};f.setAllowCrossPageTransition=function(a){this._allowCrossPageTransition=!!a;this.timer&&this.resetTimeout(this.timeout);return this};f.getAllowIrrelevantRequests=function(){return this._allowIrrelevantRequests};f.setAllowIrrelevantRequests=function(a){this._allowIrrelevantRequests=a;return this};f.setAllowCrossOrigin=function(a){this._allowCrossOrigin=a;return this};f.setAllowCredentials=function(a){this._allowCredentials=a;return this};f.setIsBackgroundRequest=function(a){this._isBackgroundRequest=a;return this};f.setReplaceTransportMarkers=function(a){a===void 0&&(a=!0);this._shouldReplaceTransportMarkers=a;return this};f.sendAndReturnAbortHandler=function(){var a=this;this.send();return function(){return a.abort()}};f.send=function(b){var f=this;b=b||!1;if(!this.uri)return!1;this.errorHandler||!this.getOption("suppressErrorHandlerWarning");(this.getOption("useIframeTransport")||this.getOption("useFetchWithIframeFallback"))&&this.method!="GET"&&this.setMethod("GET");this.timeoutHandler!==null&&(this.getOption("useIframeTransport")||this.getOption("useFetchWithIframeFallback"));if(!this.getReadOnly()){this.specifiesWriteRequiredParams();if(this.method!="POST")return!1}if(document.location.search.toString().includes(this.uri.toString()))return!1;if(this.uri.toString().includes("/../")||this.uri.toString().includes("\\../")||this.uri.toString().includes("/..\\")||this.uri.toString().includes("\\..\\"))return!1;Object.assign(this.data,c("getAsyncParams")(this.method));(p||(p=c("isEmpty")))(this.context)||(Object.assign(this.data,this.context),this.data.ajax_log=1);(o||(o=c("Env"))).force_param&&Object.assign(this.data,(o||(o=c("Env"))).force_param);this._setUserActionID();if(this.getOption("bundle")&&this._isMultiplexable()){J.schedule(this);return!0}this.setNewSerial();this.getOption("asynchronous_DEPRECATED")||this.uri.addQueryData({__sjax:1});c("Arbiter").inform("AsyncRequest/send",{request:this,ts:(n||(n=c("performanceAbsoluteNow")))()});var g,h;this.method=="GET"&&this.uri.addQueryData({fb_dtsg_ag:d("DTSG_ASYNC").getToken()});this.method=="GET"||this.rawData?(g=this.uri.addQueryData(this.data).toString(),h=this.rawData||""):(this._allowCrossOrigin&&this.uri.addQueryData({__a:1}),g=this.uri.toString(),h=(k||(k=d("PHPQuerySerializer"))).serialize(this.data));if(this.transport)return!1;if(this.getOption("useFetchWithIframeFallback"))try{var i=new(c("FetchStreamTransport"))(this.uri);this._setJSONPTransport(i);this._markRequestSent();i.send();this.setOption("useIframeTransport",!1);return!0}catch(a){this.setOption("useFetchWithIframeFallback",!1),this.setOption("useIframeTransport",!0)}if(this.getOption("useIframeTransport")){e(["JSONPTransport"],function(a){a=new a(f.uri);f._setJSONPTransport(a);f._markRequestSent();a.send()});return!0}this.flushedResponseHandler&&(this.flushedResponseTextParseIndex=0);var j;try{j=d("ZeroRewrites").getTransportBuilderForURI(this.uri)()}catch(a){throw c("unrecoverableViolation")(a.message,"comet_infra",{},{blameToPreviousFrame:1})}if(!j)return!1;this.schedule("AsyncRequest.send");j.onreadystatechange=function(){var a=f.transport;a&&a.readyState>=2&&a.readyState<=3&&f._handleFlushedResponse();j.readyState===4&&f.continuation.last(f._onStateChange)};this.progressHandler&&w(j)&&(j.onprogress=function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];f.continuation(function(){f.progressHandler&&f.progressHandler.apply(f,b)})});this.uploadProgressHandler&&x(j)&&(j.upload.onprogress=function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];f.continuation(function(){f.uploadProgressHandler&&f.uploadProgressHandler.apply(f,b)})});b||(this.remainingRetries=this.getOption("retries"));this.transport=j;try{j.open(this.method,g,c("gkx")("1857581")?!0:this.getOption("asynchronous_DEPRECATED"))}catch(a){return!1}if(!this.uri.isSameOrigin()&&!c("uriIsRelativePath")(this.uri)&&!this.getOption("useIframeTransport")&&!this.getOption("useFetchWithIframeFallback")){if(!y(j))return!1;this._canSendCredentials()&&(j.withCredentials=!0)}this.method=="POST"&&!this.rawData&&j.setRequestHeader("Content-Type","application/x-www-form-urlencoded");this._isBackgroundRequest&&j.setRequestHeader("X_FB_BACKGROUND_STATE","1");var l=c("getAsyncHeaders")(this.uri);Object.keys(l).forEach(function(a){j&&j.setRequestHeader(a,l[a])});c("Arbiter").inform("AsyncRequest/will_send",{request:this});if(j)for(i in this.headers)Object.prototype.hasOwnProperty.call(this.headers,i)&&j.setRequestHeader(i,this.headers[i]);this._addStatusIndicator();this._markRequestSent();j.send(h);this.timeout!==null&&this.resetTimeout(this.timeout);a._inflightCount++;return!0};f.schedule=function(a){this.continuation=c("TimeSlice").getReusableContinuation(a)};f._canSendCredentials=function(){if(this._allowCredentials===!1)return!1;var a=new(m||(m=c("URI")))(this.uri);return c("isBulletinDotComURI")(a)||c("isFacebookURI")(a)||c("isInternalFBURI")(a)||c("isMessengerDotComURI")(a)||c("isWorkplaceDotComURI")(a)||c("isWorkroomsDotComURI")(a)||c("isWorkDotMetaDotComURI")(a)||c("isHorizonDotMetaDotComURI")(a)||c("isSparkDotMetaDotComURI")(a)};f._markRequestSent=function(){var a=new(m||(m=c("URI")))(this.getURI()).getQualifiedURI().toString();d("ResourceTimingsStore").updateURI(c("ResourceTypes").XHR,this.resourceTimingStoreUID,a);d("ResourceTimingsStore").annotate(c("ResourceTypes").XHR,this.resourceTimingStoreUID).addStringAnnotation("uri",a);d("ResourceTimingsStore").measureRequestSent(c("ResourceTypes").XHR,this.resourceTimingStoreUID)};f.promisePayload=function(a){return this.exec().then(function(a){return a.payload},function(a){throw a.toError()})};f.exec=function(a){var d=this;if(this.getHandler()!==c("emptyFunction")||this.getErrorHandler()!==c("AsyncResponse").defaultErrorHandler)throw new Error("exec is an async function and does not allow previously set handlers");return new(l||(l=b("Promise")))(function(b,c){d.setHandler(b).setErrorHandler(c).send(a)})};a.bootstrap=function(b,e,f){var g="GET",h=!0,i={};(f||e&&e.rel=="async-post")&&(g="POST",h=!1,b&&(b=new(m||(m=c("URI")))(b),i=b.getQueryData(),b.setQueryData({})));f=d("Parent").byClass(e,"stat_elem")||e;if(f&&d("CSS").hasClass(f,"async_saving"))return!1;b=new a(b).setReadOnly(h).setMethod(g).setData(i).setNectarModuleDataSafe(e).setRelativeTo(e);e&&(b.setHandler(function(a){c("Event").fire(e,"success",{response:a})}),b.setErrorHandler(function(a){c("Event").fire(e,"error",{response:a})!==!1&&c("AsyncResponse").defaultErrorHandler(a)}));if(f instanceof HTMLElement){b.setStatusElement(f);h=f.getAttribute("data-status-class");h&&b.setStatusClass(h)}b.send();return!1};a.bootstrap_UNSAFE_LET_ANYONE_IMPERSONATE_THE_USER_FOR_THESE_WRITES=function(b,c,d){a.bootstrap(b,c,d)};a.post=function(b,c){new a(b).setReadOnly(!1).setMethod("POST").setData(c).send();return!1};a.post_UNSAFE_LET_ANYONE_IMPERSONATE_THE_USER_FOR_THESE_WRITES=function(b,c){a.post(b,c)};a.getLastID=function(){return B};a.ignoreUpdate=function(){D=!0};a.getInflightCount=function(){return this._inflightCount};return a}();G._inflightCount=0;var H,I=[],J=function(){function a(){this._requests=[]}var b=a.prototype;b.add=function(a){this._requests.push(a)};b.remove=function(a){var b=this._requests,c=this._requestsSent;for(var d=0,e=b.length;d<e;d++)b[d]===a&&(c?b[d]=null:b.splice(d,1))};b.send=function(){this._requestsSent&&j(0,4390);this._requestsSent=!0;this._wrapperRequest=null;var a=this._requests;if(!a.length)return;var b;if(a.length===1)b=a[0];else{a=a.filter(Boolean).map(function(a){return[a.uri.getPath(),(k||(k=d("PHPQuerySerializer"))).serialize(a.data)]});b=this._wrapperRequest=new G("/ajax/proxy.php").setAllowCrossPageTransition(!0).setData({data:a}).setHandler(this._handler.bind(this)).setTransportErrorHandler(this._transportErrorHandler.bind(this))}b&&b.setOption("bundle",!1).send()};b._handler=function(a){var b=this,c=a.getPayload().responses;if(c.length!==this._requests.length)return;a=function(a){var d=b._requests[a];if(!d)return"continue";var e=d.uri.getPath();b._wrapperRequest&&(d.id=b._wrapperRequest.id);if(c[a][0]!==e){d.continuation.last(function(){d.invokeResponseHandler({transportError:"Wrong response order in bundled request to "+e})});return"continue"}d.continuation.last(function(){d.handleResponse(c[a][1])})};for(var d=0;d<this._requests.length;d++){var e=a(d);if(e==="continue")continue}I.splice(I.indexOf(this,1))};b._transportErrorHandler=function(a){var b=this,c={transportError:a.errorDescription};a=this._requests.filter(Boolean).map(function(a){b._wrapperRequest&&(a.id=b._wrapperRequest.id);a.invokeResponseHandler(c);return a.uri.getPath()})};a.schedule=function(b){b.schedule("AsyncMultiplex.schedule");H||(H=new a(),I.push(H),c("TimeSlice").guard(function(){c("setTimeoutAcrossTransitions")(function(){H&&(H.send(),H=null)},0)},"AsyncMultiplex.schedule",{propagationType:c("TimeSlice").PropagationType.ORPHAN})());H.add(b);return H};a.unschedule=function(a){I.forEach(function(b){b.remove(a)})};return a}();G.suppressOnloadToken={};a.AsyncRequest=G;g["default"]=G}),98);
__d("StringTransformations",[],(function(a,b,c,d,e,f){"use strict";a={unicodeEscape:function(a){return a.replace(/[^A-Za-z0-9\-\.\:\_\$\/\+\=]/g,function(a){a=a.charCodeAt(0).toString(16);return"\\u"+("0000"+a.toUpperCase()).slice(-4)})},unicodeUnescape:function(a){return a.replace(/(\\u[0-9A-Fa-f]{4})/g,function(a){return String.fromCharCode(parseInt(a.slice(2),16))})}};f["default"]=a}),66);
__d("WebStorageMonster",["AsyncRequest","CacheStorage","Event","ExecutionEnvironment","NetworkStatus","StringTransformations","UserActivity","WebStorage","WebStorageCleanupReason","WebStorageMonsterLoggingURI","ifRequired","isEmpty","killswitch","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=1e4,l=5,m=!1;function n(a){var b={};for(var d in a){var e=a.getItem(d),f=c("StringTransformations").unicodeEscape(d);typeof e==="string"&&(b[f]=e.length)}return b}function o(a){var b=(h||(h=c("WebStorage"))).getLocalStorage();if(!b||a==null||!a.keys)return;r._getLocalStorageKeys().forEach(function(c){a.keys.includes(c)&&b.removeItem(c)})}function p(a){var b=(h||(h=c("WebStorage"))).getLocalStorage();b&&r._getLocalStorageKeys().forEach(function(c){a.some(function(a){return new RegExp(a).test(c)})||b.removeItem(c)})}function q(a,b){a===void 0&&(a=!1);b===void 0&&(b=k);if(c("UserActivity").isActive(b)){var d=Math.max(k,Math.floor(b/l));c("setTimeoutAcrossTransitions")(function(){q(a,d)},d)}else{r.cleanNow(a);var e=!c("killswitch")("WEB_STORAGE_MONSTER_DONT_RESCHEDULE_ON_RUN");if(e){var f=b*l;c("setTimeoutAcrossTransitions")(function(){q(a,f)},f)}}}var r={registerLogoutForm:function(a,b){c("Event").listen(a,"submit",function(a){r.cleanOnLogout(b,"WebStorageMonster.registerLogoutForm")})},schedule:function(a){a===void 0&&(a=!1);if(m||!(i||(i=c("ExecutionEnvironment"))).isInBrowser)return;m=!0;q(a)},cleanNow:function(a){a===void 0&&(a=!1);var b=Date.now(),d={},e=(h||(h=c("WebStorage"))).getLocalStorage();e&&(d.local_storage=n(e));e=h.getSessionStorage();e&&(d.session_storage=n(e));e=!(j||(j=c("isEmpty")))(d);var f=Date.now();d.logtime=f-b;if(e){var g,i=c("WebStorageMonsterLoggingURI").uri;if(i===null)return null;var k=function(){new(c("AsyncRequest"))(i).setData(d).setHandler(function(b){b=b.getPayload();b&&b.keys&&(b.keys=b.keys.map(c("StringTransformations").unicodeUnescape));a||o(b);c("NetworkStatus").reportSuccess()}).setErrorHandler(function(){c("NetworkStatus").reportError()}).setOption("retries",2).send()};if(c("NetworkStatus").isOnline())k();else{f=function(a){a=a.online;a&&(k(),g.remove())};g=c("NetworkStatus").onChange(f)}}},cleanOnLogout:function(a,b){d("WebStorageCleanupReason").setLastCleanupReason(b);c("CacheStorage").disablePersistentWrites();c("ifRequired")("WebAsyncStorage",function(a){a.disablePersistentWrites()});a?p(a):p([]);b=(h||(h=c("WebStorage"))).getSessionStorage();b&&b.clear();c("ifRequired")("WebAsyncStorage",function(a){a.clear(function(){})})},_getLocalStorageKeys:function(){var a=(h||(h=c("WebStorage"))).getLocalStorage();return a?Object.keys(a):[]}};a=r;g["default"]=a}),98);
__d("CometNetworkStatusToast",["fbt","ix","BaseToasterStateManager","CometIconWirelessSlashFilled.react","CometRelayEnvironmentFactory","NetworkStatus","SVGIcon","TetraIcon.react","cometPushToast","fbicon","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||d("react"),l=null;function m(a){a=a.online;var b=c("BaseToasterStateManager").getInstance();l!=null&&(b.expire(l),l=null);l=a?d("cometPushToast").cometPushToast({icon:k.jsx(c("TetraIcon.react"),{color:"positive",icon:d("fbicon")._(i("485124"),24)}),message:h._("__JHASH__Twor-U8sZs8__JHASH__")},4e3,b):d("cometPushToast").cometPushToast({action:{label:h._("__JHASH__mzjg0e604Yh__JHASH__"),onPress:function(){d("CometRelayEnvironmentFactory").commitLocalUpdateForEachEnvironment(function(a,b,c){c.invalidateStore()})}},icon:k.jsx(c("TetraIcon.react"),{color:"disabled",icon:d("SVGIcon").legacySVGIcon(c("CometIconWirelessSlashFilled.react")),size:24}),message:h._("__JHASH__px_Aor7szAo__JHASH__")},Infinity,b)}function a(){c("NetworkStatus").onChange(m)}g.subscribe=a}),98);
__d("BDSignalBufferData",[],(function(a,b,c,d,e,f){"use strict";a={};b=a;f["default"]=b}),66);
__d("BDSignalWrapper",["BDSignalBufferData","SignalCollectorMap"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b){this.signalFlags=a,this.signalType=b}var b=a.prototype;b.getSignalCollector=function(){return c("SignalCollectorMap").get(this.signalType)};b.getBufferConfig=function(){return c("BDSignalBufferData")[this.signalType]};return a}();g["default"]=a}),98);
__d("SignalValueContext",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.cn=a}var b=a.prototype;b.getSignalValueContextName=function(){return this.cn};return a}();f["default"]=a}),66);
__d("BDSignalCollectorBase",["BDSignalBufferData","SignalValueContext","regeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.signalType=a}var d=a.prototype;d.executeSignalCollection=function(){throw new Error("Child class responsibility to implement executeSignalCollection")};d.executeAsyncSignalCollection=function(){var a;return b("regeneratorRuntime").async(function(c){while(1)switch(c.prev=c.next){case 0:c.next=2;return b("regeneratorRuntime").awrap(this.executeSignalCollection());case 2:a=c.sent;return c.abrupt("return",a);case 4:case"end":return c.stop()}},null,this)};a.getSanitizedURI=function(){var a=window.location.href,b=a.indexOf("?");return b<0?a:a.substring(0,b)};d.getContext=function(){return new(c("SignalValueContext"))(a.getSanitizedURI())};d.throwIfNotInitialized=function(){if(!(this.signalType in c("BDSignalBufferData")))throw new Error("Signal is not intialized")};return a}();g["default"]=a}),98);
__d("BDLoggingConstants",[],(function(a,b,c,d,e,f){"use strict";a={ERROR:"error",WARNING:"warning",INFO:"info"};b={KEY_NOT_FOUND:"key_not_found",APPEND_SIGNAL:"bd_append_signal",APPEND_SIGNAL_FAIL:"bd_append_signal_fail",HB_COLLECTED:"append_hb",HB_COLLECTION_FAILED:"hb_collection_failed",BD_EXCEPTION:"bd_exception",SIGNAL_NOT_IMPLEMENTED:"signal_not_implemented",SIGNAL_VALUE_NULL:"signal_value_null",EMPTY_SIGNAL_CONFIG:"empty_signal_config",INVALID_BUFFER_SIZE:"invalid_buffer_size",INVALID_DURATION:"invalid_duration",SIGNAL_FLAGS_MISSING:"signal_flags_missing",DYNAMIC_SIGNAL_COLLECTION_STARTED:"dynamic_signal_collection_started",BIOMETRIC_SIGNAL_COLLECTION_STARTED:"biometric_signal_collection_started",INVALID_GUID:"invalid_guid",INVALID_LENGTH:"invalid_length",GET_LOCAL_STORAGE_ERROR:"get_local_storage_error",WEB_STORAGE:"web_storage",PARSE_CONFIG_ERROR:"parse_config_error",HB_START_FAILURE:"hb_start_failure",HB_ALREADY_RUNNING:"hb_already_running",TRY_RESTARTING_HB:"try_restarting_hb",BANZAI_LOG_ERROR:"banzai_log_error"};c="JS";f.LEVELS=a;f.OPERATIONS=b;f.COMPONENT_NAME=c}),66);
__d("BDOperationTypedLogger",["Banzai","GeneratedLoggerUtils"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(a){b("GeneratedLoggerUtils").log("logger:BDOperationLoggerConfig",this.$1,b("Banzai").BASIC,a)};c.logVital=function(a){b("GeneratedLoggerUtils").log("logger:BDOperationLoggerConfig",this.$1,b("Banzai").VITAL,a)};c.logImmediately=function(a){b("GeneratedLoggerUtils").log("logger:BDOperationLoggerConfig",this.$1,{signal:!0},a)};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setBdSessionID=function(a){this.$1.bd_session_id=a;return this};c.setComponent=function(a){this.$1.component=a;return this};c.setDurationUs=function(a){this.$1.duration_us=a;return this};c.setExceptionMessage=function(a){this.$1.exception_message=a;return this};c.setExceptionStackTrace=function(a){this.$1.exception_stack_trace=a;return this};c.setExceptionType=function(a){this.$1.exception_type=a;return this};c.setIntValue=function(a){this.$1.int_value=a;return this};c.setLevel=function(a){this.$1.level=a;return this};c.setOperation=function(a){this.$1.operation=a;return this};c.setOperationInfo=function(a){this.$1.operation_info=b("GeneratedLoggerUtils").serializeMap(a);return this};c.setSessionlets=function(a){this.$1.sessionlets=b("GeneratedLoggerUtils").serializeVector(a);return this};return a}();c={bd_session_id:!0,component:!0,duration_us:!0,exception_message:!0,exception_stack_trace:!0,exception_type:!0,int_value:!0,level:!0,operation:!0,operation_info:!0,sessionlets:!0};f["default"]=a}),66);
__d("BDOperationLogHelper",["BDLoggingConstants","BDOperationTypedLogger","Random"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c,e){h(a,d("BDLoggingConstants").LEVELS.INFO,b,c,e)}function b(a,b,c,e){h(a,d("BDLoggingConstants").LEVELS.WARNING,b,c,e)}function e(a,b,c,e){h(a,d("BDLoggingConstants").LEVELS.ERROR,b,c,e)}function h(a,b,e,f,g){f===void 0&&(f={});if(d("Random").coinflip(i(e))){if(f===null)throw new Error("opeartion info null");f.source=a;new(c("BDOperationTypedLogger"))().setLevel(b).setDurationUs(g).setOperation(e).setComponent(d("BDLoggingConstants").COMPONENT_NAME).setOperationInfo(f).log()}}function i(a){var b=d("BDLoggingConstants").OPERATIONS;switch(a){case b.APPEND_SIGNAL:case b.HB_COLLECTED:case b.GET_LOCAL_STORAGE_ERROR:case b.WEB_STORAGE:case b.SIGNAL_NOT_IMPLEMENTED:case b.BIOMETRIC_SIGNAL_COLLECTION_STARTED:return 1e3;default:return 1}}g.logInfo=a;g.logWarning=b;g.logError=e;g.log=h;g.getFlipSamplingByOperation=i}),98);
__d("SignalErrorValueTypeDef",[],(function(a,b,c,d,e,f){"use strict";var g="ec",h="en",i="es",j=500;a=function(){function a(a,b,c){this.$1=a,this.$2=b,c!=null&&(this.$3=c.substr(0,j))}var b=a.prototype;b.getErrorCode=function(){return this.$1};b.getErrorName=function(){return this.$2};b.getErrorDetails=function(){return this.$3};b.isEqual=function(a){return this.$1===a.getErrorCode()&&this.$3===a.getErrorDetails()&&this.$2===a.getErrorName()};b.toJSON=function(){var a={};a[g]=this.$1;switch(this.$1){case 0:a[h]=this.$2;a[i]=this.$3;break}return a};return a}();f.SignalErrorValueTypeDef=a}),66);
__d("SignalValueTypeDef",["BDLoggingConstants","BDOperationLogHelper","SignalErrorValueTypeDef"],(function(a,b,c,d,e,f,g){"use strict";var h="SignalValueTypeDef",i="t",j="ctx",k="v",l="e",m={NUMBER:"NUMBER",STRING:"STRING",BOOLEAN:"BOOLEAN",CUSTOM_OBJECT:"CUSTOM_OBJECT",INT_ARRAY:"INT_ARRAY",TOUCH:"TOUCH",MAP:"MAP",LIST:"LIST",SENSOR:"SENSOR",ERROR:"ERROR"};a=function(){function a(a,b,c,d,e){this.$1=a,this.$2=b,this.$3=c,this.$4=d,this.$5=e!=null?e:0}var b=a.prototype;b.getTimeStampMS=function(){return this.$1};b.getSignalContext=function(){return this.$2};b.getSignalValue=function(){return this.$3};b.getSignalValueType=function(){return this.$4};b.isEqual=function(a,b){if(a==null){d("BDOperationLogHelper").logWarning(h,d("BDLoggingConstants").OPERATIONS.SIGNAL_VALUE_NULL);return!1}if(this.getSignalValueType()!==a.getSignalValueType())return!1;if(this.getSignalValueType()===m.ERROR&&a.getSignalValueType()===m.ERROR)return this.equalValue(a);var c=!1;b.has(128)&&(c=this.equalValue(a));b.has(256)&&(c=c&&this.getSignalContext()!=null&&a.getSignalContext()!=null&&this.getSignalContext().getSignalValueContextName()===a.getSignalContext().getSignalValueContextName());b.has(512)&&(c=c&&Math.abs(this.getTimeStampMS()-a.getTimeStampMS())<=this.$5);return c};b.equalValue=function(a){if(this.isPrimitiveType())return this.getSignalValue()===a.getSignalValue();throw new Error("Must implement in the subclasses")};b.toJSON=function(a){var b={};a&&(b[i]=this.$1/1e3,this.$2!=null&&(b[j]=this.$2));this.$3==null?b[l]=new(d("SignalErrorValueTypeDef").SignalErrorValueTypeDef)(2):this.addValueOrErrorToJSON(b);return b};b.addValueOrErrorToJSON=function(a){if(this.isPrimitiveType())a[k]=this.$3;else throw new Error("Must implement in the subclasses")};b.isPrimitiveType=function(){switch(typeof this.$3){case"number":case"boolean":case"string":return!0;default:return!1}};return a}();g.BD_VALUE=k;g.BD_ERROR=l;g.VALUE_TYPES=m;g.SignalValueTypeDef=a}),98);
__d("ErrorSignalValueType",["SignalValueTypeDef"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c,e){return a.call(this,b,c,e,d("SignalValueTypeDef").VALUE_TYPES.ERROR)||this}var c=b.prototype;c.equalValue=function(a){return this.getSignalValue().isEqual(a.getSignalValue())};c.addValueOrErrorToJSON=function(a){a[d("SignalValueTypeDef").BD_ERROR]=this.getSignalValue().toJSON()};return b}(d("SignalValueTypeDef").SignalValueTypeDef);g["default"]=a}),98);
__d("NumberSignalValueType",["SignalValueTypeDef"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c,e){return a.call(this,b,c,e,d("SignalValueTypeDef").VALUE_TYPES.NUMBER)||this}return b}(d("SignalValueTypeDef").SignalValueTypeDef);g["default"]=a}),98);
__d("BDConnectionRTTSignalCollector",["BDSignalCollectorBase","ErrorSignalValueType","NumberSignalValueType","SignalErrorValueTypeDef"],(function(a,b,c,d,e,f,g){"use strict";var h=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.call(this,j.signalType)||this}var e=a.prototype;e.executeSignalCollection=function(){if(navigator.connection!=null&&navigator.connection.rtt!=null){var a=navigator.connection.rtt;a=new(c("NumberSignalValueType"))(Date.now(),this.getContext(),a)}else a=new(c("ErrorSignalValueType"))(Date.now(),this.getContext(),new(d("SignalErrorValueTypeDef").SignalErrorValueTypeDef)(3,"navigator.connection.rtt not supported"));return{valueOrError:a}};return a}(c("BDSignalCollectorBase")),i=null,j={signalType:30004,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a}),98);
__d("CustomObjectSignalValueType",["SignalValueTypeDef"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c,e){return a.call(this,b,c,e,d("SignalValueTypeDef").VALUE_TYPES.CUSTOM_OBJECT)||this}var c=b.prototype;c.equalValue=function(a){return this.getSignalValue().isEqual(a.getSignalValue())};c.addValueOrErrorToJSON=function(a){a[d("SignalValueTypeDef").BD_VALUE]=this.getSignalValue().toJSON()};return b}(d("SignalValueTypeDef").SignalValueTypeDef);g["default"]=a}),98);
__d("HeartbeatObject",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.isAppForeground=!0}var b=a.prototype;b.toJSON=function(){return{f:this.isAppForeground}};b.isEqual=function(a){return!1};return a}();f["default"]=a}),66);
__d("BDHeartbeatSignalCollector",["BDSignalCollectorBase","CustomObjectSignalValueType","HeartbeatObject"],(function(a,b,c,d,e,f,g){"use strict";var h=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.call(this,j.signalType)||this}var d=a.prototype;d.executeSignalCollection=function(){var a=new(c("CustomObjectSignalValueType"))(Date.now(),this.getContext(),new(c("HeartbeatObject"))());return{valueOrError:a}};return a}(c("BDSignalCollectorBase")),i=null,j={signalType:38e3,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a}),98);
__d("BDBiometricSignalCollectorBase",["BDSignalCollectorBase","err"],(function(a,b,c,d,e,f,g){"use strict";a="biometric_signal_collected";b=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var d=b.prototype;d.listenForSignals=function(){throw c("err")("Child class responsibility to implement listenForSignals")};d.executeSignalCollection=function(){throw c("err")("executeAsyncSignalCollection and executeSignalCollection should not be called on biometric signals")};return b}(c("BDSignalCollectorBase"));g.BIOMETRIC_SIGNAL_COLLECTED_EVENT_NAME=a;g.BDBiometricSignalCollectorBase=b}),98);
__d("KeyDownUpObject",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,b){this.action=null,this.key_code=null,this.action=a,this.key_code=b}var b=a.prototype;b.toJSON=function(){return{action:this.action,key_code:this.key_code}};b.isEqual=function(b){return b instanceof a?this.action===b.action&&this.key_code===b.key_code:!1};return a}();f["default"]=a}),66);
__d("BDKeyDownUpSignalCollector",["BDBiometricSignalCollectorBase","CustomObjectSignalValueType","KeyDownUpObject","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.call(this,j.signalType)||this}var e=a.prototype;e.listenForSignals=function(){var a=this;c("gkx")("1652843")&&(document.addEventListener("keydown",function(b){return a.collectSignals(2)}),document.addEventListener("keyup",function(b){return a.collectSignals(1)}))};e.collectSignals=function(a){a=new(c("CustomObjectSignalValueType"))(Date.now(),this.getContext(),new(c("KeyDownUpObject"))(a,0));a={signalId:this.signalType,data:{valueOrError:a}};window.dispatchEvent(new CustomEvent(d("BDBiometricSignalCollectorBase").BIOMETRIC_SIGNAL_COLLECTED_EVENT_NAME,{detail:a}))};return a}(d("BDBiometricSignalCollectorBase").BDBiometricSignalCollectorBase),i=null,j={signalType:30100,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a}),98);
__d("StringArrayObject",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.strings=[],this.strings=a}var b=a.prototype;b.toJSON=function(){return this.strings};b.isEqual=function(b){if(!(b instanceof a))return!1;if(b.strings===this.strings)return!0;if(b.strings.length!==this.strings.length)return!1;for(var c=0;c<this.strings.length;c++)if(this.strings[c]!==b.strings[c])return!1;return!0};return a}();f["default"]=a}),66);
__d("BDLanguagesSignalCollector",["BDSignalCollectorBase","CustomObjectSignalValueType","StringArrayObject"],(function(a,b,c,d,e,f,g){"use strict";var h=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.call(this,j.signalType)||this}var d=a.prototype;d.executeSignalCollection=function(){var a=[].concat(navigator.languages);a=new(c("CustomObjectSignalValueType"))(Date.now(),this.getContext(),new(c("StringArrayObject"))(a));return{valueOrError:a}};return a}(c("BDSignalCollectorBase")),i=null,j={signalType:30003,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a}),98);
__d("BDMimeTypeCountSignalCollector",["BDSignalCollectorBase","NumberSignalValueType"],(function(a,b,c,d,e,f,g){"use strict";var h=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.call(this,j.signalType)||this}var d=a.prototype;d.executeSignalCollection=function(){var a=navigator.mimeTypes?navigator.mimeTypes.length:-1;a=new(c("NumberSignalValueType"))(Date.now(),this.getContext(),a);return{valueOrError:a}};return a}(c("BDSignalCollectorBase")),i=null,j={signalType:30002,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a}),98);
__d("BooleanSignalValueType",["SignalValueTypeDef"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c,e){return a.call(this,b,c,e,d("SignalValueTypeDef").VALUE_TYPES.BOOLEAN)||this}return b}(d("SignalValueTypeDef").SignalValueTypeDef);g["default"]=a}),98);
__d("BDTouchOrMouseSignalCollectorBase",["BDBiometricSignalCollectorBase","BDLoggingConstants","BDOperationLogHelper","BooleanSignalValueType"],(function(a,b,c,d,e,f,g){"use strict";var h="BDTouchOrMouseSignalCollectorBase";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c,d){var e;e=a.call(this,b)||this;e.eventsToSubscribe=[];e.pauseTimeout=60*60*1e3;e.eventsToSubscribe=c;e.pauseTimeout=d;e.handler=function(a){return e.collectSignals(a)};return e}var e=b.prototype;e.listenForSignals=function(){this.collectSignals(),this.addListeners()};e.addListeners=function(){var a=this;this.eventsToSubscribe.forEach(function(b){try{document.addEventListener(b,a.handler)}catch(a){d("BDOperationLogHelper").logError(h,d("BDLoggingConstants").OPERATIONS.BD_EXCEPTION,{e:a})}})};e.pauseListeners=function(){var a=this;this.eventsToSubscribe.forEach(function(b){document.removeEventListener(b,a.handler)});window.setTimeout(function(){return a.addListeners()},this.pauseTimeout)};e.collectSignals=function(a){a=a!=null;a&&this.pauseListeners();a=new(c("BooleanSignalValueType"))(Date.now(),this.getContext(),a);a={signalId:this.signalType,data:{valueOrError:a}};window.dispatchEvent(new CustomEvent(d("BDBiometricSignalCollectorBase").BIOMETRIC_SIGNAL_COLLECTED_EVENT_NAME,{detail:a}))};return b}(d("BDBiometricSignalCollectorBase").BDBiometricSignalCollectorBase);g["default"]=a}),98);
__d("BDMousePresenceSignalCollector",["BDTouchOrMouseSignalCollectorBase"],(function(a,b,c,d,e,f,g){"use strict";var h=60*60*1e3,i=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.call(this,k.signalType,["mousedown","mousemove"],h)||this}return a}(c("BDTouchOrMouseSignalCollectorBase")),j=null,k={signalType:30106,get:function(){j==null&&(j=new i());return j}};a=k;g["default"]=a}),98);
__d("StringSignalValueType",["SignalValueTypeDef"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c,e){return a.call(this,b,c,e,d("SignalValueTypeDef").VALUE_TYPES.STRING)||this}return b}(d("SignalValueTypeDef").SignalValueTypeDef);g["default"]=a}),98);
__d("BDNavigatorAppVersionSignalCollector",["BDSignalCollectorBase","StringSignalValueType"],(function(a,b,c,d,e,f,g){"use strict";var h=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.call(this,j.signalType)||this}var d=a.prototype;d.executeSignalCollection=function(){var a=navigator.appVersion;a=new(c("StringSignalValueType"))(Date.now(),this.getContext(),a);return{valueOrError:a}};return a}(c("BDSignalCollectorBase")),i=null,j={signalType:30013,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a}),98);
__d("BDNavigatorHardwareConcurrencySignalCollector",["BDSignalCollectorBase","NumberSignalValueType"],(function(a,b,c,d,e,f,g){"use strict";var h=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.call(this,j.signalType)||this}var d=a.prototype;d.executeSignalCollection=function(){var a;a=new(c("NumberSignalValueType"))(Date.now(),this.getContext(),(a=navigator.hardwareConcurrency)!=null?a:0);return{valueOrError:a}};return a}(c("BDSignalCollectorBase")),i=null,j={signalType:30018,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a}),98);
__d("BDNavigatorMaxTouchPointSignalCollector",["BDSignalCollectorBase","NumberSignalValueType"],(function(a,b,c,d,e,f,g){"use strict";var h=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.call(this,j.signalType)||this}var d=a.prototype;d.executeSignalCollection=function(){var a=new(c("NumberSignalValueType"))(Date.now(),this.getContext(),navigator.maxTouchPoints);return{valueOrError:a}};return a}(c("BDSignalCollectorBase")),i=null,j={signalType:30093,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a}),98);
__d("BDNavigatorNotificationPermissionSignalCollector",["BDSignalCollectorBase","ErrorSignalValueType","SignalErrorValueTypeDef","StringSignalValueType","regeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h=function(e){babelHelpers.inheritsLoose(a,e);function a(){return e.call(this,j.signalType)||this}var f=a.prototype;f.executeAsyncSignalCollection=function(){var a,e;return b("regeneratorRuntime").async(function(f){while(1)switch(f.prev=f.next){case 0:f.prev=0;if(!navigator.permissions){f.next=8;break}f.next=4;return b("regeneratorRuntime").awrap(navigator.permissions.query({name:"notifications"}));case 4:e=f.sent;a=new(c("StringSignalValueType"))(Date.now(),this.getContext(),e.state);f.next=9;break;case 8:a=new(c("ErrorSignalValueType"))(Date.now(),this.getContext(),new(d("SignalErrorValueTypeDef").SignalErrorValueTypeDef)(3,"navigator.permissions not supported"));case 9:f.next=14;break;case 11:f.prev=11,f.t0=f["catch"](0),a=new(c("ErrorSignalValueType"))(Date.now(),this.getContext(),new(d("SignalErrorValueTypeDef").SignalErrorValueTypeDef)(3,"notifications cannot be queried from navigator.permissions"));case 14:return f.abrupt("return",{valueOrError:a});case 15:case"end":return f.stop()}},null,this,[[0,11]])};return a}(c("BDSignalCollectorBase")),i=null,j={signalType:30008,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a}),98);
__d("BDNavigatorPlatformSignalCollector",["BDSignalCollectorBase","StringSignalValueType"],(function(a,b,c,d,e,f,g){"use strict";var h=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.call(this,j.signalType)||this}var d=a.prototype;d.executeSignalCollection=function(){var a=new(c("StringSignalValueType"))(Date.now(),this.getContext(),navigator.platform);return{valueOrError:a}};return a}(c("BDSignalCollectorBase")),i=null,j={signalType:30015,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a}),98);
__d("BDNavigatorPluginsFileExtensionsSignalCollector",["BDSignalCollectorBase","ErrorSignalValueType","SignalErrorValueTypeDef","StringArrayObject"],(function(a,b,c,d,e,f,g){"use strict";var h=10,i=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.call(this,k.signalType)||this}var e=a.prototype;e.executeSignalCollection=function(){var a=null;try{var b=navigator.plugins?navigator.plugins.length:0,e=new Set();for(var f=0;f<b;f++){var g=navigator.plugins[f].filename;if(!g)continue;var i=g.indexOf(".");if(i==-1||i==g.length-1)continue;e.add(g.substr(i+1));if(e.size>=h)break}e.size&&(a=new(c("StringArrayObject"))(Array.from(e)))}catch(b){a=new(c("ErrorSignalValueType"))(Date.now(),this.getContext(),new(d("SignalErrorValueTypeDef").SignalErrorValueTypeDef)(3,"navigator.plugins is not defined"))}return{valueOrError:a}};return a}(c("BDSignalCollectorBase")),j=null,k={signalType:30019,get:function(){j==null&&(j=new i());return j}};a=k;g["default"]=a}),98);
__d("BDNavigatorUserAgentSignalCollector",["BDSignalCollectorBase","StringSignalValueType"],(function(a,b,c,d,e,f,g){"use strict";var h=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.call(this,j.signalType)||this}var d=a.prototype;d.executeSignalCollection=function(){var a=new(c("StringSignalValueType"))(Date.now(),this.getContext(),navigator.userAgent);return{valueOrError:a}};return a}(c("BDSignalCollectorBase")),i=null,j={signalType:30094,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a}),98);
__d("BDNavigatorVendorSignalCollector",["BDSignalCollectorBase","StringSignalValueType"],(function(a,b,c,d,e,f,g){"use strict";var h=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.call(this,j.signalType)||this}var d=a.prototype;d.executeSignalCollection=function(){var a=navigator.vendor;a=new(c("StringSignalValueType"))(Date.now(),this.getContext(),a);return{valueOrError:a}};return a}(c("BDSignalCollectorBase")),i=null,j={signalType:30012,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a}),98);
__d("BDNotificationPermissionSignalCollector",["BDSignalCollectorBase","ErrorSignalValueType","SignalErrorValueTypeDef","StringSignalValueType"],(function(a,b,c,d,e,f,g){"use strict";var h=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.call(this,j.signalType)||this}var e=a.prototype;e.executeSignalCollection=function(){var a;window.Notification?a=new(c("StringSignalValueType"))(Date.now(),this.getContext(),Notification.permission):a=new(c("ErrorSignalValueType"))(Date.now(),this.getContext(),new(d("SignalErrorValueTypeDef").SignalErrorValueTypeDef)(3,"Notification not supported"));return{valueOrError:a}};return a}(c("BDSignalCollectorBase")),i=null,j={signalType:30007,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a}),98);
__d("BDPluginCountSignalCollector",["BDSignalCollectorBase","NumberSignalValueType"],(function(a,b,c,d,e,f,g){"use strict";var h=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.call(this,j.signalType)||this}var d=a.prototype;d.executeSignalCollection=function(){var a=navigator.plugins?navigator.plugins.length:-1;a=new(c("NumberSignalValueType"))(Date.now(),this.getContext(),a);return{valueOrError:a}};return a}(c("BDSignalCollectorBase")),i=null,j={signalType:30001,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a}),98);
__d("BDTimezoneOffsetSignalCollector",["BDSignalCollectorBase","NumberSignalValueType"],(function(a,b,c,d,e,f,g){"use strict";var h=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.call(this,j.signalType)||this}var d=a.prototype;d.executeSignalCollection=function(){var a;a=new(c("NumberSignalValueType"))(Date.now(),this.getContext(),(a=new Date().getTimezoneOffset())!=null?a:999);return{valueOrError:a}};return a}(c("BDSignalCollectorBase")),i=null,j={signalType:30040,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a}),98);
__d("BDTouchPresenceSignalCollector",["BDTouchOrMouseSignalCollectorBase"],(function(a,b,c,d,e,f,g){"use strict";var h=60*60*1e3,i=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.call(this,k.signalType,["touchstart","touchcancel"],h)||this}return a}(c("BDTouchOrMouseSignalCollectorBase")),j=null,k={signalType:30107,get:function(){j==null&&(j=new i());return j}};a=k;g["default"]=a}),98);
__d("BDWebdriverSignalCollector",["BDSignalCollectorBase","BooleanSignalValueType"],(function(a,b,c,d,e,f,g){"use strict";var h=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.call(this,j.signalType)||this}var d=a.prototype;d.executeSignalCollection=function(){var a=!!navigator.webdriver;a=new(c("BooleanSignalValueType"))(Date.now(),this.getContext(),a);return{valueOrError:a}};return a}(c("BDSignalCollectorBase")),i=null,j={signalType:3e4,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a}),98);
__d("BDWebglSupportSignalCollector",["BDSignalCollectorBase","BooleanSignalValueType"],(function(a,b,c,d,e,f,g){"use strict";var h=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.call(this,j.signalType)||this}var d=a.prototype;d.executeSignalCollection=function(){var a=document.createElement("canvas"),b=null;try{b=a.getContext("webgl")||a.getContext("experimental-webgl")}catch(a){}a=Boolean(b);b=new(c("BooleanSignalValueType"))(Date.now(),this.getContext(),a);return{valueOrError:b}};return a}(c("BDSignalCollectorBase")),i=null,j={signalType:30022,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a}),98);
__d("BDWindowHistoryLengthSignalCollector",["BDSignalCollectorBase","NumberSignalValueType"],(function(a,b,c,d,e,f,g){"use strict";var h=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.call(this,j.signalType)||this}var d=a.prototype;d.executeSignalCollection=function(){var a=new(c("NumberSignalValueType"))(Date.now(),this.getContext(),window.history?window.history.length:0);return{valueOrError:a}};return a}(c("BDSignalCollectorBase")),i=null,j={signalType:30095,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a}),98);
__d("DimensionObject",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,b){this.width=null,this.height=null,this.width=a,this.height=b}var b=a.prototype;b.toJSON=function(){return{w:this.width,h:this.height}};b.isEqual=function(b){if(b instanceof a)return this.width===b.width&&this.height===b.height;else return!1};return a}();f["default"]=a}),66);
__d("BDWindowOuterDimensionSignalCollector",["BDSignalCollectorBase","CustomObjectSignalValueType","DimensionObject"],(function(a,b,c,d,e,f,g){"use strict";var h=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.call(this,j.signalType)||this}var d=a.prototype;d.executeSignalCollection=function(){var a=window.innerHeight,b=window.innerWidth;b=new(c("CustomObjectSignalValueType"))(Date.now(),this.getContext(),new(c("DimensionObject"))(b,a));return{valueOrError:b}};return a}(c("BDSignalCollectorBase")),i=null,j={signalType:30005,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a}),98);
__d("SignalCollectorMap",["BDConnectionRTTSignalCollector","BDHeartbeatSignalCollector","BDHeartbeatV2SignalCollector","BDKeyDownUpSignalCollector","BDLanguagesSignalCollector","BDMimeTypeCountSignalCollector","BDMousePresenceSignalCollector","BDNavigatorAppVersionSignalCollector","BDNavigatorHardwareConcurrencySignalCollector","BDNavigatorMaxTouchPointSignalCollector","BDNavigatorNotificationPermissionSignalCollector","BDNavigatorPlatformSignalCollector","BDNavigatorPluginsFileExtensionsSignalCollector","BDNavigatorUserAgentSignalCollector","BDNavigatorVendorSignalCollector","BDNotificationPermissionSignalCollector","BDPluginCountSignalCollector","BDTimezoneOffsetSignalCollector","BDTouchPresenceSignalCollector","BDWebdriverSignalCollector","BDWebglSupportSignalCollector","BDWindowHistoryLengthSignalCollector","BDWindowOuterDimensionSignalCollector"],(function(a,b,c,d,e,f,g){"use strict";a={get:function(a){switch(a){case 3e4:return c("BDWebdriverSignalCollector").get();case 30001:return c("BDPluginCountSignalCollector").get();case 30002:return c("BDMimeTypeCountSignalCollector").get();case 30003:return c("BDLanguagesSignalCollector").get();case 30004:return c("BDConnectionRTTSignalCollector").get();case 30005:return c("BDWindowOuterDimensionSignalCollector").get();case 30007:return c("BDNotificationPermissionSignalCollector").get();case 30008:return c("BDNavigatorNotificationPermissionSignalCollector").get();case 30012:return c("BDNavigatorVendorSignalCollector").get();case 30013:return c("BDNavigatorAppVersionSignalCollector").get();case 30015:return c("BDNavigatorPlatformSignalCollector").get();case 30018:return c("BDNavigatorHardwareConcurrencySignalCollector").get();case 30019:return c("BDNavigatorPluginsFileExtensionsSignalCollector").get();case 30022:return c("BDWebglSupportSignalCollector").get();case 30040:return c("BDTimezoneOffsetSignalCollector").get();case 30093:return c("BDNavigatorMaxTouchPointSignalCollector").get();case 30094:return c("BDNavigatorUserAgentSignalCollector").get();case 30095:return c("BDWindowHistoryLengthSignalCollector").get();case 30100:return c("BDKeyDownUpSignalCollector").get();case 30106:return c("BDMousePresenceSignalCollector").get();case 30107:return c("BDTouchPresenceSignalCollector").get();case 38e3:return c("BDHeartbeatSignalCollector").get();case 38001:return c("BDHeartbeatV2SignalCollector").get()}}};b=a;g["default"]=b}),98);
__d("HeartbeatV2Object",["HeartbeatObject"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var c;c=a.call(this)||this;c.id="";c.id=b;return c}var c=b.prototype;c.toJSON=function(){return{f:this.isAppForeground,id:this.id}};return b}(c("HeartbeatObject"));g["default"]=a}),98);
__d("BDHeartbeatV2SignalCollector",["BDClientConfig","BDSignalCollectorBase","CustomObjectSignalValueType","HeartbeatV2Object"],(function(a,b,c,d,e,f,g){"use strict";var h=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.call(this,j.signalType)||this}var d=a.prototype;d.executeSignalCollection=function(){var a=new(c("CustomObjectSignalValueType"))(Date.now(),this.getContext(),new(c("HeartbeatV2Object"))(c("BDClientConfig").get().getHeartbeatVersion()));return{valueOrError:a}};return a}(c("BDSignalCollectorBase")),i=null,j={signalType:38001,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a}),98);
__d("BDClientConfig",["BDLoggingConstants","BDOperationLogHelper","BDSignalWrapper"],(function(a,b,c,d,e,f,g){"use strict";var h="BDClientConfig",i=function(){function a(){this.staticSignalBufferSize=1,this.dynamicSignalBufferSize=1,this.biometricSignalBufferSize=1,this.staticSignals=[],this.dynamicSignals=[],this.biometricSignals=[],this.biometricSignalsMap=new Map(),this.heartbeatSignal=new(c("BDSignalWrapper"))([],38001),this.bufferSizeBySignalIdMap={},this.periodicCollectionIntervalMs=Number.MAX_SAFE_INTEGER,this.signalConfigGenerationTimeStampMs=0,this.suspiciousTiersFlushDurationMs=Number.MAX_SAFE_INTEGER,this.allTiersFlushDurationMs=Number.MAX_SAFE_INTEGER,this.heartbeatIntervalMs=-1,this.parsingDone=!1,this.sid=-1,this.hbVersion="",this.bufferSizeBySignalIdMap[38001]=1}var b=a.prototype;b.setStaticSignalBufferSize=function(a){a>0?this.staticSignalBufferSize=a:d("BDOperationLogHelper").logError(h,d("BDLoggingConstants").OPERATIONS.INVALID_BUFFER_SIZE,{size:a.toString(),type:"s"});return this};b.getStaticSignalBufferSize=function(){return this.staticSignalBufferSize};b.setDynamicSignalBufferSize=function(a){a>1?this.dynamicSignalBufferSize=a:d("BDOperationLogHelper").logError(h,d("BDLoggingConstants").OPERATIONS.INVALID_BUFFER_SIZE,{size:a.toString(),type:"d"});return this};b.getDynamicSignalBufferSize=function(){return this.dynamicSignalBufferSize};b.setBiometricSignalBufferSize=function(a){a>1?this.biometricSignalBufferSize=a:d("BDOperationLogHelper").logError(h,d("BDLoggingConstants").OPERATIONS.INVALID_BUFFER_SIZE,{size:a.toString(),type:"b"});return this};b.setSID=function(a){this.sid=a;return this};b.setHeartbeatVersion=function(a){this.hbVersion=a;return this};b.getHeartbeatVersion=function(){return this.hbVersion};b.getBiometricSignalBufferSize=function(){return this.biometricSignalBufferSize};b.setConfigGenerationTimeStamp=function(a){this.signalConfigGenerationTimeStampMs=a;return this};b.getConfigGenerationTimeStamp=function(){return this.signalConfigGenerationTimeStampMs};b.setHeartbeatIntervalMinutes=function(a){this.heartbeatIntervalMs=a*60*1e3;return this};b.getHeartbeatIntervalMs=function(){return this.heartbeatIntervalMs};b.setSuspiciousTiersFlushDurationMinutes=function(a){a>0?this.suspiciousTiersFlushDurationMs=a*60*1e3:d("BDOperationLogHelper").logError(h,d("BDLoggingConstants").OPERATIONS.INVALID_DURATION,{size:a.toString(),type:"fds"});return this};b.getSuspiciousTiersFlushDurationMs=function(){return this.suspiciousTiersFlushDurationMs};b.setAllTiersFlushDurationMinutes=function(a){a>0?this.allTiersFlushDurationMs=a*60*1e3:d("BDOperationLogHelper").logError(h,d("BDLoggingConstants").OPERATIONS.INVALID_DURATION,{size:a.toString(),type:"fda"});return this};b.getAllTiersFlushDurationMs=function(){return this.allTiersFlushDurationMs};b.addMultipleSignalsToClientConfig=function(a){var b=this;a.forEach(function(a){return b.addSignalToClientConfig(a)});return this};b.addSignalToClientConfig=function(a){var b=a.getSignalFlags(),d=a.getSignalId();if(d===38e3)return this;var e=new(c("BDSignalWrapper"))(b,d);if(d===38001){this.heartbeatSignal=e;return this}!b.includes(2)?this.staticSignals.push(e):b.includes(4)?this.biometricSignals.push(e):this.dynamicSignals.push(e);a.getBufferSize()>0&&(this.bufferSizeBySignalIdMap[a.getSignalId()]=a.getBufferSize());return this};b.setPeriodicCollectionIntervalSeconds=function(a){a>0?this.periodicCollectionIntervalMs=a*1e3:d("BDOperationLogHelper").logError(h,d("BDLoggingConstants").OPERATIONS.INVALID_DURATION,{size:a.toString(),type:"pi"});return this};b.getPeriodicCollectionIntervalMs=function(){return this.periodicCollectionIntervalMs};b.getDynamicSignals=function(){return this.dynamicSignals};b.getStaticSignals=function(){return this.staticSignals};b.getBiometricSignals=function(){return this.biometricSignals};b.getBiometricSignalsMap=function(){this.biometricSignalsMap.size===0&&this.biometricSignals.length>0&&(this.biometricSignalsMap=this.biometricSignals.reduce(function(a,b){return a.set(b.signalType,b)},new Map()));return this.biometricSignalsMap};b.getHeartbeatSignal=function(){return this.heartbeatSignal};b.getBufferSizeBySignalId=function(a){return this.bufferSizeBySignalIdMap[a]};b.setParsingDone=function(a){this.parsingDone=a};b.isParsingDone=function(){return this.parsingDone};return a}(),j=null;a={get:function(){j==null&&(j=new i());return j}};b=a;g["default"]=b}),98);
__d("BDCollectionTypeEnum",[],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({STATIC:0,DYNAMIC:1,BIOMETRIC:2});f["default"]=a}),66);
__d("BotDetection_SignalFlags",[],(function(a,b,c,d,e,f){a=Object.freeze({ACTIVE:1,DYNAMIC:2,BIOMETRIC:4,DEPRECATED:8,WEB:16,IOS_NATIVE:32,ANDROID_NATIVE:64,EQUAL_BY_VALUE:128,EQUAL_BY_CONTEXT:256,EQUAL_BY_TIMESTAMP:512,SUSPICIOUS_TIER:1024,PARANOID_TIER:2048,RANDOM_SAMPLE_TIER_DEPRECATED:4096,BENIGN_TIER:262144,EMPLOYEES_TIER:524288,BUNDLE:8192,ONSITE:16384,OFFSITE:32768,OFFSITE_SENSITIVE:65536,SENSITIVE:131072});f["default"]=a}),66);
__d("BDServerSignalConfig",["BDLoggingConstants","BDOperationLogHelper","BotDetection_SignalFlags"],(function(a,b,c,d,e,f,g){"use strict";var h="BDServerSignalConfig";a=function(){function a(a,b,c){this.parsedSignalFlags=[],this.signalId=a,this.signalFlags=b,this.bufferSize=c}var b=a.prototype;b.getSignalId=function(){return this.signalId};b.getSignalFlags=function(){var a=this;if(this.parsedSignalFlags.length===0){var b=Object.keys(c("BotDetection_SignalFlags"));b.forEach(function(b){(c("BotDetection_SignalFlags")[b]&a.signalFlags)===c("BotDetection_SignalFlags")[b]&&a.parsedSignalFlags.push(c("BotDetection_SignalFlags")[b])})}this.parsedSignalFlags.length===0&&d("BDOperationLogHelper").logError(h,d("BDLoggingConstants").OPERATIONS.SIGNAL_FLAGS_MISSING,{id:this.signalId.toString(),flags:this.signalFlags.toString()});return this.parsedSignalFlags};b.getBufferSize=function(){return this.bufferSize!=null?this.bufferSize:0};return a}();g["default"]=a}),98);
__d("BDServerConfig",["BDClientConfig","BDLoggingConstants","BDOperationLogHelper","BDServerSignalConfig"],(function(a,b,c,d,e,f,g){"use strict";var h="BDServerConfig";function a(a){var b=[];try{var e=JSON.parse(a.sc),f=new Map(e.c);f.forEach(function(a,d){return b.push(new(c("BDServerSignalConfig"))(d,a))});if(f.size===0){d("BDOperationLogHelper").logError(h,d("BDLoggingConstants").OPERATIONS.EMPTY_SIGNAL_CONFIG);return}f=c("BDClientConfig").get();f.setPeriodicCollectionIntervalSeconds(a.i).addMultipleSignalsToClientConfig(b).setConfigGenerationTimeStamp(e.t).setAllTiersFlushDurationMinutes(a.fda).setSuspiciousTiersFlushDurationMinutes(a.fds).setHeartbeatIntervalMinutes(a.hbi).setStaticSignalBufferSize(a.sbs).setDynamicSignalBufferSize(a.dbs).setBiometricSignalBufferSize(a.bbs).setSID(a.sid).setHeartbeatVersion(a.hbv).setParsingDone(!0)}catch(a){d("BDOperationLogHelper").logError(h,d("BDLoggingConstants").OPERATIONS.PARSE_CONFIG_ERROR,{e:a})}}g.parseConfig=a}),98);
__d("BDSignalBuffer",["BDClientConfig","BDCollectionTypeEnum","BDLoggingConstants","BDOperationLogHelper","BDSignalBufferData"],(function(a,b,c,d,e,f,g){"use strict";var h="BDSignalBuffer";function a(a,b,d){if(a in c("BDSignalBufferData"))return;var e=1;b!==void 0&&(e=b);c("BDSignalBufferData")[a]={values:[],max_buffer_size:e,signal_flags:(b=d)!=null?b:[]}}function i(a){if(a in c("BDSignalBufferData"))c("BDSignalBufferData")[a].values=[];else throw new Error("Tried to clear signal buffer that was not intialized:")}function b(a,b){if(a in c("BDSignalBufferData")){var e=c("BDSignalBufferData")[a],f=e.max_buffer_size;e.values.length>=f&&e.values.shift();e.values.push(b);d("BDOperationLogHelper").logInfo(h,d("BDLoggingConstants").OPERATIONS.APPEND_SIGNAL,{id:a.toString()})}else{d("BDOperationLogHelper").logError(h,d("BDLoggingConstants").OPERATIONS.APPEND_SIGNAL_FAIL,{id:a.toString()});throw new Error("Tried to append signal that was not intialized:")}}function e(){var a=c("BDClientConfig").get();a=a.getBiometricSignals();a.forEach(function(a){a.signalType in c("BDSignalBufferData")&&i(a.signalType)})}function f(a){var b;a=c("BDSignalBufferData")[a];b=a==null?void 0:(b=a.values)==null?void 0:b.length;return b!=null&&b>0?a.values[b-1]:{valueOrError:void 0}}function j(a){return c("BDSignalBufferData")[a].values}function k(a){var b={};for(var d=0;d<a.length;d++){var e=a[d];e in c("BDSignalBufferData")&&(b[e]=j(e).map(function(a){return a.valueOrError}))}return b}function l(a){a=m(a);return JSON.stringify(k(a))}function m(a){var b=c("BDClientConfig").get(),d=[];a.forEach(function(a){switch(a){case c("BDCollectionTypeEnum").STATIC:d=[].concat(d,b.getStaticSignals());break;case c("BDCollectionTypeEnum").DYNAMIC:d=[].concat(d,b.getDynamicSignals());break;case c("BDCollectionTypeEnum").BIOMETRIC:d=[].concat(d,b.getBiometricSignals());break}});return d.map(function(a){return a.signalType})}g.initialize=a;g.clearBuffer=i;g.appendSignal=b;g.clearBiometricSignals=e;g.getLastSignalFormatBySignalId=f;g.retrieveSignal=j;g.retrieveSignals=k;g.getSignalsAsJSONString=l;g._getSignalIdsByCollectionType=m}),98);
__d("BDUtils",[],(function(a,b,c,d,e,f){"use strict";function a(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var b=Math.random()*16|0;a=a=="x"?b:b&3|8;return a.toString(16)})}f.uuid=a}),66);
__d("BdPdcSignalsFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1743095");b=d("FalcoLoggerInternal").create("bd_pdc_signals",a);e=b;g["default"]=e}),98);
__d("SignalCollectionManager",["BDBiometricSignalCollectorBase","BDClientConfig","BDLoggingConstants","BDOperationLogHelper","BDSignalBuffer","Promise","regeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i="SignalCollectionManager",j=function(){function a(){var a=this;this.$1=!1;this.$6=function(b){if(b instanceof CustomEvent&&b.detail!=null&&b.detail.data!=null){var d=c("BDClientConfig").get().getBiometricSignalsMap().get(b.detail.signalId);d!=null&&a.$4(b.detail.data,d)}}}var e=a.prototype;e.collectSignals=function(a){var c=this,d;return b("regeneratorRuntime").async(function(e){while(1)switch(e.prev=e.next){case 0:d=[];a.forEach(function(a){a.signalFlags.includes(4)?c.$2(a):d.push(c.$3(a))});e.next=4;return b("regeneratorRuntime").awrap((h||(h=b("Promise"))).all(d));case 4:case"end":return e.stop()}},null,this)};e.isEqualToLastCollectedSignal=function(a,b){var c=d("BDSignalBuffer").getLastSignalFormatBySignalId(b.signalType);return c.valueOrError==void 0?!1:a.isEqual(c.valueOrError,new Set(b.signalFlags))};e.getCircularBufferSize=function(a){var b=c("BDClientConfig").get(),d=b.getBufferSizeBySignalId(a.signalType);if(d!=null&&b.getBufferSizeBySignalId(a.signalType)>0)return d;if(!a.signalFlags.includes(2))return b.getStaticSignalBufferSize();else if(a.signalFlags.includes(4))return b.getBiometricSignalBufferSize();else return b.getDynamicSignalBufferSize()};e.$3=function(a){var c,e;return b("regeneratorRuntime").async(function(f){while(1)switch(f.prev=f.next){case 0:c=a.getSignalCollector();if(!(c!=null)){f.next=12;break}f.prev=2;f.next=5;return b("regeneratorRuntime").awrap(c.executeAsyncSignalCollection());case 5:e=f.sent;this.$4(e,a);f.next=12;break;case 9:f.prev=9,f.t0=f["catch"](2),d("BDOperationLogHelper").logError(i,d("BDLoggingConstants").OPERATIONS.BD_EXCEPTION,{error:f.t0});case 12:case"end":return f.stop()}},null,this,[[2,9]])};e.$2=function(a){this.$5();a=a.getSignalCollector();a!=null&&a instanceof d("BDBiometricSignalCollectorBase").BDBiometricSignalCollectorBase&&a.listenForSignals()};e.$5=function(){if(this.$1)return;window.addEventListener(d("BDBiometricSignalCollectorBase").BIOMETRIC_SIGNAL_COLLECTED_EVENT_NAME,this.$6);this.$1=!0};e.$4=function(a,b){b.getBufferConfig()==null&&d("BDSignalBuffer").initialize(b.signalType,this.getCircularBufferSize(b),b.signalFlags),a.valueOrError&&!this.isEqualToLastCollectedSignal(a.valueOrError,b)&&d("BDSignalBuffer").appendSignal(b.signalType,a)};return a}(),k=null;a={get:function(){k==null&&(k=new j());return k}};e=a;g["default"]=e}),98);
__d("BDClientSignalCollectionTrigger",["BDClientConfig","BDCollectionTypeEnum","BDLoggingConstants","BDOperationLogHelper","BDServerConfig","BDSignalBuffer","BDUtils","BdPdcSignalsFalcoEvent","Promise","SignalCollectionManager","WebStorage","javascript-blowfish","regeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j="BDClientSignalCollectionTrigger",k="signal_flush_timestamp",l=!1,m=!1,n=!1,o=!1,p=0,q=0,r=0,s=30,t=5,u,v,w=d("BDUtils").uuid(),x=c("BDClientConfig").get(),y=Object.freeze({NONE:0,VITAL:1,CRITICAL:2}),z={startSignalCollection:function(a){return b("regeneratorRuntime").async(function(c){while(1)switch(c.prev=c.next){case 0:x.setSID(a.sid);if(l){c.next=15;break}l=!0;d("BDServerConfig").parseConfig(a);if(x.isParsingDone()){c.next=8;break}d("BDOperationLogHelper").logError(j,d("BDLoggingConstants").OPERATIONS.PARSE_CONFIG_ERROR,{config:JSON.stringify(a)});l=!1;return c.abrupt("return");case 8:a!=null&&(q=a.hbcbc&&a.hbcbc>0?a.hbcbc:q,r=a.hbvbc&&a.hbvbc>0?a.hbvbc:r,s=a.hbbi&&a.hbbi>0?a.hbbi:s);z.startHeartbeatDelayed();v=new(i||(i=b("Promise")))(function(a,b){try{x.getDynamicSignals().length>0&&(z.collectDynamicSignals(),d("BDOperationLogHelper").logInfo(j,d("BDLoggingConstants").OPERATIONS.DYNAMIC_SIGNAL_COLLECTION_STARTED,{ts:Date.now().toString()})),x.getBiometricSignals().length>0&&(z.collectBiometricSignals(),d("BDOperationLogHelper").logInfo(j,d("BDLoggingConstants").OPERATIONS.BIOMETRIC_SIGNAL_COLLECTION_STARTED,{ts:Date.now().toString()})),a()}catch(a){b(a)}});c.next=13;return b("regeneratorRuntime").awrap(v);case 13:c.next=15;return b("regeneratorRuntime").awrap(z.startSignalPosting());case 15:l&&!n&&!o&&t>0&&(t-=1,d("BDOperationLogHelper").logWarning(j,d("BDLoggingConstants").OPERATIONS.TRY_RESTARTING_HB),z.startHeartbeatDelayed());case 16:case"end":return c.stop()}},null,this)},retrieveSignals:function(){return b("regeneratorRuntime").async(function(a){while(1)switch(a.prev=a.next){case 0:a.next=2;return b("regeneratorRuntime").awrap(v);case 2:a.next=4;return b("regeneratorRuntime").awrap(z.postSignals([c("BDCollectionTypeEnum").DYNAMIC,c("BDCollectionTypeEnum").BIOMETRIC,c("BDCollectionTypeEnum").STATIC]));case 4:case"end":return a.stop()}},null,this)},postSignals:function(a){return b("regeneratorRuntime").async(function(c){while(1)switch(c.prev=c.next){case 0:c.next=2;return b("regeneratorRuntime").awrap(z.collectStaticSignals());case 2:z._postSignalsHelper(d("BDSignalBuffer").getSignalsAsJSONString(a),y.NONE)&&z.setTimestampInStorage(Date.now(),k);case 3:case"end":return c.stop()}},null,this)},_postSignalsHelper:function(a,b){if(a.length<=2)return!1;var e=x.getConfigGenerationTimeStamp(),f=z.encryptDataUsingAsid(w,a);a=function(){return{asid:w,ct:e,sjd:f,sid:x.sid}};var g=!1;try{b===y.CRITICAL?c("BdPdcSignalsFalcoEvent").logCritical(a):b===y.VITAL?c("BdPdcSignalsFalcoEvent").logImmediately(a):c("BdPdcSignalsFalcoEvent").log(a),g=!0}catch(a){d("BDOperationLogHelper").logError(j,d("BDLoggingConstants").OPERATIONS.BANZAI_LOG_ERROR,a),g=!1}finally{return g}},getInitialVector:function(a){if(a.length!==16){d("BDOperationLogHelper").logError(j,d("BDLoggingConstants").OPERATIONS.INVALID_LENGTH);return""}var b="";for(var c=0;c<8;c++)b+=String.fromCharCode(a.charCodeAt(c)^a.charCodeAt(8+c));return b},encryptDataUsingAsid:function(a,b){if(a.length!==36){d("BDOperationLogHelper").logError(j,d("BDLoggingConstants").OPERATIONS.INVALID_GUID);return b}a=a.slice(19,23)+a.slice(24,36);var e=z.getInitialVector(a);a=new(c("javascript-blowfish"))(a,"cbc");return a.base64Encode(a.encrypt(b,e))},startSignalPosting:function(){var a,c;return b("regeneratorRuntime").async(function(d){while(1)switch(d.prev=d.next){case 0:a=z.getTimestampInStorage(k);c=Date.now()-a;if(!(c>=x.getAllTiersFlushDurationMs())){d.next=7;break}d.next=5;return b("regeneratorRuntime").awrap(z.postSignalsIntermittently());case 5:d.next=8;break;case 7:window.setTimeout(function(){z.postSignalsIntermittently()},x.getAllTiersFlushDurationMs()-c);case 8:case"end":return d.stop()}},null,this)},postSignalsIntermittently:function(){z.postSignals([c("BDCollectionTypeEnum").STATIC]),window.setInterval(function(){z.postSignals([c("BDCollectionTypeEnum").STATIC,c("BDCollectionTypeEnum").DYNAMIC,c("BDCollectionTypeEnum").BIOMETRIC])},x.getAllTiersFlushDurationMs())},setTimestampInStorage:function(a,b){var e=(h||(h=c("WebStorage"))).getLocalStorage();if(!e){d("BDOperationLogHelper").logWarning(j,d("BDLoggingConstants").OPERATIONS.GET_LOCAL_STORAGE_ERROR);return}e=h.setItemGuarded(e,b,a.toString());e!=null&&d("BDOperationLogHelper").logWarning(j,d("BDLoggingConstants").OPERATIONS.WEB_STORAGE,{error:e.message})},getTimestampInStorage:function(a){var b=(h||(h=c("WebStorage"))).getLocalStorage();if(!b){d("BDOperationLogHelper").logWarning(j,d("BDLoggingConstants").OPERATIONS.GET_LOCAL_STORAGE_ERROR);return 0}b=b.getItem(a);if(b==null)return 0;a=Number.parseInt(b,10);return Number.isFinite(a)?a:0},resetHeartbeatStartedForTest:function(){n=!1,o=!1},startHeartbeatDelayed:function(){if(n||o)return;var a=z.getTimestampInStorage(z.HEARTBEAT_TIMESTAMP_STORAGE_KEY);a=Date.now()-a;try{a>=x.getHeartbeatIntervalMs()?z.startHeartbeat():(window.setTimeout(function(){return z.startHeartbeat()},x.getHeartbeatIntervalMs()-a),o=!0)}catch(b){d("BDOperationLogHelper").logError(j,d("BDLoggingConstants").OPERATIONS.HB_START_FAILURE,{lastBeatSince:a.toString(),hbi:x.getHeartbeatIntervalMs().toString(),e:b})}},HEARTBEAT_TIMESTAMP_STORAGE_KEY:"hb_timestamp",startHeartbeat:function(){!n&&x.getHeartbeatIntervalMs()>0&&(z.collectHeartbeatTimes(q,r),p!==0&&(window.clearInterval(p),d("BDOperationLogHelper").logWarning(j,d("BDLoggingConstants").OPERATIONS.HB_ALREADY_RUNNING)),p=window.setInterval(function(){return z.collectHeartbeatTimes(q,r)},x.getHeartbeatIntervalMs()),n=!0)},collectHeartbeatTimes:function(a,b){if(a<=0&&b<=0)return;a>0&&z.collectHeartbeat(y.CRITICAL);b>0&&z.collectHeartbeat(y.VITAL);(a>1||b>1)&&window.setTimeout(function(){return z.collectHeartbeatTimes(a-1,b-1)},s*1e3)},collectHeartbeat:function(a){var b;b=x==null?void 0:(b=x.getHeartbeatSignal())==null?void 0:(b=b.getSignalCollector())==null?void 0:b.executeSignalCollection();if(b==null){d("BDOperationLogHelper").logError(j,d("BDLoggingConstants").OPERATIONS.HB_COLLECTION_FAILED,{urgency:a.toString()});return}else d("BDOperationLogHelper").logInfo(j,d("BDLoggingConstants").OPERATIONS.HB_COLLECTED,{urgency:a.toString()});z.postHeartbeat(a,b)&&z.setTimestampInStorage(Date.now(),z.HEARTBEAT_TIMESTAMP_STORAGE_KEY)},postHeartbeat:function(a,b){var c={};c[38001]=[b==null?void 0:b.valueOrError];b=JSON.stringify(c);return z._postSignalsHelper(b,a)},collectStaticSignals:function(){return b("regeneratorRuntime").async(function(a){while(1)switch(a.prev=a.next){case 0:a.next=2;return b("regeneratorRuntime").awrap(z.collectSignalsOneTime(x.getStaticSignals()));case 2:case"end":return a.stop()}},null,this)},collectDynamicSignals:function(){z.stopDynamicSignalCollection(),u=window.setInterval(function(){return b("regeneratorRuntime").async(function(a){while(1)switch(a.prev=a.next){case 0:a.next=2;return b("regeneratorRuntime").awrap(z.collectSignalsOneTime(x.getDynamicSignals()));case 2:case"end":return a.stop()}},null,this)},x.getPeriodicCollectionIntervalMs())},collectBiometricSignals:function(){z.collectSignalsOneTime(x.getBiometricSignals())},stopDynamicSignalCollection:function(){u!=null&&(window.clearInterval(u),u=null)},collectSignalsOneTime:function(a){return b("regeneratorRuntime").async(function(d){while(1)switch(d.prev=d.next){case 0:d.next=2;return b("regeneratorRuntime").awrap(c("SignalCollectionManager").get().collectSignals(a));case 2:case"end":return d.stop()}},null,this)},startLoginTimeSignalCollection:function(a){return b("regeneratorRuntime").async(function(c){while(1)switch(c.prev=c.next){case 0:if(m){c.next=9;break}m=!0;d("BDServerConfig").parseConfig(a);c.next=5;return b("regeneratorRuntime").awrap(z.collectSignalsOneTime(x.getDynamicSignals()));case 5:c.next=7;return b("regeneratorRuntime").awrap(z.collectSignalsOneTime(x.getBiometricSignals()));case 7:c.next=9;return b("regeneratorRuntime").awrap(z.collectSignalsOneTime(x.getStaticSignals()));case 9:case"end":return c.stop()}},null,this)},getSignalsAsJSONString:function(){return d("BDSignalBuffer").getSignalsAsJSONString([c("BDCollectionTypeEnum").DYNAMIC,c("BDCollectionTypeEnum").STATIC,c("BDCollectionTypeEnum").BIOMETRIC])}};a=z;g["default"]=a}),98);
__d("BDCometSignalCollectionTrigger",["BDClientSignalCollectionTrigger","BDSignalCollectionData"],(function(a,b,c,d,e,f,g){"use strict";function a(){c("BDClientSignalCollectionTrigger").startSignalCollection(c("BDSignalCollectionData"))}g.initSignalCollection=a}),98);
__d("ProfileCometViewAsConstants.entrypoint",[],(function(a,b,c,d,e,f){"use strict";a="100000686899395";f.VIEW_AS_EVERYONE_USER=a}),66);
__d("useProfileCometIsViewAs",["Actor","ProfileCometViewAsConstants.entrypoint"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=d("Actor").useActor();a=a[0];return a===d("ProfileCometViewAsConstants.entrypoint").VIEW_AS_EVERYONE_USER}g["default"]=a}),98);
__d("isAdsExcelAddinURI",[],(function(a,b,c,d,e,f){var g=new RegExp("(^|\\.)fbaddins\\.com$","i"),h=["https"];function a(a){if(a.isEmpty()&&a.toString()!=="#")return!1;return!a.getDomain()&&!a.getProtocol()?!1:h.indexOf(a.getProtocol())!==-1&&g.test(a.getDomain())}f["default"]=a}),66);
__d("isValidAsyncSignalURI",[],(function(a,b,c,d,e,f){var g=new RegExp("((^|\\.)instagram\\.com$)|((^|\\.)wit\\.ai$)|((^|\\.)accountkit\\.com$)","i"),h=["https"];function a(a){if(a.isEmpty()&&a.toString()!=="#")return!1;return!a.getDomain()&&!a.getProtocol()?!1:h.includes(a.getProtocol())&&g.test(a.getDomain())}f["default"]=a}),66);
__d("AsyncSignal",["ErrorGuard","Promise","QueryString","Run","TimeSlice","TrackingConfig","URI","ZeroRewrites","getAsyncParams","isAdsExcelAddinURI","isFacebookURI","isMessengerDotComURI","isValidAsyncSignalURI","isWorkplaceDotComURI","memoize","promiseDone"],(function(a,b,c,d,e,f){var g,h,i,j;function a(a,c){this.data=c||{},this.uri=a.toString(),b("TrackingConfig").domain&&this.uri.charAt(0)=="/"&&(this.uri=b("TrackingConfig").domain+this.uri)}a.prototype.setHandler=function(a){this.handler=a;return this};a.prototype.setTimeout=function(a){this.timeout=a;return this};a.prototype.send=function(){b("TimeSlice").guard(this._send.bind(this),"AsyncSignal send",{propagationType:b("TimeSlice").PropagationType.ORPHAN})()};a.prototype._send=function(){var a=this.handler,c=this.data;c.asyncSignal=(Math.random()*1e4|0)+1;var d=b("ZeroRewrites").rewriteURI(new(g||(g=b("URI")))(this.uri));d=b("isFacebookURI")(d)||b("isMessengerDotComURI")(d)||b("isAdsExcelAddinURI")(d)||b("isWorkplaceDotComURI")(d)||b("isValidAsyncSignalURI")(d);if(d)Object.assign(c,b("getAsyncParams")("POST"));else throw new Error("'"+this.uri+"' is an external URL, you should not send async signals to offsite links.");var e=b("QueryString").appendToUrl(this.uri,c);j||(j=new(h||(h=b("Promise")))(function(a){b("Run").onAfterLoad(a)}));d=j.then(function(){return new(h||(h=b("Promise")))(function(a,b){var c=new Image();c.onload=a;c.onerror=c.onabort=b;c.src=e})});if(a){var f=!1,k=b("memoize")(function(){(i||(i=b("ErrorGuard"))).applyWithGuard(a,null,[f])});b("promiseDone")(d.then(function(){f=!0,k()},k));this.timeout&&setTimeout(k,this.timeout)}return this};e.exports=a}),null);
__d("AsyncTypedRequest",["AsyncRequest"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){b=a.call(this,b)||this;b.setReplaceTransportMarkers();return b}var c=b.prototype;c.promisePayload=function(b){return a.prototype.promisePayload.call(this,b)};c.setPayloadHandler=function(b){a.prototype.setPayloadHandler.call(this,b);return this};return b}(c("AsyncRequest"));g["default"]=a}),98);
__d("XAsyncRequest",["AsyncRequest"],(function(a,b,c,d,e,f,g){a=function(){function a(a){var b=this;this.setAllowCrossPageTransition=function(a){b.$1.setAllowCrossPageTransition(a);return b};this.$1=new(c("AsyncRequest"))(a)}var b=a.prototype;b.setURI=function(a){this.$1.setURI(a);return this};b.setTimeoutHandler=function(a,b){this.$1.setTimeoutHandler(a,b);return this};b.setOption=function(a,b){this.$1.setOption(a,b);return this};b.setMethod=function(a){this.$1.setMethod(a);return this};b.setAutoProcess=function(a){this.$1.setOption("suppressEvaluation",a);return this};b.setData=function(a){this.$1.setData(a);return this};b.setHandler=function(a){this.$1.setHandler(a);return this};b.setPayloadHandler=function(a){this.setHandler(function(b){return a(b.payload)});return this};b.setErrorHandler=function(a){this.$1.setErrorHandler(a);return this};b.send=function(){this.$1.send();return this};b.abort=function(){this.$1.abort()};b.setReadOnly=function(a){this.$1.setReadOnly(a);return this};b.setAllowCrossOrigin=function(a){this.$1.setAllowCrossOrigin(a);return this};b.setAllowCredentials=function(a){this.$1.setAllowCredentials(a);return this};return a}();g["default"]=a}),98);
__d("BootloaderEventsPerf",["invariant","Bootloader","BootloaderEvents","ResourceTimingStore","objectEntries","objectValues"],(function(a,b,c,d,e,f,g,h){var i={total_count:0,total_bytes:0,downloaded_count:0,downloaded_bytes:0,cached_count:0,cached_bytes:0,inlined_count:0,inlined_bytes:0,duration:0,missing_count:0};function j(a,b,c){return Math.max(0,((c=c)!=null?c:0)-Math.max(a,(c=b)!=null?c:0))}function k(){return{blocking:babelHelpers["extends"]({},i),nonblocking:babelHelpers["extends"]({},i),"default":babelHelpers["extends"]({},i)}}function l(a,b,c){var e,f;if(c==null)e=0,f="downloaded";else if(c[1])e=c[0].length,f="inlined";else{c=d("ResourceTimingStore").getEntryForURL(c[0]);c?(e=c.encodedBodySize,f=c.transferSize===0?"cached":"downloaded"):(e=0,f="downloaded",a.missing_count++)}a.total_count++;a.total_bytes+=e;if(!b)return;a.duration=Math.max(a.duration,b);switch(f){case"downloaded":a.downloaded_count++;a.downloaded_bytes+=e;break;case"inlined":a.inlined_count++;a.inlined_bytes+=e;break;case"cached":a.cached_count++;a.cached_bytes+=e;break}}function m(a,b,d,e,f){var g=c("Bootloader").getResourceState(b);l(a,j(d,g.loadStart,g.loadEnd),e);g.loadError!=null&&f.add(b)}function n(a,b,d,e){var f=k();for(var a=c("objectEntries")(a),g=Array.isArray(a),i=0,a=g?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var j;if(g){if(i>=a.length)break;j=a[i++]}else{i=a.next();if(i.done)break;j=i.value}j=j;var l=j[0];j=j[1];for(var j=j,n=Array.isArray(j),o=0,j=n?j:j[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var p;if(n){if(o>=j.length)break;p=j[o++]}else{o=j.next();if(o.done)break;p=o.value}p=p;var q=p[0];p=p[1];var r=void 0,s=void 0;switch(p.type){case"async":s=null;r=d;break;case"js":case"css":s=[p.src,p.d===1];r=f;break;default:p,h(0,3721)}m(r[l],q,b,s,e)}}return f}function o(a,b){var e={unpredicted:d("BootloaderEvents").newResourceMapSet(),ef:d("BootloaderEvents").newResourceMapSet(),overpredicted:d("BootloaderEvents").newResourceMapSet()};for(var f=c("objectEntries")(b),g=Array.isArray(f),h=0,f=g?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var i;if(g){if(h>=f.length)break;i=f[h++]}else{h=f.next();if(h.done)break;i=h.value}i=i;var j=i[0];i=i[1];for(var i=i.entries(),k=Array.isArray(i),l=0,i=k?i:i[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var m;if(k){if(l>=i.length)break;m=i[l++]}else{l=i.next();if(l.done)break;m=l.value}m=m;var n=m[0];m=m[1];a[j].has(n)?e.ef[j].set(n,m):e.overpredicted[j].set(n,m)}}for(n=c("objectEntries")(a),m=Array.isArray(n),l=0,n=m?n:n[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(m){if(l>=n.length)break;k=n[l++]}else{l=n.next();if(l.done)break;k=l.value}i=k;j=i[0];h=i[1];for(g=h.entries(),f=Array.isArray(g),a=0,g=f?g:g[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(f){if(a>=g.length)break;k=g[a++]}else{a=g.next();if(a.done)break;k=a.value}i=k;h=i[0];k=i[1];b[j].has(h)||e.unpredicted[j].set(h,k)}}return e}function a(a){var b=a.efData,c=a.rsrcs,d=a.startTime,e=new Set(),f;if(b){var g=o(c,b.tierOne);f=g.unpredicted;g={ef:n(g.ef,b.fetchRsrcsStart,k(),e),overpredicted:n(g.overpredicted,b.fetchRsrcsStart,k(),e)};b={ef_fetch_predictions:b.fetchPredictionsEnd-b.fetchPredictionsStart,ef_fetch_start_wait:b.fetchPredictionsEnd-b.fetchRsrcsStart,ef_head_start:d-b.fetchRsrcsStart}}else f=c,g={},b={};c=babelHelpers["extends"]({unpredicted:n(f,d,k(),e)},g);return{source:a.source,source_detail:a.sourceDetail,is_first_identical:a.isFirstIdentical,timeslice_context:(f=a.timesliceContext)==null?void 0:f.name,start_time:d,err_count:e.size,resources:c,durations:babelHelpers["extends"]({jsmods_wait:a.jsmodsStart-d,jsmods:a.jsmodsEnd-a.jsmodsStart,jsmods_done_wait:a.jsmodsEnd-d,download_done_wait:a.logTime-d},b),payloadStats:a.payloadStats}}function b(a){var b=a.startTime,e=0,f=0,g=0,h=0;for(var i=a.components,m=Array.isArray(i),o=0,i=m?i:i[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var p;if(m){if(o>=i.length)break;p=i[o++]}else{o=i.next();if(o.done)break;p=o.value}p=p;p=c("Bootloader").getComponentTiming(p);var q=p.tierTwoStart,r=p.tierTwoEnd,s=p.tierThreeStart;p=p.tierThreeEnd;e=Math.max(e,j(b,q,r));f=Math.max(f,j(b,b,r));g=Math.max(g,j(b,s,p));h=Math.max(h,j(b,b,p))}q=new Set();r=k();s=n(a.tierOne,b,r,q);p=n(a.tierTwo,b,r,q);o=n(a.tierThree,b,r,q);m=r.blocking.downloaded_count!=0;i=k();var t=d("BootloaderEvents").newResourceMapSet(),u=new Set(),v=[a.tierOne,a.tierTwo,a.tierThree];for(var w=0;w<v.length;w++){var x=v[w];for(var x=c("objectValues")(x),y=Array.isArray(x),z=0,x=y?x:x[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var A;if(y){if(z>=x.length)break;A=x[z++]}else{z=x.next();if(z.done)break;A=z.value}A=A;for(var A=A.keys(),B=Array.isArray(A),C=0,A=B?A:A[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var D;if(B){if(C>=A.length)break;D=A[C++]}else{C=A.next();if(C.done)break;D=C.value}D=D;u.add(D)}}}D=0;C=0;B=0;for(A=a.beRequests.values(),z=Array.isArray(A),y=0,A=z?A:A[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(z){if(y>=A.length)break;x=A[y++]}else{y=A.next();if(y.done)break;x=y.value}v=x;D+=j(b,b,v.requestStart);C+=v.serverGenTime;B+=v.jsmodsEnd-v.jsmodsStart;l(i[m?"blocking":"nonblocking"],v.responseStart-v.requestStart,[v.uri,!1]);for(w=c("objectEntries")(v.rsrcs),x=Array.isArray(w),v=0,w=x?w:w[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var E;if(x){if(v>=w.length)break;E=w[v++]}else{v=w.next();if(v.done)break;E=v.value}E=E;var F=E[0];E=E[1];for(var E=E,G=Array.isArray(E),H=0,E=G?E:E[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var I;if(G){if(H>=E.length)break;I=E[H++]}else{H=E.next();if(H.done)break;I=H.value}I=I;var J=I[0];I=I[1];u.has(J)||t[F].set(J,I)}}}J=n(t,b,r,q);return{ref:a.ref,components:a.components,timeslice_context:(I=a.timesliceContext)==null?void 0:I.name,start_time:b,err_count:q.size,resources:{t1:s,t2:p,t3:o,be:i,unpredicted:J,async:r},durations:{fetch_start_wait:a.fetchStartTime-b,be_start_wait:D,be_server_gen:C,be_jsmods:B,callback_wait:a.callbackStart-b,callback:a.callbackEnd-a.callbackStart,bootload_done_wait:a.callbackEnd-b,rdfd_requirelazy:e,rdfd_done_wait:f,rd_requirelazy:g,rd_done_wait:h}}}function e(a){a.start_time;var b=a.resources,d=a.durations;a=babelHelpers.objectWithoutPropertiesLoose(a,["start_time","resources","durations"]);for(var b=c("objectEntries")(b),e=Array.isArray(b),f=0,b=e?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=b.length)break;g=b[f++]}else{f=b.next();if(f.done)break;g=f.value}g=g;var h=g[0];g=g[1];for(var g=c("objectEntries")(g),i=Array.isArray(g),j=0,g=i?g:g[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var k;if(i){if(j>=g.length)break;k=g[j++]}else{j=g.next();if(j.done)break;k=j.value}k=k;var l=k[0];k=k[1];for(var k=c("objectEntries")(k),m=Array.isArray(k),n=0,k=m?k:k[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var o;if(m){if(n>=k.length)break;o=k[n++]}else{n=k.next();if(n.done)break;o=n.value}o=o;var p=o[0];o=o[1];a[h+"_"+l+"_resources_"+p]=Math.round(Number(o))}}}for(p=c("objectEntries")(d),o=Array.isArray(p),n=0,p=o?p:p[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(o){if(n>=p.length)break;m=p[n++]}else{n=p.next();if(n.done)break;m=n.value}k=m;l=k[0];j=k[1];a[l+"_duration"]=Math.round(Number(j))}if(a.payloadStats){for(i=c("objectEntries")(a.payloadStats),g=Array.isArray(i),h=0,i=g?i:i[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(g){if(h>=i.length)break;f=i[h++]}else{h=i.next();if(h.done)break;f=h.value}e=f;b=e[0];d=e[1];for(m=c("objectEntries")(d),k=Array.isArray(m),l=0,m=k?m:m[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(k){if(l>=m.length)break;j=m[l++]}else{l=m.next();if(l.done)break;j=l.value}n=j;o=n[0];p=n[1];a[b+"_"+o+"_count"]=Math.round(Number(p))}}delete a.payloadStats}return a}g.computeHRData=a;g.computeBLData=b;g.flattenData=e}),98);
__d("LogWebMemoryUsageFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1765264");b=d("FalcoLoggerInternal").create("log_web_memory_usage",a);e=b;g["default"]=e}),98);
__d("AccessibilityWebAssistiveTechTypedLoggerLite",["generateLiteTypedLogger"],(function(a,b,c,d,e,f){"use strict";e.exports=b("generateLiteTypedLogger")("logger:AccessibilityWebAssistiveTechLoggerConfig")}),null);/*FB_PKG_DELIM*/
__d("IGDSecureShareSheetDialog_media.graphql",["polarisMediaSrcSetResolver","polarisMediaSrcSetResolver"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"media_type",storageKey:null},d={args:null,kind:"FragmentSpread",name:"polarisMediaSrcSetResolver"};return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"IGDSecureShareSheetDialog_media",selections:[{kind:"RequiredField",field:a,action:"THROW",path:"pk"},{alias:null,args:null,concreteType:"XDTCommentDict",kind:"LinkedField",name:"caption",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_reshare",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_viewer_reshare",storageKey:null},{alias:null,args:null,concreteType:"XDTMediaDict",kind:"LinkedField",name:"carousel_media",plural:!0,selections:[{kind:"RequiredField",field:a,action:"THROW",path:"carousel_media.pk"},c,{alias:null,args:null,fragment:d,kind:"RelayResolver",name:"client__srcSet",resolverModule:b("polarisMediaSrcSetResolver").client__srcSet,path:"carousel_media.client__srcSet"}],storageKey:null},{alias:null,args:null,fragment:d,kind:"RelayResolver",name:"client__srcSet",resolverModule:b("polarisMediaSrcSetResolver").client__srcSet,path:"client__srcSet"},{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"code",storageKey:null},action:"THROW",path:"code"},{alias:null,args:null,kind:"ScalarField",name:"expiring_at",storageKey:null},c,{alias:null,args:null,kind:"ScalarField",name:"product_type",storageKey:null},{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"owner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"usePolarisMediaOverlayInfo_media"}],type:"XDTMediaDict",abstractKey:null}}();e.exports=a}),null);
__d("WADecodeImage",["WATagsLogger","regeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["start decoding image ",""]);h=function(){return a};return a}var i=d("WATagsLogger").TAGS(["decodeImage"]);function a(a){var c,d,e,f,g,j;return b("regeneratorRuntime").async(function(k){while(1)switch(k.prev=k.next){case 0:i.DEV(h(),a.name);k.next=3;return b("regeneratorRuntime").awrap(self.createImageBitmap(a));case 3:c=k.sent;d=c.width,e=c.height;f=new self.OffscreenCanvas(d,e);f.width=d;f.height=e;g=f.getContext("2d");g.fillStyle="rgb(255,255,255)";g.fillRect(0,0,f.width,f.height);g.drawImage(c,0,0);j=g.getImageData(0,0,d,e);return k.abrupt("return",j);case 14:case"end":return k.stop()}},null,this)}g.decodeImage=a}),98);
__d("WAEncodeProgressiveJpeg",["WATagsLogger"],(function(a,b,c,d,e,f,g){function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["finished compressing, compressed file size: ",""]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["start compressing, original file size: ",""]);i=function(){return a};return a}var j=d("WATagsLogger").TAGS(["WAMozjpeg"]);function a(a){return function(b){var c=b.imageData,d=b.quality;b=b.useHdScanConfig;var e=c.data,f=c.width;c=c.height;j.DEV(i(),e.byteLength);var g=new Uint8Array(e);e=a._malloc(e.byteLength);a.HEAPU8.set(g,e);g=a.ccall("encode_progressive_jpeg","number",["number","number","number","number","number","boolean"],[e,g.byteLength,f,c,d,b]);f=a.HEAPU32[g/4];c=a.HEAPU32[g/4+1];j.DEV(h(),c);d=new Uint8Array(a.HEAPU8.subarray(f,f+c));a._free(e);a._free(f);return d}}g.createEncodeProgressiveJpeg=a}),98);
__d("WAMozjpegWasm",["Promise"],(function(a,b,c,d,e,f){var g,h=function(){var a=typeof document!=="undefined"&&document.currentScript?document.currentScript.src:void 0;return function(c){c=c||{};var c=typeof c!="undefined"?c:{},d,i;c.ready=new(g||(g=b("Promise")))(function(a,b){d=a,i=b});var j=Object.assign({},c),k=[],l="./this.program",m=function(a,b){throw b},aa=!0,n=!1,o="";function p(a){return c.locateFile?c.locateFile(a,o):o+a}var q,ba,r;(aa||n)&&(n?o=self.location.href:typeof document!="undefined"&&document.currentScript&&(o=document.currentScript.src),a&&(o=a),o.indexOf("blob:")!==0?o=o.substr(0,o.replace(/[?#].*/,"").lastIndexOf("/")+1):o="",(q=function(a){var b=new XMLHttpRequest();b.open("GET",a,!1);b.send(null);return b.responseText},n&&(r=function(a){var b=new XMLHttpRequest();b.open("GET",a,!1);b.responseType="arraybuffer";b.send(null);return new Uint8Array(b.response)}),ba=function(a,b,c){var d=new XMLHttpRequest();d.open("GET",a,!0);d.responseType="arraybuffer";d.onload=function(){if(d.status==200||d.status==0&&d.response){b(d.response);return}c()};d.onerror=c;d.send(null)}),function(a){return document.title=a});var s=emptyFunction.bind(console),t=emptyFunction.bind(console);Object.assign(c,j);j=null;var u,ca=!0;typeof WebAssembly!="object"&&H("no native wasm support detected");var v,w=!1;function da(a,b){a||H(b)}var ea=typeof TextDecoder!="undefined"?new TextDecoder("utf8"):void 0;function x(a,b,c){c=b+c;var d=b;while(a[d]&&!(d>=c))++d;if(d-b>16&&a.buffer&&ea)return ea.decode(a.subarray(b,d));c="";while(b<d){var e=a[b++];if(!(e&128)){c+=String.fromCharCode(e);continue}var f=a[b++]&63;if((e&224)==192){c+=String.fromCharCode((e&31)<<6|f);continue}var g=a[b++]&63;(e&240)==224?e=(e&15)<<12|f<<6|g:e=(e&7)<<18|f<<12|g<<6|a[b++]&63;if(e<65536)c+=String.fromCharCode(e);else{f=e-65536;c+=String.fromCharCode(55296|f>>10,56320|f&1023)}}return c}function fa(a,b){return a?x(B,a,b):""}function y(a,b,c,d){if(!(d>0))return 0;var e=c;d=c+d-1;for(var f=0;f<a.length;++f){var g=a.charCodeAt(f);if(g>=55296&&g<=57343){var h=a.charCodeAt(++f);g=65536+((g&1023)<<10)|h&1023}if(g<=127){if(c>=d)break;b[c++]=g}else if(g<=2047){if(c+1>=d)break;b[c++]=192|g>>6;b[c++]=128|g&63}else if(g<=65535){if(c+2>=d)break;b[c++]=224|g>>12;b[c++]=128|g>>6&63;b[c++]=128|g&63}else{if(c+3>=d)break;b[c++]=240|g>>18;b[c++]=128|g>>12&63;b[c++]=128|g>>6&63;b[c++]=128|g&63}}b[c]=0;return c-e}function ga(a,b,c){return y(a,B,b,c)}function z(a){var b=0;for(var c=0;c<a.length;++c){var d=a.charCodeAt(c);d<=127?b++:d<=2047?b+=2:d>=55296&&d<=57343?(b+=4,++c):b+=3}return b}var ha,A,B,C,D;function ia(a){ha=a,c.HEAP8=A=new Int8Array(a),c.HEAP16=new Int16Array(a),c.HEAP32=C=new Int32Array(a),c.HEAPU8=B=new Uint8Array(a),c.HEAPU16=new Uint16Array(a),c.HEAPU32=D=new Uint32Array(a),c.HEAPF32=new Float32Array(a),c.HEAPF64=new Float64Array(a)}var ja,ka=[],la=[],ma=[];function na(){return ca}function oa(){Ba(ka)}function pa(){!c.noFSInit&&!Q.init.initialized&&Q.init(),Q.ignorePermissions=!1,O.init(),Ba(la)}function qa(){Ba(ma)}function ra(a){la.unshift(a)}var E=0,sa=null,F=null;function ta(a){return a}function ua(a){E++}function G(a){E--;if(E==0){sa!==null&&(clearInterval(sa),sa=null);if(F){a=F;F=null;a()}}}function H(a){a="Aborted("+a+")";t(a);w=!0;a+=". Build with -sASSERTIONS for more info.";a=new WebAssembly.RuntimeError(a);i(a);throw a}var va="data:application/octet-stream;base64,";function wa(a){return a.startsWith(va)}var I;I="WAMozjpegWasm.wasm";wa(I)||(I=p(I));function xa(a){try{if(a==I&&u)return new Uint8Array(u);if(r)return r(a);throw"both async and sync fetching of the wasm failed"}catch(a){H(a)}}function ya(){return!u&&(aa||n)&&typeof fetch=="function"?fetch(I,{credentials:"same-origin"}).then(function(a){if(!a.ok)throw"failed to load wasm binary file at '"+I+"'";return a.arrayBuffer()})["catch"](function(){return xa(I)}):(g||(g=b("Promise"))).resolve().then(function(){return xa(I)})}function za(){var b={a:gb};function d(b,a){a=b.exports;c.asm=a;v=c.asm.x;ia(v.buffer);ja=c.asm.z;ra(c.asm.y);G("wasm-instantiate")}ua("wasm-instantiate");function g(a){d(a.instance)}function h(a){return ya().then(function(a){return WebAssembly.instantiate(a,b)}).then(function(a){return a}).then(a,function(a){t("failed to asynchronously prepare wasm: "+a),H(a)})}function j(){if(!u&&typeof WebAssembly.instantiateStreaming=="function"&&!wa(I)&&typeof fetch=="function")return fetch(I,{credentials:"same-origin"}).then(function(a){a=WebAssembly.instantiateStreaming(a,b);return a.then(g,function(a){t("wasm streaming compile failed: "+a);t("falling back to ArrayBuffer instantiation");return h(g)})});else return h(g)}if(c.instantiateWasm)try{var a=c.instantiateWasm(b,d);return a}catch(a){t("Module.instantiateWasm callback failed with error: "+a),i(a)}j()["catch"](i);return{}}var J,K;function Aa(a){this.name="ExitStatus",this.message="Program terminated with exit("+a+")",this.status=a}function Ba(a){while(a.length>0)a.shift()(c)}function Ca(a){return hb(a+24)+24}var L=0;function Da(a){this.excPtr=a,this.ptr=a-24,this.set_type=function(a){D[this.ptr+4>>2]=a},this.get_type=function(){return D[this.ptr+4>>2]},this.set_destructor=function(a){D[this.ptr+8>>2]=a},this.get_destructor=function(){return D[this.ptr+8>>2]},this.set_refcount=function(a){C[this.ptr>>2]=a},this.set_caught=function(a){a=a?1:0,A[this.ptr+12>>0]=a},this.get_caught=function(){return A[this.ptr+12>>0]!=0},this.set_rethrown=function(a){a=a?1:0,A[this.ptr+13>>0]=a},this.get_rethrown=function(){return A[this.ptr+13>>0]!=0},this.init=function(a,b){this.set_adjusted_ptr(0),this.set_type(a),this.set_destructor(b),this.set_refcount(0),this.set_caught(!1),this.set_rethrown(!1)},this.add_ref=function(){var a=C[this.ptr>>2];C[this.ptr>>2]=a+1},this.release_ref=function(){var a=C[this.ptr>>2];C[this.ptr>>2]=a-1;return a===1},this.set_adjusted_ptr=function(a){D[this.ptr+16>>2]=a},this.get_adjusted_ptr=function(){return D[this.ptr+16>>2]},this.get_exception_ptr=function(){var a=kb(this.get_type());if(a)return D[this.excPtr>>2];a=this.get_adjusted_ptr();return a!==0?a:this.excPtr}}function Ea(a){L||(L=a);throw a}function Fa(){var a=L;if(!a){X(0);return 0}var b=new Da(a);b.set_adjusted_ptr(a);var c=b.get_type();if(!c){X(0);return a}for(var d=0;d<arguments.length;d++){var e=arguments[d];if(e===0||e===c)break;var f=b.ptr+16;if(jb(e,c,f)){X(e);return a}}X(c);return a}var Ga=0;function Ha(a,b,c){var d=new Da(a);d.init(b,c);L=a;Ga++;throw a}var M={isAbs:function(a){return a.charAt(0)==="/"},splitPath:function(a){var b=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;return b.exec(a).slice(1)},normalizeArray:function(a,b){var c=0;for(var d=a.length-1;d>=0;d--){var e=a[d];e==="."?a.splice(d,1):e===".."?(a.splice(d,1),c++):c&&(a.splice(d,1),c--)}if(b)for(;c;c--)a.unshift("..");return a},normalize:function(a){var b=M.isAbs(a),c=a.substr(-1)==="/";a=M.normalizeArray(a.split("/").filter(function(a){return!!a}),!b).join("/");!a&&!b&&(a=".");a&&c&&(a+="/");return(b?"/":"")+a},dirname:function(a){a=M.splitPath(a);var b=a[0];a=a[1];if(!b&&!a)return".";a&&(a=a.substr(0,a.length-1));return b+a},basename:function(a){if(a==="/")return"/";a=M.normalize(a);a=a.replace(/\/$/,"");var b=a.lastIndexOf("/");return b===-1?a:a.substr(b+1)},join:function(){var a=Array.prototype.slice.call(arguments);return M.normalize(a.join("/"))},join2:function(a,b){return M.normalize(a+"/"+b)}};function Ia(){if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function"){var a=new Uint8Array(1);return function(){crypto.getRandomValues(a);return a[0]}}else return function(){return H("randomDevice")}}var N={resolve:function(){var a="",b=!1;for(var c=arguments.length-1;c>=-1&&!b;c--){var d=c>=0?arguments[c]:Q.cwd();if(typeof d!="string")throw new TypeError("Arguments to path.resolve must be strings");else if(!d)return"";a=d+"/"+a;b=M.isAbs(d)}a=M.normalizeArray(a.split("/").filter(function(a){return!!a}),!b).join("/");return(b?"/":"")+a||"."},relative:function(a,b){a=N.resolve(a).substr(1);b=N.resolve(b).substr(1);function c(a){var b=0;for(;b<a.length;b++)if(a[b]!=="")break;var c=a.length-1;for(;c>=0;c--)if(a[c]!=="")break;return b>c?[]:a.slice(b,c-b+1)}a=c(a.split("/"));c=c(b.split("/"));b=Math.min(a.length,c.length);var d=b;for(var e=0;e<b;e++)if(a[e]!==c[e]){d=e;break}b=[];for(var e=d;e<a.length;e++)b.push("..");b=b.concat(c.slice(d));return b.join("/")}};function Ja(a,b,c){c=c>0?c:z(a)+1;c=new Array(c);a=y(a,c,0,c.length);b&&(c.length=a);return c}var O={ttys:[],init:function(){},shutdown:function(){},register:function(a,b){O.ttys[a]={input:[],output:[],ops:b},Q.registerDevice(a,O.stream_ops)},stream_ops:{open:function(a){var b=O.ttys[a.node.rdev];if(!b)throw new Q.ErrnoError(43);a.tty=b;a.seekable=!1},close:function(a){a.tty.ops.fsync(a.tty)},fsync:function(a){a.tty.ops.fsync(a.tty)},read:function(b,a,c,d,e){if(!b.tty||!b.tty.ops.get_char)throw new Q.ErrnoError(60);e=0;for(var f=0;f<d;f++){var g;try{g=b.tty.ops.get_char(b.tty)}catch(a){throw new Q.ErrnoError(29)}if(g===void 0&&e===0)throw new Q.ErrnoError(6);if(g===null||g===void 0)break;e++;a[c+f]=g}e&&(b.node.timestamp=Date.now());return e},write:function(b,a,c,d,e){if(!b.tty||!b.tty.ops.put_char)throw new Q.ErrnoError(60);try{for(var f=0;f<d;f++)b.tty.ops.put_char(b.tty,a[c+f])}catch(a){throw new Q.ErrnoError(29)}d&&(b.node.timestamp=Date.now());return f}},default_tty_ops:{get_char:function(a){if(!a.input.length){var b=null;typeof window!="undefined"&&typeof window.prompt=="function"?(b=window.prompt("Input: "),b!==null&&(b+="\n")):typeof readline=="function"&&(b=readline(),b!==null&&(b+="\n"));if(!b)return null;a.input=Ja(b,!0)}return a.input.shift()},put_char:function(a,b){b===null||b===10?(s(x(a.output,0)),a.output=[]):b!=0&&a.output.push(b)},fsync:function(a){a.output&&a.output.length>0&&(s(x(a.output,0)),a.output=[])}},default_tty1_ops:{put_char:function(a,b){b===null||b===10?(t(x(a.output,0)),a.output=[]):b!=0&&a.output.push(b)},fsync:function(a){a.output&&a.output.length>0&&(t(x(a.output,0)),a.output=[])}}};function Ka(a){H()}var P={ops_table:null,mount:function(a){return P.createNode(null,"/",16384|511,0)},createNode:function(a,b,c,d){if(Q.isBlkdev(c)||Q.isFIFO(c))throw new Q.ErrnoError(63);P.ops_table||(P.ops_table={dir:{node:{getattr:P.node_ops.getattr,setattr:P.node_ops.setattr,lookup:P.node_ops.lookup,mknod:P.node_ops.mknod,rename:P.node_ops.rename,unlink:P.node_ops.unlink,rmdir:P.node_ops.rmdir,readdir:P.node_ops.readdir,symlink:P.node_ops.symlink},stream:{llseek:P.stream_ops.llseek}},file:{node:{getattr:P.node_ops.getattr,setattr:P.node_ops.setattr},stream:{llseek:P.stream_ops.llseek,read:P.stream_ops.read,write:P.stream_ops.write,allocate:P.stream_ops.allocate,mmap:P.stream_ops.mmap,msync:P.stream_ops.msync}},link:{node:{getattr:P.node_ops.getattr,setattr:P.node_ops.setattr,readlink:P.node_ops.readlink},stream:{}},chrdev:{node:{getattr:P.node_ops.getattr,setattr:P.node_ops.setattr},stream:Q.chrdev_stream_ops}});c=Q.createNode(a,b,c,d);Q.isDir(c.mode)?(c.node_ops=P.ops_table.dir.node,c.stream_ops=P.ops_table.dir.stream,c.contents={}):Q.isFile(c.mode)?(c.node_ops=P.ops_table.file.node,c.stream_ops=P.ops_table.file.stream,c.usedBytes=0,c.contents=null):Q.isLink(c.mode)?(c.node_ops=P.ops_table.link.node,c.stream_ops=P.ops_table.link.stream):Q.isChrdev(c.mode)&&(c.node_ops=P.ops_table.chrdev.node,c.stream_ops=P.ops_table.chrdev.stream);c.timestamp=Date.now();a&&(a.contents[b]=c,a.timestamp=c.timestamp);return c},getFileDataAsTypedArray:function(a){if(!a.contents)return new Uint8Array(0);return a.contents.subarray?a.contents.subarray(0,a.usedBytes):new Uint8Array(a.contents)},expandFileStorage:function(a,b){var c=a.contents?a.contents.length:0;if(c>=b)return;var d=1024*1024;b=Math.max(b,c*(c<d?2:1.125)>>>0);c!=0&&(b=Math.max(b,256));d=a.contents;a.contents=new Uint8Array(b);a.usedBytes>0&&a.contents.set(d.subarray(0,a.usedBytes),0)},resizeFileStorage:function(a,b){if(a.usedBytes==b)return;if(b==0)a.contents=null,a.usedBytes=0;else{var c=a.contents;a.contents=new Uint8Array(b);c&&a.contents.set(c.subarray(0,Math.min(b,a.usedBytes)));a.usedBytes=b}},node_ops:{getattr:function(a){var b={};b.dev=Q.isChrdev(a.mode)?a.id:1;b.ino=a.id;b.mode=a.mode;b.nlink=1;b.uid=0;b.gid=0;b.rdev=a.rdev;Q.isDir(a.mode)?b.size=4096:Q.isFile(a.mode)?b.size=a.usedBytes:Q.isLink(a.mode)?b.size=a.link.length:b.size=0;b.atime=new Date(a.timestamp);b.mtime=new Date(a.timestamp);b.ctime=new Date(a.timestamp);b.blksize=4096;b.blocks=Math.ceil(b.size/b.blksize);return b},setattr:function(a,b){b.mode!==void 0&&(a.mode=b.mode),b.timestamp!==void 0&&(a.timestamp=b.timestamp),b.size!==void 0&&P.resizeFileStorage(a,b.size)},lookup:function(a,b){throw Q.genericErrors[44]},mknod:function(a,b,c,d){return P.createNode(a,b,c,d)},rename:function(a,b,c){if(Q.isDir(a.mode)){var d;try{d=Q.lookupNode(b,c)}catch(a){}if(d)for(var e in d.contents)throw new Q.ErrnoError(55)}delete a.parent.contents[a.name];a.parent.timestamp=Date.now();a.name=c;b.contents[c]=a;b.timestamp=a.parent.timestamp;a.parent=b},unlink:function(a,b){delete a.contents[b],a.timestamp=Date.now()},rmdir:function(a,b){var c=Q.lookupNode(a,b);for(c in c.contents)throw new Q.ErrnoError(55);delete a.contents[b];a.timestamp=Date.now()},readdir:function(a){var b=[".",".."];for(var c in a.contents){if(!Object.prototype.hasOwnProperty.call(a.contents,c))continue;b.push(c)}return b},symlink:function(a,b,c){a=P.createNode(a,b,511|40960,0);a.link=c;return a},readlink:function(a){if(!Q.isLink(a.mode))throw new Q.ErrnoError(28);return a.link}},stream_ops:{read:function(b,a,c,d,e){var f=b.node.contents;if(e>=b.node.usedBytes)return 0;b=Math.min(b.node.usedBytes-e,d);if(b>8&&f.subarray)a.set(f.subarray(e,e+b),c);else for(d=0;d<b;d++)a[c+d]=f[e+d];return b},write:function(b,a,c,d,e,f){a.buffer===A.buffer&&(f=!1);if(!d)return 0;b=b.node;b.timestamp=Date.now();if(a.subarray&&(!b.contents||b.contents.subarray))if(f){b.contents=a.subarray(c,c+d);b.usedBytes=d;return d}else if(b.usedBytes===0&&e===0){b.contents=a.slice(c,c+d);b.usedBytes=d;return d}else if(e+d<=b.usedBytes){b.contents.set(a.subarray(c,c+d),e);return d}P.expandFileStorage(b,e+d);if(b.contents.subarray&&a.subarray)b.contents.set(a.subarray(c,c+d),e);else for(f=0;f<d;f++)b.contents[e+f]=a[c+f];b.usedBytes=Math.max(b.usedBytes,e+d);return d},llseek:function(a,b,c){b=b;c===1?b+=a.position:c===2&&(Q.isFile(a.node.mode)&&(b+=a.node.usedBytes));if(b<0)throw new Q.ErrnoError(28);return b},allocate:function(a,b,c){P.expandFileStorage(a.node,b+c),a.node.usedBytes=Math.max(a.node.usedBytes,b+c)},mmap:function(a,b,c,d,e){if(!Q.isFile(a.node.mode))throw new Q.ErrnoError(43);d=a.node.contents;if(!(e&2)&&d.buffer===ha)a=!1,e=d.byteOffset;else{(c>0||c+b<d.length)&&(d.subarray?d=d.subarray(c,c+b):d=Array.prototype.slice.call(d,c,c+b));a=!0;e=Ka(b);if(!e)throw new Q.ErrnoError(48);A.set(d,e)}return{ptr:e,allocated:a}},msync:function(b,a,c,d,e){P.stream_ops.write(b,a,0,d,c,!1);return 0}}};function La(a,b,c,d){var e=d?"":ta("al "+a);ba(a,function(c){da(c,'Loading data file "'+a+'" failed (no arrayBuffer).'),b(new Uint8Array(c)),e&&G(e)},function(b){if(c)c();else throw'Loading data file "'+a+'" failed.'});e&&ua(e)}var Q={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath:function(a,b){b===void 0&&(b={});a=N.resolve(a);if(!a)return{path:"",node:null};var c={follow_mount:!0,recurse_count:0};b=Object.assign(c,b);if(b.recurse_count>8)throw new Q.ErrnoError(32);c=a.split("/").filter(function(a){return!!a});a=Q.root;var d="/";for(var e=0;e<c.length;e++){var f=e===c.length-1;if(f&&b.parent)break;a=Q.lookupNode(a,c[e]);d=M.join2(d,c[e]);Q.isMountpoint(a)&&((!f||f&&b.follow_mount)&&(a=a.mounted.root));if(!f||b.follow){f=0;while(Q.isLink(a.mode)){var g=Q.readlink(d);d=N.resolve(M.dirname(d),g);g=Q.lookupPath(d,{recurse_count:b.recurse_count+1});a=g.node;if(f++>40)throw new Q.ErrnoError(32)}}}return{path:d,node:a}},getPath:function(a){var b;while(!0){if(Q.isRoot(a)){var c=a.mount.mountpoint;return!b?c:c[c.length-1]!=="/"?c+"/"+b:c+b}b=b?a.name+"/"+b:a.name;a=a.parent}},hashName:function(a,b){var c=0;for(var d=0;d<b.length;d++)c=(c<<5)-c+b.charCodeAt(d)|0;return(a+c>>>0)%Q.nameTable.length},hashAddNode:function(a){var b=Q.hashName(a.parent.id,a.name);a.name_next=Q.nameTable[b];Q.nameTable[b]=a},hashRemoveNode:function(a){var b=Q.hashName(a.parent.id,a.name);if(Q.nameTable[b]===a)Q.nameTable[b]=a.name_next;else{b=Q.nameTable[b];while(b){if(b.name_next===a){b.name_next=a.name_next;break}b=b.name_next}}},lookupNode:function(a,b){var c=Q.mayLookup(a);if(c)throw new Q.ErrnoError(c,a);c=Q.hashName(a.id,b);for(c=Q.nameTable[c];c;c=c.name_next){var d=c.name;if(c.parent.id===a.id&&d===b)return c}return Q.lookup(a,b)},createNode:function(a,b,c,d){a=new Q.FSNode(a,b,c,d);Q.hashAddNode(a);return a},destroyNode:function(a){Q.hashRemoveNode(a)},isRoot:function(a){return a===a.parent},isMountpoint:function(a){return!!a.mounted},isFile:function(a){return(a&61440)===32768},isDir:function(a){return(a&61440)===16384},isLink:function(a){return(a&61440)===40960},isChrdev:function(a){return(a&61440)===8192},isBlkdev:function(a){return(a&61440)===24576},isFIFO:function(a){return(a&61440)===4096},isSocket:function(a){return(a&49152)===49152},flagModes:{r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},modeStringToFlags:function(a){var b=Q.flagModes[a];if(typeof b=="undefined")throw new Error("Unknown file open mode: "+a);return b},flagsToPermissionString:function(a){var b=["r","w","rw"][a&3];a&512&&(b+="w");return b},nodePermissions:function(a,b){if(Q.ignorePermissions)return 0;if(b.includes("r")&&!(a.mode&292))return 2;else if(b.includes("w")&&!(a.mode&146))return 2;else if(b.includes("x")&&!(a.mode&73))return 2;return 0},mayLookup:function(a){var b=Q.nodePermissions(a,"x");if(b)return b;return!a.node_ops.lookup?2:0},mayCreate:function(a,b){try{Q.lookupNode(a,b);return 20}catch(a){}return Q.nodePermissions(a,"wx")},mayDelete:function(a,b,c){var d;try{d=Q.lookupNode(a,b)}catch(a){return a.errno}b=Q.nodePermissions(a,"wx");if(b)return b;if(c){if(!Q.isDir(d.mode))return 54;if(Q.isRoot(d)||Q.getPath(d)===Q.cwd())return 10}else if(Q.isDir(d.mode))return 31;return 0},mayOpen:function(a,b){if(!a)return 44;if(Q.isLink(a.mode))return 32;else if(Q.isDir(a.mode)&&(Q.flagsToPermissionString(b)!=="r"||b&512))return 31;return Q.nodePermissions(a,Q.flagsToPermissionString(b))},MAX_OPEN_FDS:4096,nextfd:function(a,b){a===void 0&&(a=0);b===void 0&&(b=Q.MAX_OPEN_FDS);for(a=a;a<=b;a++)if(!Q.streams[a])return a;throw new Q.ErrnoError(33)},getStream:function(a){return Q.streams[a]},createStream:function(a,b,c){Q.FSStream||(Q.FSStream=function(){this.shared={}},Q.FSStream.prototype={},Object.defineProperties(Q.FSStream.prototype,{object:{get:function(){return this.node},set:function(a){this.node=a}},isRead:{get:function(){return(this.flags&2097155)!==1}},isWrite:{get:function(){return(this.flags&2097155)!==0}},isAppend:{get:function(){return this.flags&1024}},flags:{get:function(){return this.shared.flags},set:function(a){this.shared.flags=a}},position:{get:function(){return this.shared.position},set:function(a){this.shared.position=a}}}));a=Object.assign(new Q.FSStream(),a);b=Q.nextfd(b,c);a.fd=b;Q.streams[b]=a;return a},closeStream:function(a){Q.streams[a]=null},chrdev_stream_ops:{open:function(a){var b=Q.getDevice(a.node.rdev);a.stream_ops=b.stream_ops;a.stream_ops.open&&a.stream_ops.open(a)},llseek:function(){throw new Q.ErrnoError(70)}},major:function(a){return a>>8},minor:function(a){return a&255},makedev:function(a,b){return a<<8|b},registerDevice:function(a,b){Q.devices[a]={stream_ops:b}},getDevice:function(a){return Q.devices[a]},getMounts:function(a){var b=[];a=[a];while(a.length){var c=a.pop();b.push(c);a.push.apply(a,c.mounts)}return b},syncfs:function(a,b){typeof a=="function"&&(b=a,a=!1);Q.syncFSRequests++;Q.syncFSRequests>1&&t("warning: "+Q.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var c=Q.getMounts(Q.root.mount),d=0;function e(a){Q.syncFSRequests--;return b(a)}function f(a){if(a){if(!f.errored){f.errored=!0;return e(a)}return}++d>=c.length&&e(null)}c.forEach(function(b){if(!b.type.syncfs)return f(null);b.type.syncfs(b,a,f)})},mount:function(a,b,c){var d=c==="/",e=!c,f;if(d&&Q.root)throw new Q.ErrnoError(10);else if(!d&&!e){e=Q.lookupPath(c,{follow_mount:!1});c=e.path;f=e.node;if(Q.isMountpoint(f))throw new Q.ErrnoError(10);if(!Q.isDir(f.mode))throw new Q.ErrnoError(54)}e={type:a,opts:b,mountpoint:c,mounts:[]};b=a.mount(e);b.mount=e;e.root=b;d?Q.root=b:f&&(f.mounted=e,f.mount&&f.mount.mounts.push(e));return b},unmount:function(a){a=Q.lookupPath(a,{follow_mount:!1});if(!Q.isMountpoint(a.node))throw new Q.ErrnoError(28);a=a.node;var b=a.mounted,c=Q.getMounts(b);Object.keys(Q.nameTable).forEach(function(a){a=Q.nameTable[a];while(a){var b=a.name_next;c.includes(a.mount)&&Q.destroyNode(a);a=b}});a.mounted=null;b=a.mount.mounts.indexOf(b);a.mount.mounts.splice(b,1)},lookup:function(a,b){return a.node_ops.lookup(a,b)},mknod:function(a,b,c){var d=Q.lookupPath(a,{parent:!0});d=d.node;a=M.basename(a);if(!a||a==="."||a==="..")throw new Q.ErrnoError(28);var e=Q.mayCreate(d,a);if(e)throw new Q.ErrnoError(e);if(!d.node_ops.mknod)throw new Q.ErrnoError(63);return d.node_ops.mknod(d,a,b,c)},create:function(a,b){b=b!==void 0?b:438;b&=4095;b|=32768;return Q.mknod(a,b,0)},mkdir:function(a,b){b=b!==void 0?b:511;b&=511|512;b|=16384;return Q.mknod(a,b,0)},mkdirTree:function(a,b){a=a.split("/");var c="";for(var d=0;d<a.length;++d){if(!a[d])continue;c+="/"+a[d];try{Q.mkdir(c,b)}catch(a){if(a.errno!=20)throw a}}},mkdev:function(a,b,c){typeof c=="undefined"&&(c=b,b=438);b|=8192;return Q.mknod(a,b,c)},symlink:function(a,b){if(!N.resolve(a))throw new Q.ErrnoError(44);var c=Q.lookupPath(b,{parent:!0});c=c.node;if(!c)throw new Q.ErrnoError(44);b=M.basename(b);var d=Q.mayCreate(c,b);if(d)throw new Q.ErrnoError(d);if(!c.node_ops.symlink)throw new Q.ErrnoError(63);return c.node_ops.symlink(c,b,a)},rename:function(a,b){var c=M.dirname(a),d=M.dirname(b),e=M.basename(a),f=M.basename(b),g,h;g=Q.lookupPath(a,{parent:!0});h=g.node;g=Q.lookupPath(b,{parent:!0});g=g.node;if(!h||!g)throw new Q.ErrnoError(44);if(h.mount!==g.mount)throw new Q.ErrnoError(75);var i=Q.lookupNode(h,e);a=N.relative(a,d);if(a.charAt(0)!==".")throw new Q.ErrnoError(28);a=N.relative(b,c);if(a.charAt(0)!==".")throw new Q.ErrnoError(55);var j;try{j=Q.lookupNode(g,f)}catch(a){}if(i===j)return;d=Q.isDir(i.mode);b=Q.mayDelete(h,e,d);if(b)throw new Q.ErrnoError(b);b=j?Q.mayDelete(g,f,d):Q.mayCreate(g,f);if(b)throw new Q.ErrnoError(b);if(!h.node_ops.rename)throw new Q.ErrnoError(63);if(Q.isMountpoint(i)||j&&Q.isMountpoint(j))throw new Q.ErrnoError(10);if(g!==h){b=Q.nodePermissions(h,"w");if(b)throw new Q.ErrnoError(b)}Q.hashRemoveNode(i);try{h.node_ops.rename(i,g,f)}catch(a){throw a}finally{Q.hashAddNode(i)}},rmdir:function(a){var b=Q.lookupPath(a,{parent:!0});b=b.node;a=M.basename(a);var c=Q.lookupNode(b,a),d=Q.mayDelete(b,a,!0);if(d)throw new Q.ErrnoError(d);if(!b.node_ops.rmdir)throw new Q.ErrnoError(63);if(Q.isMountpoint(c))throw new Q.ErrnoError(10);b.node_ops.rmdir(b,a);Q.destroyNode(c)},readdir:function(a){a=Q.lookupPath(a,{follow:!0});a=a.node;if(!a.node_ops.readdir)throw new Q.ErrnoError(54);return a.node_ops.readdir(a)},unlink:function(a){var b=Q.lookupPath(a,{parent:!0});b=b.node;if(!b)throw new Q.ErrnoError(44);a=M.basename(a);var c=Q.lookupNode(b,a),d=Q.mayDelete(b,a,!1);if(d)throw new Q.ErrnoError(d);if(!b.node_ops.unlink)throw new Q.ErrnoError(63);if(Q.isMountpoint(c))throw new Q.ErrnoError(10);b.node_ops.unlink(b,a);Q.destroyNode(c)},readlink:function(a){a=Q.lookupPath(a);a=a.node;if(!a)throw new Q.ErrnoError(44);if(!a.node_ops.readlink)throw new Q.ErrnoError(28);return N.resolve(Q.getPath(a.parent),a.node_ops.readlink(a))},stat:function(a,b){a=Q.lookupPath(a,{follow:!b});b=a.node;if(!b)throw new Q.ErrnoError(44);if(!b.node_ops.getattr)throw new Q.ErrnoError(63);return b.node_ops.getattr(b)},lstat:function(a){return Q.stat(a,!0)},chmod:function(a,b,c){if(typeof a=="string"){c=Q.lookupPath(a,{follow:!c});c=c.node}else c=a;if(!c.node_ops.setattr)throw new Q.ErrnoError(63);c.node_ops.setattr(c,{mode:b&4095|c.mode&-4096,timestamp:Date.now()})},lchmod:function(a,b){Q.chmod(a,b,!0)},fchmod:function(a,b){a=Q.getStream(a);if(!a)throw new Q.ErrnoError(8);Q.chmod(a.node,b)},chown:function(a,b,c,d){if(typeof a=="string"){b=Q.lookupPath(a,{follow:!d});c=b.node}else c=a;if(!c.node_ops.setattr)throw new Q.ErrnoError(63);c.node_ops.setattr(c,{timestamp:Date.now()})},lchown:function(a,b,c){Q.chown(a,b,c,!0)},fchown:function(a,b,c){a=Q.getStream(a);if(!a)throw new Q.ErrnoError(8);Q.chown(a.node,b,c)},truncate:function(a,b){if(b<0)throw new Q.ErrnoError(28);if(typeof a=="string"){var c=Q.lookupPath(a,{follow:!0});c=c.node}else c=a;if(!c.node_ops.setattr)throw new Q.ErrnoError(63);if(Q.isDir(c.mode))throw new Q.ErrnoError(31);if(!Q.isFile(c.mode))throw new Q.ErrnoError(28);a=Q.nodePermissions(c,"w");if(a)throw new Q.ErrnoError(a);c.node_ops.setattr(c,{size:b,timestamp:Date.now()})},ftruncate:function(a,b){a=Q.getStream(a);if(!a)throw new Q.ErrnoError(8);if((a.flags&2097155)===0)throw new Q.ErrnoError(28);Q.truncate(a.node,b)},utime:function(a,b,c){a=Q.lookupPath(a,{follow:!0});a=a.node;a.node_ops.setattr(a,{timestamp:Math.max(b,c)})},open:function(a,b,d){if(a==="")throw new Q.ErrnoError(44);b=typeof b=="string"?Q.modeStringToFlags(b):b;d=typeof d=="undefined"?438:d;b&64?d=d&4095|32768:d=0;var e;if(typeof a=="object")e=a;else{a=M.normalize(a);try{var f=Q.lookupPath(a,{follow:!(b&131072)});e=f.node}catch(a){}}f=!1;if(b&64)if(e){if(b&128)throw new Q.ErrnoError(20)}else e=Q.mknod(a,d,0),f=!0;if(!e)throw new Q.ErrnoError(44);Q.isChrdev(e.mode)&&(b&=-513);if(b&65536&&!Q.isDir(e.mode))throw new Q.ErrnoError(54);if(!f){d=Q.mayOpen(e,b);if(d)throw new Q.ErrnoError(d)}b&512&&!f&&Q.truncate(e,0);b&=~(128|512|131072);d=Q.createStream({node:e,path:Q.getPath(e),flags:b,seekable:!0,position:0,stream_ops:e.stream_ops,ungotten:[],error:!1});d.stream_ops.open&&d.stream_ops.open(d);c.logReadFiles&&!(b&1)&&(Q.readFiles||(Q.readFiles={}),a in Q.readFiles||(Q.readFiles[a]=1));return d},close:function(a){if(Q.isClosed(a))throw new Q.ErrnoError(8);a.getdents&&(a.getdents=null);try{a.stream_ops.close&&a.stream_ops.close(a)}catch(a){throw a}finally{Q.closeStream(a.fd)}a.fd=null},isClosed:function(a){return a.fd===null},llseek:function(a,b,c){if(Q.isClosed(a))throw new Q.ErrnoError(8);if(!a.seekable||!a.stream_ops.llseek)throw new Q.ErrnoError(70);if(c!=0&&c!=1&&c!=2)throw new Q.ErrnoError(28);a.position=a.stream_ops.llseek(a,b,c);a.ungotten=[];return a.position},read:function(b,a,c,d,e){if(d<0||e<0)throw new Q.ErrnoError(28);if(Q.isClosed(b))throw new Q.ErrnoError(8);if((b.flags&2097155)===1)throw new Q.ErrnoError(8);if(Q.isDir(b.node.mode))throw new Q.ErrnoError(31);if(!b.stream_ops.read)throw new Q.ErrnoError(28);var f=typeof e!="undefined";if(!f)e=b.position;else if(!b.seekable)throw new Q.ErrnoError(70);a=b.stream_ops.read(b,a,c,d,e);f||(b.position+=a);return a},write:function(b,a,c,d,e,f){if(d<0||e<0)throw new Q.ErrnoError(28);if(Q.isClosed(b))throw new Q.ErrnoError(8);if((b.flags&2097155)===0)throw new Q.ErrnoError(8);if(Q.isDir(b.node.mode))throw new Q.ErrnoError(31);if(!b.stream_ops.write)throw new Q.ErrnoError(28);b.seekable&&b.flags&1024&&Q.llseek(b,0,2);var g=typeof e!="undefined";if(!g)e=b.position;else if(!b.seekable)throw new Q.ErrnoError(70);a=b.stream_ops.write(b,a,c,d,e,f);g||(b.position+=a);return a},allocate:function(a,b,c){if(Q.isClosed(a))throw new Q.ErrnoError(8);if(b<0||c<=0)throw new Q.ErrnoError(28);if((a.flags&2097155)===0)throw new Q.ErrnoError(8);if(!Q.isFile(a.node.mode)&&!Q.isDir(a.node.mode))throw new Q.ErrnoError(43);if(!a.stream_ops.allocate)throw new Q.ErrnoError(138);a.stream_ops.allocate(a,b,c)},mmap:function(a,b,c,d,e){if((d&2)!==0&&(e&2)===0&&(a.flags&2097155)!==2)throw new Q.ErrnoError(2);if((a.flags&2097155)===1)throw new Q.ErrnoError(2);if(!a.stream_ops.mmap)throw new Q.ErrnoError(43);return a.stream_ops.mmap(a,b,c,d,e)},msync:function(b,a,c,d,e){return!b.stream_ops.msync?0:b.stream_ops.msync(b,a,c,d,e)},munmap:function(a){return 0},ioctl:function(a,b,c){if(!a.stream_ops.ioctl)throw new Q.ErrnoError(59);return a.stream_ops.ioctl(a,b,c)},readFile:function(a,b){b===void 0&&(b={});b.flags=b.flags||0;b.encoding=b.encoding||"binary";if(b.encoding!=="utf8"&&b.encoding!=="binary")throw new Error('Invalid encoding type "'+b.encoding+'"');var c,d=Q.open(a,b.flags);a=Q.stat(a);a=a.size;var e=new Uint8Array(a);Q.read(d,e,0,a,0);b.encoding==="utf8"?c=x(e,0):b.encoding==="binary"&&(c=e);Q.close(d);return c},writeFile:function(a,b,c){c===void 0&&(c={});c.flags=c.flags||577;a=Q.open(a,c.flags,c.mode);if(typeof b=="string"){var d=new Uint8Array(z(b)+1),e=y(b,d,0,d.length);Q.write(a,d,0,e,void 0,c.canOwn)}else if(ArrayBuffer.isView(b))Q.write(a,b,0,b.byteLength,void 0,c.canOwn);else throw new Error("Unsupported data type");Q.close(a)},cwd:function(){return Q.currentPath},chdir:function(a){a=Q.lookupPath(a,{follow:!0});if(a.node===null)throw new Q.ErrnoError(44);if(!Q.isDir(a.node.mode))throw new Q.ErrnoError(54);var b=Q.nodePermissions(a.node,"x");if(b)throw new Q.ErrnoError(b);Q.currentPath=a.path},createDefaultDirectories:function(){Q.mkdir("/tmp"),Q.mkdir("/home"),Q.mkdir("/home/web_user")},createDefaultDevices:function(){Q.mkdir("/dev");Q.registerDevice(Q.makedev(1,3),{read:function(){return 0},write:function(b,a,c,d,e){return d}});Q.mkdev("/dev/null",Q.makedev(1,3));O.register(Q.makedev(5,0),O.default_tty_ops);O.register(Q.makedev(6,0),O.default_tty1_ops);Q.mkdev("/dev/tty",Q.makedev(5,0));Q.mkdev("/dev/tty1",Q.makedev(6,0));var a=Ia();Q.createDevice("/dev","random",a);Q.createDevice("/dev","urandom",a);Q.mkdir("/dev/shm");Q.mkdir("/dev/shm/tmp")},createSpecialDirectories:function(){Q.mkdir("/proc");var a=Q.mkdir("/proc/self");Q.mkdir("/proc/self/fd");Q.mount({mount:function(){var b=Q.createNode(a,"fd",16384|511,73);b.node_ops={lookup:function(a,b){a=+b;var c=Q.getStream(a);if(!c)throw new Q.ErrnoError(8);b={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:function(){return c.path}}};b.parent=b;return b}};return b}},{},"/proc/self/fd")},createStandardStreams:function(){c.stdin?Q.createDevice("/dev","stdin",c.stdin):Q.symlink("/dev/tty","/dev/stdin"),c.stdout?Q.createDevice("/dev","stdout",null,c.stdout):Q.symlink("/dev/tty","/dev/stdout"),c.stderr?Q.createDevice("/dev","stderr",null,c.stderr):Q.symlink("/dev/tty1","/dev/stderr"),Q.open("/dev/stdin",0),Q.open("/dev/stdout",1),Q.open("/dev/stderr",1)},ensureErrnoError:function(){if(Q.ErrnoError)return;Q.ErrnoError=function(a,b){this.node=b,this.setErrno=function(a){this.errno=a},this.setErrno(a),this.message="FS error"};Q.ErrnoError.prototype=new Error();Q.ErrnoError.prototype.constructor=Q.ErrnoError;[44].forEach(function(a){Q.genericErrors[a]=new Q.ErrnoError(a),Q.genericErrors[a].stack="<generic error, no stack>"})},staticInit:function(){Q.ensureErrnoError(),Q.nameTable=new Array(4096),Q.mount(P,{},"/"),Q.createDefaultDirectories(),Q.createDefaultDevices(),Q.createSpecialDirectories(),Q.filesystems={MEMFS:P}},init:function(a,b,d){Q.init.initialized=!0,Q.ensureErrnoError(),c.stdin=a||c.stdin,c.stdout=b||c.stdout,c.stderr=d||c.stderr,Q.createStandardStreams()},quit:function(){Q.init.initialized=!1;for(var a=0;a<Q.streams.length;a++){var b=Q.streams[a];if(!b)continue;Q.close(b)}},getMode:function(a,b){var c=0;a&&(c|=292|73);b&&(c|=146);return c},findObject:function(a,b){a=Q.analyzePath(a,b);return!a.exists?null:a.object},analyzePath:function(a,b){try{var c=Q.lookupPath(a,{follow:!b});a=c.path}catch(a){}var d={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var c=Q.lookupPath(a,{parent:!0});d.parentExists=!0;d.parentPath=c.path;d.parentObject=c.node;d.name=M.basename(a);c=Q.lookupPath(a,{follow:!b});d.exists=!0;d.path=c.path;d.object=c.node;d.name=c.node.name;d.isRoot=c.path==="/"}catch(a){d.error=a.errno}return d},createPath:function(a,b,c,d){a=typeof a=="string"?a:Q.getPath(a);c=b.split("/").reverse();while(c.length){d=c.pop();if(!d)continue;var e=M.join2(a,d);try{Q.mkdir(e)}catch(a){}a=e}return e},createFile:function(a,b,c,d,e){c=M.join2(typeof a=="string"?a:Q.getPath(a),b);a=Q.getMode(d,e);return Q.create(c,a)},createDataFile:function(a,b,c,d,e,f){var g=b;a&&(a=typeof a=="string"?a:Q.getPath(a),g=b?M.join2(a,b):a);b=Q.getMode(d,e);a=Q.create(g,b);if(c){if(typeof c=="string"){d=new Array(c.length);for(e=0,g=c.length;e<g;++e)d[e]=c.charCodeAt(e);c=d}Q.chmod(a,b|146);e=Q.open(a,577);Q.write(e,c,0,c.length,0,f);Q.close(e);Q.chmod(a,b)}return a},createDevice:function(a,b,c,d){a=M.join2(typeof a=="string"?a:Q.getPath(a),b);b=Q.getMode(!!c,!!d);Q.createDevice.major||(Q.createDevice.major=64);var e=Q.makedev(Q.createDevice.major++,0);Q.registerDevice(e,{open:function(a){a.seekable=!1},close:function(a){d&&d.buffer&&d.buffer.length&&d(10)},read:function(b,a,d,e,f){f=0;for(var g=0;g<e;g++){var h;try{h=c()}catch(a){throw new Q.ErrnoError(29)}if(h===void 0&&f===0)throw new Q.ErrnoError(6);if(h===null||h===void 0)break;f++;a[d+g]=h}f&&(b.node.timestamp=Date.now());return f},write:function(b,a,c,e,f){for(f=0;f<e;f++)try{d(a[c+f])}catch(a){throw new Q.ErrnoError(29)}e&&(b.node.timestamp=Date.now());return f}});return Q.mkdev(a,b,e)},forceLoadFile:function(a){if(a.isDevice||a.isFolder||a.link||a.contents)return!0;if(typeof XMLHttpRequest!="undefined")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");else if(q)try{a.contents=Ja(q(a.url),!0),a.usedBytes=a.contents.length}catch(a){throw new Q.ErrnoError(29)}else throw new Error("Cannot load without read() or XMLHttpRequest.")},createLazyFile:function(a,b,c,d,e){function f(){this.lengthKnown=!1,this.chunks=[]}f.prototype.get=function(a){if(a>this.length-1||a<0)return void 0;var b=a%this.chunkSize;a=a/this.chunkSize|0;return this.getter(a)[b]};f.prototype.setDataGetter=function(a){this.getter=a};f.prototype.cacheLength=function(){var a=new XMLHttpRequest();a.open("HEAD",c,!1);a.send(null);if(!(a.status>=200&&a.status<300||a.status===304))throw new Error("Couldn't load "+c+". Status: "+a.status);var b=Number(a.getResponseHeader("Content-length")),d,e=(d=a.getResponseHeader("Accept-Ranges"))&&d==="bytes";a=(d=a.getResponseHeader("Content-Encoding"))&&d==="gzip";var f=1024*1024;e||(f=b);var g=function(d,e){if(d>e)throw new Error("invalid range ("+d+", "+e+") or no bytes requested!");if(e>b-1)throw new Error("only "+b+" bytes available! programmer error!");var a=new XMLHttpRequest();a.open("GET",c,!1);b!==f&&a.setRequestHeader("Range","bytes="+d+"-"+e);a.responseType="arraybuffer";a.overrideMimeType&&a.overrideMimeType("text/plain; charset=x-user-defined");a.send(null);if(!(a.status>=200&&a.status<300||a.status===304))throw new Error("Couldn't load "+c+". Status: "+a.status);return a.response!==void 0?new Uint8Array(a.response||[]):Ja(a.responseText||"",!0)},h=this;h.setDataGetter(function(a){var c=a*f,d=(a+1)*f-1;d=Math.min(d,b-1);typeof h.chunks[a]=="undefined"&&(h.chunks[a]=g(c,d));if(typeof h.chunks[a]=="undefined")throw new Error("doXHR failed!");return h.chunks[a]});(a||!b)&&(f=b=1,b=this.getter(0).length,f=b,s("LazyFiles on gzip forces download of the whole file when length is accessed"));this._length=b;this._chunkSize=f;this.lengthKnown=!0};if(typeof XMLHttpRequest!="undefined"){if(!n)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";f=new f();Object.defineProperties(f,{length:{get:function(){this.lengthKnown||this.cacheLength();return this._length}},chunkSize:{get:function(){this.lengthKnown||this.cacheLength();return this._chunkSize}}});f={isDevice:!1,contents:f}}else var f={isDevice:!1,url:c};var g=Q.createFile(a,b,f,d,e);f.contents?g.contents=f.contents:f.url&&(g.contents=null,g.url=f.url);Object.defineProperties(g,{usedBytes:{get:function(){return this.contents.length}}});var h={};a=Object.keys(g.stream_ops);a.forEach(function(a){var b=g.stream_ops[a];h[a]=function(){Q.forceLoadFile(g);return b.apply(null,arguments)}});function i(b,a,c,d,e){b=b.node.contents;if(e>=b.length)return 0;d=Math.min(b.length-e,d);if(b.slice)for(var f=0;f<d;f++)a[c+f]=b[e+f];else for(var f=0;f<d;f++)a[c+f]=b.get(e+f);return d}h.read=function(b,a,c,d,e){Q.forceLoadFile(g);return i(b,a,c,d,e)};h.mmap=function(a,b,c,d,e){Q.forceLoadFile(g);d=Ka(b);if(!d)throw new Q.ErrnoError(48);i(a,A,d,b,c);return{ptr:d,allocated:!0}};g.stream_ops=h;return g},createPreloadedFile:function(a,b,c,d,e,f,g,h,i,j){var k=b?N.resolve(M.join2(a,b)):a,l=ta("cp "+k);function m(c){function m(c){j&&j(),h||Q.createDataFile(a,b,c,d,e,i),f&&f(),G(l)}if(Browser.handledByPreloadPlugin(c,k,m,function(){g&&g(),G(l)}))return;m(c)}ua(l);typeof c=="string"?La(c,function(a){return m(a)},g):m(c)},indexedDB:function(){return window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB},DB_NAME:function(){return"EM_FS_"+window.location.pathname},DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:function(a,b,c){b=b||function(){};c=c||function(){};var d=Q.indexedDB();try{var e=d.open(Q.DB_NAME(),Q.DB_VERSION)}catch(a){return c(a)}e.onupgradeneeded=function(){s("creating db");var a=e.result;a.createObjectStore(Q.DB_STORE_NAME)};e.onsuccess=function(){var d=e.result;d=d.transaction([Q.DB_STORE_NAME],"readwrite");var f=d.objectStore(Q.DB_STORE_NAME),g=0,h=0,i=a.length;function j(){h==0?b():c()}a.forEach(function(a){a=f.put(Q.analyzePath(a).object.contents,a);a.onsuccess=function(){g++,g+h==i&&j()};a.onerror=function(){h++,g+h==i&&j()}});d.onerror=c};e.onerror=c},loadFilesFromDB:function(a,b,c){b=b||function(){};c=c||function(){};var d=Q.indexedDB();try{var e=d.open(Q.DB_NAME(),Q.DB_VERSION)}catch(a){return c(a)}e.onupgradeneeded=c;e.onsuccess=function(){var d=e.result;try{var f=d.transaction([Q.DB_STORE_NAME],"readonly")}catch(a){c(a);return}var g=f.objectStore(Q.DB_STORE_NAME),h=0,i=0,j=a.length;function k(){i==0?b():c()}a.forEach(function(a){var b=g.get(a);b.onsuccess=function(){Q.analyzePath(a).exists&&Q.unlink(a),Q.createDataFile(M.dirname(a),M.basename(a),b.result,!0,!0,!0),h++,h+i==j&&k()};b.onerror=function(){i++,h+i==j&&k()}});f.onerror=c};e.onerror=c}},R={DEFAULT_POLLMASK:5,calculateAt:function(a,b,c){if(M.isAbs(b))return b;var d;if(a===-100)d=Q.cwd();else{a=R.getStreamFromFD(a);d=a.path}if(b.length==0){if(!c)throw new Q.ErrnoError(44);return d}return M.join2(d,b)},doStat:function(a,b,c){try{var d=a(b)}catch(a){if(a&&a.node&&M.normalize(b)!==M.normalize(Q.getPath(a.node)))return-54;throw a}C[c>>2]=d.dev;C[c+8>>2]=d.ino;C[c+12>>2]=d.mode;D[c+16>>2]=d.nlink;C[c+20>>2]=d.uid;C[c+24>>2]=d.gid;C[c+28>>2]=d.rdev;K=[d.size>>>0,(J=d.size,+Math.abs(J)>=1?J>0?(Math.min(+Math.floor(J/4294967296),4294967295)|0)>>>0:~~+Math.ceil((J-+(~~J>>>0))/4294967296)>>>0:0)],C[c+40>>2]=K[0],C[c+44>>2]=K[1];C[c+48>>2]=4096;C[c+52>>2]=d.blocks;K=[Math.floor(d.atime.getTime()/1e3)>>>0,(J=Math.floor(d.atime.getTime()/1e3),+Math.abs(J)>=1?J>0?(Math.min(+Math.floor(J/4294967296),4294967295)|0)>>>0:~~+Math.ceil((J-+(~~J>>>0))/4294967296)>>>0:0)],C[c+56>>2]=K[0],C[c+60>>2]=K[1];D[c+64>>2]=0;K=[Math.floor(d.mtime.getTime()/1e3)>>>0,(J=Math.floor(d.mtime.getTime()/1e3),+Math.abs(J)>=1?J>0?(Math.min(+Math.floor(J/4294967296),4294967295)|0)>>>0:~~+Math.ceil((J-+(~~J>>>0))/4294967296)>>>0:0)],C[c+72>>2]=K[0],C[c+76>>2]=K[1];D[c+80>>2]=0;K=[Math.floor(d.ctime.getTime()/1e3)>>>0,(J=Math.floor(d.ctime.getTime()/1e3),+Math.abs(J)>=1?J>0?(Math.min(+Math.floor(J/4294967296),4294967295)|0)>>>0:~~+Math.ceil((J-+(~~J>>>0))/4294967296)>>>0:0)],C[c+88>>2]=K[0],C[c+92>>2]=K[1];D[c+96>>2]=0;K=[d.ino>>>0,(J=d.ino,+Math.abs(J)>=1?J>0?(Math.min(+Math.floor(J/4294967296),4294967295)|0)>>>0:~~+Math.ceil((J-+(~~J>>>0))/4294967296)>>>0:0)],C[c+104>>2]=K[0],C[c+108>>2]=K[1];return 0},doMsync:function(a,b,c,d,e){if(!Q.isFile(b.node.mode))throw new Q.ErrnoError(43);if(d&2)return 0;a=B.slice(a,a+c);Q.msync(b,a,e,c,d)},varargs:void 0,get:function(){R.varargs+=4;var a=C[R.varargs-4>>2];return a},getStr:function(a){a=fa(a);return a},getStreamFromFD:function(a){a=Q.getStream(a);if(!a)throw new Q.ErrnoError(8);return a}};function Ma(a,b){try{if(b===0)return-28;var c=Q.cwd(),d=z(c)+1;if(b<d)return-68;ga(c,a,b);return d}catch(a){if(typeof Q=="undefined"||!(a instanceof Q.ErrnoError))throw a;return-a.errno}}function Na(){H("")}function Oa(a,b,c){B.copyWithin(a,b,b+c)}function Pa(){return 2147483648}function Qa(a){try{v.grow(a-ha.byteLength+65535>>>16);ia(v.buffer);return 1}catch(a){}}function Ra(a){var b=B.length;a=a>>>0;var c=Pa();if(a>c)return!1;var d=function(a,b){return a+(b-a%b)%b};for(var e=1;e<=4;e*=2){var f=b*(1+.2/e);f=Math.min(f,a+100663296);f=Math.min(c,d(Math.max(a,f),65536));f=Qa(f);if(f)return!0}return!1}var Sa={};function Ta(){return l||"./this.program"}function S(){if(!S.strings){var a=(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8";a={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:a,_:Ta()};for(var b in Sa)Sa[b]===void 0?delete a[b]:a[b]=Sa[b];var c=[];for(var b in a)c.push(b+"="+a[b]);S.strings=c}return S.strings}function Ua(b,a,c){for(var d=0;d<b.length;++d)A[a++>>0]=b.charCodeAt(d);c||(A[a>>0]=0)}function Va(a,b){var c=0;S().forEach(function(d,e){var f=b+c;D[a+e*4>>2]=f;Ua(d,f);c+=d.length+1});return 0}function Wa(a,b){var c=S();D[a>>2]=c.length;var d=0;c.forEach(function(a){d+=a.length+1});D[b>>2]=d;return 0}function Xa(a){a,na()||(w=!0),m(a,new Aa(a))}function Ya(a,b){a,Xa(a)}j=Ya;function Za(a){try{a=R.getStreamFromFD(a);Q.close(a);return 0}catch(a){if(typeof Q=="undefined"||!(a instanceof Q.ErrnoError))throw a;return a.errno}}function $a(a,b){return b+2097152>>>0<4194305-!!a?(a>>>0)+b*4294967296:NaN}function ab(a,b,c,d,e){try{b=$a(b,c);if(isNaN(b))return 61;c=R.getStreamFromFD(a);Q.llseek(c,b,d);K=[c.position>>>0,(J=c.position,+Math.abs(J)>=1?J>0?(Math.min(+Math.floor(J/4294967296),4294967295)|0)>>>0:~~+Math.ceil((J-+(~~J>>>0))/4294967296)>>>0:0)],C[e>>2]=K[0],C[e+4>>2]=K[1];c.getdents&&b===0&&d===0&&(c.getdents=null);return 0}catch(a){if(typeof Q=="undefined"||!(a instanceof Q.ErrnoError))throw a;return a.errno}}function bb(a,b,c,d){var e=0;for(var f=0;f<c;f++){var g=D[b>>2],h=D[b+4>>2];b+=8;g=Q.write(a,A,g,h,d);if(g<0)return-1;e+=g}return e}function cb(a,b,c,d){try{a=R.getStreamFromFD(a);a=bb(a,b,c);D[d>>2]=a;return 0}catch(a){if(typeof Q=="undefined"||!(a instanceof Q.ErrnoError))throw a;return a.errno}}function T(a){return ja.get(a)}function db(a){a=c["_"+a];return a}function eb(b,a){A.set(b,a)}function fb(a,b,c,d,e){var f={string:function(a){var b=0;if(a!==null&&a!==void 0&&a!==0){var c=(a.length<<2)+1;b=ib(c);ga(a,b,c)}return b},array:function(a){var b=ib(a.length);eb(a,b);return b}};function g(a){if(b==="string")return fa(a);return b==="boolean"?Boolean(a):a}a=db(a);var h=[],i=0;if(d)for(var j=0;j<d.length;j++){var k=f[c[j]];k?(i===0&&(i=Y()),h[j]=k(d[j])):h[j]=d[j]}k=a.apply(null,h);function e(a){i!==0&&Z(i);return g(a)}k=e(k);return k}p=function(a,b,c,d){a||(a=this),this.parent=a,this.mount=a.mount,this.mounted=null,this.id=Q.nextInode++,this.name=b,this.mode=c,this.node_ops={},this.stream_ops={},this.rdev=d};var U=292|73,V=146;Object.defineProperties(p.prototype,{read:{get:function(){return(this.mode&U)===U},set:function(a){a?this.mode|=U:this.mode&=~U}},write:{get:function(){return(this.mode&V)===V},set:function(a){a?this.mode|=V:this.mode&=~V}},isFolder:{get:function(){return Q.isDir(this.mode)}},isDevice:{get:function(){return Q.isChrdev(this.mode)}}});Q.FSNode=p;Q.staticInit();var gb={t:Ca,a:Fa,s:Ha,b:Ea,n:Ma,u:Na,o:Oa,m:Ra,q:Va,r:Wa,k:j,p:Za,l:ab,h:cb,f:qb,i:pb,g:nb,v:tb,w:sb,c:ob,d:lb,e:mb,j:rb};za();c.___wasm_call_ctors=function(){return(c.___wasm_call_ctors=c.asm.y).apply(null,arguments)};c._encode_progressive_jpeg=function(){return(c._encode_progressive_jpeg=c.asm.A).apply(null,arguments)};var hb=c._malloc=function(){return(hb=c._malloc=c.asm.B).apply(null,arguments)};c._free=function(){return(c._free=c.asm.C).apply(null,arguments)};var W=c._setThrew=function(){return(W=c._setThrew=c.asm.D).apply(null,arguments)},X=c.setTempRet0=function(){return(X=c.setTempRet0=c.asm.E).apply(null,arguments)},Y=c.stackSave=function(){return(Y=c.stackSave=c.asm.F).apply(null,arguments)},Z=c.stackRestore=function(){return(Z=c.stackRestore=c.asm.G).apply(null,arguments)},ib=c.stackAlloc=function(){return(ib=c.stackAlloc=c.asm.H).apply(null,arguments)},jb=c.___cxa_can_catch=function(){return(jb=c.___cxa_can_catch=c.asm.I).apply(null,arguments)},kb=c.___cxa_is_pointer_type=function(){return(kb=c.___cxa_is_pointer_type=c.asm.J).apply(null,arguments)};function lb(a,b,c){var d=Y();try{T(a)(b,c)}catch(a){Z(d);if(a!==a+0)throw a;W(1,0)}}function mb(a,b,c,d){var e=Y();try{T(a)(b,c,d)}catch(a){Z(e);if(a!==a+0)throw a;W(1,0)}}function nb(a,b,c,d){var e=Y();try{return T(a)(b,c,d)}catch(a){Z(e);if(a!==a+0)throw a;W(1,0)}}function ob(a,b){var c=Y();try{T(a)(b)}catch(a){Z(c);if(a!==a+0)throw a;W(1,0)}}function pb(a,b,c){var d=Y();try{return T(a)(b,c)}catch(a){Z(d);if(a!==a+0)throw a;W(1,0)}}function qb(a,b){var c=Y();try{return T(a)(b)}catch(a){Z(c);if(a!==a+0)throw a;W(1,0)}}function rb(a,b,c,d,e,f){var g=Y();try{T(a)(b,c,d,e,f)}catch(a){Z(g);if(a!==a+0)throw a;W(1,0)}}function sb(a){var b=Y();try{T(a)()}catch(a){Z(b);if(a!==a+0)throw a;W(1,0)}}function tb(a,b,c,d,e,f){var g=Y();try{return T(a)(b,c,d,e,f)}catch(a){Z(g);if(a!==a+0)throw a;W(1,0)}}c.ccall=fb;var $;F=function a(){$||ub(),$||(F=a)};function ub(a){a||k;if(E>0)return;oa();if(E>0)return;function b(){if($)return;$=!0;c.calledRun=!0;if(w)return;pa();d(c);qa()}b()}ub();return c.ready}}();typeof f==="object"&&typeof e==="object"?e.exports=h:typeof define==="function"&&define.amd?define([],function(){return h}):typeof f==="object"&&(f.Module=h)}),null);
__d("WALoadMozjpegWasm",["Promise","WAMozjpegWasm","WAPromiseManagement","WATagsLogger"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose([" failed to load mozjpeg wasm ",""]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["no cached mozjpeg wasm, start fetching a new one"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["loaded cached mozjpeg wasm"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["start loading mozjpeg wasm..."]);l=function(){return a};return a}var m=d("WATagsLogger").TAGS(["load-mozjpeg-wasm"]),n=null;function a(a){m.DEV(l());if(n!=null){m.DEV(k());return(h||(h=b("Promise"))).resolve(n)}m.DEV(j());return o(a).then(function(a){n=a;return n})}var o=d("WAPromiseManagement").cacheWhilePending(function(){return"all"},function(a){return c("WAMozjpegWasm")({locateFile:function(){return a}})["catch"](function(a){m.ERROR(i(),a);throw a})});g.loadMozjpegWasm=a}),98);
__d("MAWImagePreProcess",["MAWImageUtils","Promise","QPLUserFlow","Random","WADecodeImage","WAEncodeProgressiveJpeg","WALoadMozjpegWasm","WATagsLogger","asyncToGeneratorRuntime","bx","err","gkx","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["finished jpeg encoding through mozjpeg: "," bytes"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["start jpeg encoding through mozjpeg"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["unable to transcode image"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["Error while transcoding image through browser api: ",""]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["Error while transcoding image through mozjpeg: ",""]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["start image transcode ",""]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["finished jpeg encoding through browser api: "," bytes"]);o=function(){return a};return a}function p(){var a=babelHelpers.taggedTemplateLiteralLoose(["start jpeg encoding through browser api"]);p=function(){return a};return a}var q=d("WATagsLogger").TAGS(["image preprocess"]);function e(a,b){return r.apply(this,arguments)}function r(){r=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){q.DEV(n(),a.name);var e=c("gkx")("8220"),f=Date.now()+(Math.round(d("Random").random()*1e4)+1e4);c("QPLUserFlow").start(c("qpl")._(1056840460,"718"),{annotations:{bool:{isProgressiveJpegEncodeEnabled:e},string:{preprocess_type:"image"}},instanceKey:f});c("QPLUserFlow").addPoint(c("qpl")._(1056840460,"718"),"media_preprocess_start",{instanceKey:f});var g=c("gkx")("9443")?85:92;e=e?yield u(a,g)["catch"](function(a){q.ERROR(m(),a);return null}):yield t(a,b,g)["catch"](function(a){q.ERROR(l(),a);return null});if(e==null){q.ERROR(k());c("QPLUserFlow").endFailure(c("qpl")._(1056840460,"718"),"unable_to_transcode_image",{instanceKey:f});throw c("err")("unable to transcode image")}c("QPLUserFlow").addAnnotations(c("qpl")._(1056840460,"718"),{"int":{compressed_file_size:e.size}},{instanceKey:f});c("QPLUserFlow").addPoint(c("qpl")._(1056840460,"718"),"media_preprocess_end",{instanceKey:f});c("QPLUserFlow").endSuccess(c("qpl")._(1056840460,"718"),{instanceKey:f});return e});return r.apply(this,arguments)}function f(e){e=a.URL.createObjectURL(e);return d("MAWImageUtils").urlToFile(e,d("MAWImageUtils").TYPE_JPEG).then(function(a){var b=a.height;a=a.width;return{height:b,width:a}})["catch"](function(a){return(h||(h=b("Promise"))).reject(function(){throw c("err")(a)})})}function s(e,f){e=a.URL.createObjectURL(e);return d("MAWImageUtils").urlToThumbnail(e,f)["catch"](function(a){return(h||(h=b("Promise"))).reject(function(){throw c("err")(a)})})}function t(b,c,e){q.DEV(p());var f=a.URL.createObjectURL(b),g=b.name;return d("MAWImageUtils").urlToFile(f,c,e).then(function(a){a=a.blob;q.DEV(o(),a.size);return new File([a],g,{type:c})})}function u(a,b){return v.apply(this,arguments)}function v(){v=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e){q.DEV(j());var f=c("bx").getURL(c("bx")("10961"));f=(yield (h||(h=b("Promise"))).all([d("WALoadMozjpegWasm").loadMozjpegWasm(f),d("WADecodeImage").decodeImage(a)]));var g=f[0];f=f[1];g=d("WAEncodeProgressiveJpeg").createEncodeProgressiveJpeg(g);g=g({imageData:f,quality:e,useHdScanConfig:!0});q.DEV(i(),g.length);return new File([g],a.name,{type:"image/jpeg"})});return v.apply(this,arguments)}g.imageTranscode=e;g.getImageSpec=f;g.getJpegThumbnailInfo=s}),98);
__d("IGDAWShareAttachmentUtils",["MAWImagePreProcess","PolarisLinkBuilder","PolarisPostShareUtils","WAArmadilloXMA.pb","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b,c;b=(b=a.sidecarChildren)!=null?b:[];c=(c=a.isVideo)!=null?c:!1;a=(a=a.productType)!=null?a:"";if(a==="story")return c?d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_VIDEO_SHARE:d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_PHOTO_SHARE;if(c)return d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_CLIPS_SHARE;return b.length>1?d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_MULTIPOST_SHARE:d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_SINGLE_IMAGE_POST_SHARE}function c(a){var b;b=(b=a.productType)!=null?b:"";if(b==="story")return d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_XMA_LAYOUT_TYPE.PORTRAIT;a=(b=a.isVideo)!=null?b:!1;return a?d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_XMA_LAYOUT_TYPE.PORTRAIT:d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_XMA_LAYOUT_TYPE.SINGLE}function e(a){if(a.productType==="story"&&a.ownerId!=null&&a.username!=null){var b=a.id;return d("PolarisLinkBuilder").BASE_INSTAGRAM_URL+d("PolarisLinkBuilder").buildUserStoryLinkWithMediaId(a.username,b,{reel_id:a.ownerId})}return d("PolarisLinkBuilder").BASE_INSTAGRAM_URL+d("PolarisPostShareUtils").getShareURL(a)}function f(a){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){if(a==null)return null;var b=(yield d("MAWImagePreProcess").getImageSpec(a));return{file:a,height:b.height,width:b.width}});return h.apply(this,arguments)}g.getXMAType=a;g.getXMALayoutType=c;g.generateNativeURL=e;g.getImageFileArgs=f}),98);
__d("MAWFetchXMABlob",["FBLogger","Promise"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){return a==null||a===""?(h||(h=b("Promise"))).resolve():window.fetch(a).then(function(a){return a.blob()})["catch"](function(){c("FBLogger")("messenger_e2ee_web").mustfix("Error fetching url in xma share");return(h||(h=b("Promise"))).resolve()})}g.fetchBlob=a}),98);
__d("MAWMiActOnActThreadReadyDeferred",["requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("MAWMiActOnActThreadReady").__setRef("MAWMiActOnActThreadReadyDeferred");function a(a,b,c,d){return h.load().then(function(e){e=e.onActThreadReady;return e(a,b,c,d)})}g["default"]=a}),98);
__d("IGDAWShareAttachment",["fbt","FBLogger","I64","IGDAWShareAttachmentUtils","LSDatabaseSingleton","MAWExternalId","MAWFetchXMABlob","MAWJids","MAWJobDefinitions","MAWMiActOnActThreadReadyDeferred","MAWTimedJob","MWQPLMarkers","Promise","QPLUserFlow","ReQL","WAArmadilloXMA.pb","WAJobOrchestratorTypes","WATimeUtils","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=3,m=h._("__JHASH__pGK09Wm4HSW__JHASH__").toString();function n(a){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=(yield k||(k=c("LSDatabaseSingleton")));return d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(b.table("participants")).getKeyRange((j||(j=d("I64"))).of_string(a)).map(function(a){return d("MAWJids").toUserJid((j||(j=d("I64"))).to_string(a.contactId))}))});return o.apply(this,arguments)}function p(a,b){return q.apply(this,arguments)}function q(){q=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c){var e=(c==null?void 0:c.isPrivate)!==!0&&a.viewerCanReshare===!0,f=c==null?void 0:c.username,g=d("IGDAWShareAttachmentUtils").generateNativeURL(babelHelpers["extends"]({},a,{ownerId:c==null?void 0:c.id,username:c==null?void 0:c.username}));g={buttonType:d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_CTA_BUTTON_TYPE.OPEN_NATIVE,nativeUrl:g};var h=(yield (i||(i=b("Promise"))).all([a.src,c==null?void 0:c.profilePictureUrl].map(function(a){return d("MAWFetchXMABlob").fetchBlob(a)}))),j=h[0];h=h[1];return!e?{defaultCTA:g,header_blob:h,header_title:f,overlayDescription:m,overlayIconGlyph:d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_OVERLAY_ICON_GLYPH.PRIVATE}:{defaultCTA:g,header_blob:h,header_title:c==null?void 0:c.username,overlayIconGlyph:d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_OVERLAY_ICON_GLYPH.NONE,preview_blob:j,title_text:a.caption}});return q.apply(this,arguments)}function a(a,b,c,d,e,f){return r.apply(this,arguments)}function r(){r=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f,g,h,m){var o=function(a){h!=null&&m!=null&&c("QPLUserFlow").addPoint(h,a,{instanceKey:m})};if(f.candidate.isE2EE==null)throw c("FBLogger")("igd_web_on_msgr").mustfixThrow("Open thread candidate not allowed for IGDAW XMA Attachment Share");return c("MAWMiActOnActThreadReadyDeferred")(yield k||(k=c("LSDatabaseSingleton")),(j||(j=d("I64"))).of_string(f.candidate.id),"IGDAWShareAttachment",function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(c,j,k){c=k;j=f.candidate.id;k=(yield p(a,e));var q=k.defaultCTA,r=k.header_blob,s=k.header_title,t=k.overlayDescription,u=k.overlayIconGlyph,v=k.preview_blob;k=k.title_text;o(d("MWQPLMarkers").MESSAGE_SEND_TO_SENT.XMA_DATA_FETCH_SUCCESS);v=v==null?void 0:new File([v],"preview",{type:v.type});r=r==null?void 0:new File([r],"header",{type:r.type});v=(yield (i||(i=b("Promise"))).all([d("IGDAWShareAttachmentUtils").getImageFileArgs(v),d("IGDAWShareAttachmentUtils").getImageFileArgs(r)]));r=v[0];v=v[1];o(d("MWQPLMarkers").MESSAGE_SEND_TO_SENT.PREVIEW_FAVICON_SPEC_READY);var w=a.expiringAt==null?void 0:d("WATimeUtils").castToUnixTime(a.expiringAt);o(d("MWQPLMarkers").MESSAGE_SEND_TO_SENT.FETCHING_DEVICES_FOR_XMA_SHARE);j=(yield n(j));yield d("MAWTimedJob").TimedUIJobStarters.waitUntilCompleted(d("MAWJobDefinitions").createStartJobInfo("getDevices",{ignoreDhash:!1,reason:"send-share-attachment",scheduleConfig:{priority:d("WAJobOrchestratorTypes").JOB_PRIORITY.UI_ACTION},users:new Set(j)}));return d("MAWTimedJob").TimedUIJobStarters.waitUntilCompleted(d("MAWJobDefinitions").createStartJobInfo("sendXMAShareMsg",{args:{s2sInstanceKey:m,s2sUserFlowQPLEvent:h,xmaMessageType:d("IGDAWShareAttachmentUtils").getXMAType(a)},associatedMsgContent:(j=g)!=null?j:void 0,associatedMsgContentExternalId:g==null?void 0:d("MAWExternalId").generateExternalId(),chatJid:c,headerFile:(j=v)!=null?j:void 0,previewFile:(c=r)!=null?c:void 0,scheduleConfig:{priority:d("WAJobOrchestratorTypes").JOB_PRIORITY.UI_ACTION},xmaArgs:{defaultCTA:q,headerTitle:(v=s)!=null?v:void 0,maxTitleNumOfLines:l,overlayDescription:t,overlayIconGlyph:u,targetExpiringAtSec:w,targetId:a.id,targetUsername:e==null?void 0:e.username,titleText:(j=k)!=null?j:void 0,xmaLayoutType:d("IGDAWShareAttachmentUtils").getXMALayoutType(a)},xmaMsgExternalId:d("MAWExternalId").generateExternalId()}))});return function(a,b,d){return c.apply(this,arguments)}}())});return r.apply(this,arguments)}g.shareIGPostAsSecureAttachment=a}),98);
__d("IGDSecureShareSheetCommentTextInput.react",["IGDSBox.react","IGDSTextInput.react","PolarisDirectStrings","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useCallback,k=b.useImperativeHandle,l=b.useState,m={commentTextInput:{display:"x78zum5",paddingTop:"x1y1aw1k",paddingBottom:"xwib8y2",transition:"x13vyecm",$$css:!0},hiddenCommentTextInput:{height:"xqtp20y",visibility:"xlshs6z",$$css:!0},visibleCommentTextInput:{height:"x5kalc8",visibility:"xnpuxes",$$css:!0}};function a(a,b){a=a.isHidden;a=a===void 0?!1:a;var e=l(""),f=e[0],g=e[1];e=j(function(a){g(a.target.value)},[]);k(b,function(){return{getComment:function(){return f}}});return i.jsx(c("IGDSBox.react"),{children:i.jsx(c("IGDSTextInput.react"),{backgroundColor:"transparent",name:"shareCommentText",onChange:e,placeholder:d("PolarisDirectStrings").COMMENT_INPUT_PLACEHOLDER,style:"borderless",testid:void 0,value:f,xstyle:[m.commentTextInput,a?m.hiddenCommentTextInput:m.visibleCommentTextInput]})})}a.displayName=a.name+" [from "+f.id+"]";e=i.forwardRef(a);g["default"]=e}),98);
__d("PolarisDirectActionLoadThread",["PolarisDirectAPI","PolarisDirectActionThreadLoaded","PolarisDirectActionsLogger","PolarisDirectStrings","PolarisPerformanceLogger","PolarisToastActions","QuickPerformanceLogger","polarisDirectSelectors","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){return function(e,f){var g=d("PolarisPerformanceLogger").getInstanceKeyFromId(a);(h||(h=c("QuickPerformanceLogger"))).markerStart(c("qpl")._(35586051,"152"),g);var i=d("polarisDirectSelectors").getThreadExitCounter(f(),a);return d("PolarisDirectAPI").getThread(a,b).then(function(b){(h||(h=c("QuickPerformanceLogger"))).markerEnd(c("qpl")._(35586051,"152"),2,g),i===d("polarisDirectSelectors").getThreadExitCounter(f(),a)&&e(d("PolarisDirectActionThreadLoaded").threadLoaded(b.thread))},function(a){(h||(h=c("QuickPerformanceLogger"))).markerEnd(c("qpl")._(35586051,"152"),3,g),d("PolarisDirectActionsLogger").directActionsLogger.logError("direct_load_thread_failed",a),e(d("PolarisToastActions").showToast({text:d("PolarisDirectStrings").GENERIC_ERROR_MESSAGE}))})}}g.loadThread=a}),98);
__d("PolarisDirectActionCreateDirectInboxLoaded",["polarisNormalizeDirectThreads"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){a=a.inbox;var d=a.has_older,e=a.oldest_cursor;a=a.threads;a=c("polarisNormalizeDirectThreads")(a);return babelHelpers["extends"]({at:Date.now(),inboxPagination:{hasOlder:d,isLoading:!1,oldestCursor:e},messages:a.entities.items,threads:a.entities.threads,type:"DIRECT_INBOX_LOADED",users:a.entities.users},b)}g.createDirectInboxLoaded=a}),98);
__d("PolarisDirectActionFetchInboxPresence",["PolarisDirectAPI"],(function(a,b,c,d,e,f,g){"use strict";function a(){return function(a){return d("PolarisDirectAPI").getInboxPresence().then(function(b){b!=null&&a({type:"DIRECT_PRESENCE_UPDATED",userPresence:b})})}}g.fetchInboxPresence=a}),98);
__d("PolarisDirectActionCreatePendingThreadsLoaded",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c,d){return{messages:a,pagination:d,threads:b,type:"DIRECT_INBOX_PENDING_THREADS_LOADED",users:c}}f.createPendingThreadsLoaded=a}),66);
__d("PolarisDirectActionRefreshPendingInbox",["PolarisDirectAPI","PolarisDirectActionCreatePendingThreadsLoaded","PolarisDirectActionsLogger","PolarisDirectStrings","PolarisToastActions","polarisDirectSelectors","polarisNormalizeDirectThreads"],(function(a,b,c,d,e,f,g){"use strict";function a(){return function(a,b){a({type:"DIRECT_INBOX_PENDING_THREADS_START_LOAD"});b=d("polarisDirectSelectors").getPendingRequestsPagination(b());return d("PolarisDirectAPI").getPendingInbox({cursor:b==null?void 0:b.oldestCursor}).then(function(b){var e=c("polarisNormalizeDirectThreads")(b.inbox.threads);e=e.entities;var f=e.items,g=e.threads;e=e.users;b=b.inbox;var h=b.has_older;b=b.oldest_cursor;a(d("PolarisDirectActionCreatePendingThreadsLoaded").createPendingThreadsLoaded(f,g,e,{hasOlder:h,oldestCursor:b}))},function(b){d("PolarisDirectActionsLogger").directActionsLogger.logError("direct_refresh_pending_inbox_failed",b),a(d("PolarisToastActions").showToast({text:d("PolarisDirectStrings").GENERIC_ERROR_MESSAGE})),a(d("PolarisDirectActionCreatePendingThreadsLoaded").createPendingThreadsLoaded({},{},{},null))})}}g.refreshPendingInbox=a}),98);
__d("PolarisDirectActionLoadInbox",["PolarisConfig","PolarisDirectAPI","PolarisDirectActionConstants","PolarisDirectActionCreateDirectInboxLoaded","PolarisDirectActionFetchInboxPresence","PolarisDirectActionRefreshPendingInbox","PolarisDirectActionsLogger","PolarisDirectLogger","PolarisDirectStrings","PolarisGenericStrings","QuickPerformanceLogger","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a){a===void 0&&(a=d("PolarisDirectActionConstants").loadInboxDefaults);return function(b,e){(h||(h=c("QuickPerformanceLogger"))).markerStart(c("qpl")._(35586049,"4342"));b({type:"DIRECT_INBOX_LOADING"});return d("PolarisDirectAPI").getInbox("inbox_snapshot",{folder:a.folder,limit:d("PolarisDirectActionConstants").DIRECT_MSYS_INBOX_SNAPSHOT_LIMIT,thread_message_limit:d("PolarisDirectActionConstants").DIRECT_INBOX_THREAD_MESSAGE_LIMIT}).then(function(f){String(f.viewer.pk)!==d("PolarisConfig").getViewerId()&&window.location.reload();(h||(h=c("QuickPerformanceLogger"))).markerEnd(c("qpl")._(35586049,"4342"),2);var g=f.pending_requests_total;g>0&&b(d("PolarisDirectActionRefreshPendingInbox").refreshPendingInbox());var i=e();i=i.direct;i=i==null?void 0:i.seqId;var j=f.seq_id,k=!0;i!=null&&i>j&&(d("PolarisDirectActionsLogger").directActionsLogger.logError("seq_id_decrease_on_inbox_load",{"new":j,old:i}),k=a.forceSeqIdUpdate);k&&d("PolarisDirectLogger").DirectLogger.debugTrace("seq_id_updated",j);b(d("PolarisDirectActionCreateDirectInboxLoaded").createDirectInboxLoaded(f,{pendingRequestsTotal:g,seqId:k?j:void 0}));b(d("PolarisDirectActionFetchInboxPresence").fetchInboxPresence())},function(e){(h||(h=c("QuickPerformanceLogger"))).markerEnd(c("qpl")._(35586049,"4342"),3),d("PolarisDirectActionsLogger").directActionsLogger.logError("direct_inbox_load_failed",e),b({toast:{actionHandler:function(){b(i(a))},actionText:d("PolarisGenericStrings").RETRY_TEXT,text:d("PolarisDirectStrings").INBOX_LOAD_ERROR},type:"DIRECT_INBOX_LOAD_FAILED"})})}}g.loadInbox=i}),98);
__d("PolarisDirectActionReloadInbox",["PolarisConfig","PolarisDirectActionConstants","PolarisDirectActionLoadInbox","asyncToGeneratorRuntime","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a===void 0&&(a=d("PolarisDirectActionConstants").loadInboxDefaults);return function(){var e=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){b({type:"DIRECT_CLEAR",viewerId:c("nullthrows")(d("PolarisConfig").getViewerId())});return yield b(d("PolarisDirectActionLoadInbox").loadInbox(a))});return function(a){return e.apply(this,arguments)}}()}g.reloadInbox=a}),98);
__d("PolarisDirectActionConnectToMqtt",["PolarisConfig","PolarisDirectAPI","PolarisDirectActionLoadThread","PolarisDirectActionReloadInbox","PolarisDirectConstants","PolarisDirectDeltaHandlers","PolarisDirectLogger","PolarisDirectMQTTInstance","PolarisIncomingCallActions","PolarisRoutes","asyncToGeneratorRuntime","browserHistory","gkx","nullthrows","polarisNormalizeDirectItems","polarisNormalizeDirectThreads","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";function h(a,e){e===void 0&&(e=!1);var f=c("uuidv4")();f=f.substring(f.lastIndexOf("-")+1);var g=new(d("PolarisDirectLogger").DirectLogger)("DirectActions",f);g.debugTrace("start",{forceReconnect:e,newSubscriptionType:a});return function(j,k){var l=k();l=l.direct;var m=l.realtimeState,n=m.mqttConnectivity;m=m.subscriptionType;g.debugTrace("internal",{currentSubscriptionType:m,forceReconnect:e,newSubscriptionType:a});if(!e&&n==="Connected"&&m===a){g.debugTrace("noop");return}var o=function(a,b,e,f){var g;f=d("PolarisDirectDeltaHandlers").parseDeltaItem(a);if(f===null)return;a=d("polarisNormalizeDirectItems").normalizeDirectItems([f]);j({message:a.entities.items[f.item_id],mutationToken:b,threadId:e,type:"DIRECT_MESSAGE_UPDATED",users:a.entities.users,viewerId:c("nullthrows")(d("PolarisConfig").getViewerId())});((g=f.replied_to_message)==null?void 0:g.item_id)!=null&&j({message:a.entities.items[f.replied_to_message.item_id],mutationToken:b,threadId:e,type:"DIRECT_MESSAGE_UPDATED",users:a.entities.users,viewerId:c("nullthrows")(d("PolarisConfig").getViewerId())})},p=function(a,b,c,e,f,g,h){var i=k().direct.threads.get(b);i?j({emoji:f,itemId:c,likeAction:a,superReactType:g,timestamp:h,type:"DIRECT_MESSAGE_REACTION_UPDATED",userId:e}):j(d("PolarisDirectActionLoadThread").loadThread(b,{limit:1}))},q=function(a,b,c){j({senderId:c,threadId:b,timestamp:a,type:"DIRECT_TYPING_INDICATOR_STOPPED"})},r=function(a,b,c,e,f,g,h){a===4?j(d("PolarisIncomingCallActions").updateCall(b,c,e,f,g,h)):a===5&&j(d("PolarisIncomingCallActions").ackCall())},s=l.seqId,t=Date.now();a==="message"&&l.snapshotAt!=null&&(t=l.snapshotAt);var u={onHasSeen:function(a,b,c,e){b=d("PolarisDirectDeltaHandlers").parseDeltaItem(a);if(b===null)return;a=b.item_id;b=b.timestamp;j({messageId:a,threadId:c,timestamp:b,type:"DIRECT_SEEN_STATE_UPDATED",userId:e})},onIndicateTypingActivity:function(a,b,e){b=d("PolarisDirectDeltaHandlers").parseDeltaItem(a);if(b===null)return;a=b.activity_status;var f=b.sender_id,h=b.timestamp;b=b.ttl;var i=c("nullthrows")(f);f=c("nullthrows")(a);g.debugTrace("indicate_typing_activity",{senderId:i,typingStatus:f});if(f===d("PolarisDirectConstants").TypingStatus.OFF)q(h,e,i);else{a=window.setTimeout(function(){return q(h,e,i)},c("nullthrows")(b));j({senderId:i,threadId:e,timerId:a,timestamp:h,type:"DIRECT_TYPING_INDICATOR_STARTED"})}},onIrisConnectivityChanged:function(a,b){g.debugTrace("iris_connectivity",{newConnectivity:a,newType:b}),j({irisConnectivity:a,subscriptionType:b,type:"DIRECT_IRIS_CONNECTIVITY_CHANGED"})},onMakeAdmin:function(a,b,c,d){j({adminUserId:d,threadId:c,type:"DIRECT_THREAD_ADMIN_ADDED"})},onMqttConnectivityChanged:function(a){g.debugTrace("mqtt_connectivity",a),j({mqttConnectivity:a,type:"DIRECT_MQTT_CONNECTIVITY_CHANGED"})},onNewMessage:function(a,b,c,e){var f=k().direct.threads.get(c);if(f){o(a,b,c,e);f=d("PolarisDirectDeltaHandlers").parseDeltaItem(a);if(f===null)return;b=d("polarisNormalizeDirectItems").normalizeDirectItems([f]);q(f.timestamp,c,b.entities.items[f.item_id].user_id)}else j(d("PolarisDirectActionLoadThread").loadThread(c,{limit:1}))},onNewThread:function(a,b,e){b=d("PolarisDirectDeltaHandlers").parseDeltaItem(a);if(b===null)return;e=c("polarisNormalizeDirectThreads")([b]);j({messages:e.entities.items,threads:e.entities.threads,type:"DIRECT_THREAD_LOADED",users:e.entities.users})},onPresenceUpdated:function(a){var b;g.debugTrace("presence_updated",a);j({type:"DIRECT_PRESENCE_UPDATED",userPresence:(b={},b[a.user_id]={is_active:a.is_active,last_activity_at_ms:a.last_activity_at_ms},b)})},onRemoveAdmin:function(a,b,c,d){j({adminUserId:d,threadId:c,type:"DIRECT_THREAD_ADMIN_REMOVED"})},onRemoveEmoji:function(a,b,c,e,f){p(d("PolarisDirectConstants").LikeAction.DELETED,c,e,f)},onRemoveMessage:function(a,b,c,d){j({itemId:d,threadId:c,type:"DIRECT_MESSAGE_REMOVED"})},onRemoveThread:function(a,b,c){window.location.href.indexOf("/t/"+c)!==-1&&d("browserHistory").browserHistory.push(d("PolarisRoutes").DIRECT_INBOX),j({threadId:c,type:"DIRECT_REMOVE_THREAD"})},onResnapshotRequested:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.seq_id,c=a.subscription_type;g.logDirectEvent("resnapshot_requested",{seq_id:b,subscription_type:c});yield j(d("PolarisDirectActionReloadInbox").reloadInbox({forceSeqIdUpdate:!0}));var e=k();e=e.direct.seqId;g.debugTrace("resnapshot_done",{newSeqId:e});e!==b?(g.logDirectEvent("reconnect_after_resnapshot",{newSeqId:e}),j(h(c,!0))):g.logError("seq_id_not_updated_after_resnapshot",babelHelpers["extends"]({"new":e,old:b},a))});function c(b){return a.apply(this,arguments)}return c}(),onSeqIdUpdated:function(a){s!=null&&s>a?g.logError("seq_id_decrease",{"new":a,old:s}):(g.debugTrace("seq_id_updated",a),j({seqId:a,type:"DIRECT_SEQ_ID_UPDATED"}))},onUnseenCountChange:function(a){a=d("PolarisDirectDeltaHandlers").parseDeltaNumber(a);j({count:a,type:"DIRECT_UNSEEN_COUNT_UPDATED"})},onUpdatedMessage:o,onUpdateEmoji:function(a,b,e,f,g){if(c("gkx")("4848")){b=a!=null?d("PolarisDirectDeltaHandlers").parsePartialDeltaEmoji(a):void 0;b=(b=b)!=null?b:{};var h=b.emoji,i=b.super_react_type;b=b.timestamp;p(d("PolarisDirectConstants").LikeAction.CREATED,e,f,g,h,i,b)}else{h=a!=null?String(d("PolarisDirectDeltaHandlers").parseDeltaItem(a)):void 0;p(d("PolarisDirectConstants").LikeAction.CREATED,e,f,g,h)}}};s==null?(g.logError("seq_id_is_null"),d("PolarisDirectAPI").getBadgeCount().then(function(b){b.seq_id!=null&&i(b.seq_id,t,a,f,u,r)})):i(s,t,a,f,u,r)}}function i(a,b,c,e,f,g){d("PolarisDirectMQTTInstance").createMqttInstance(a,b,c,e).then(function(a){a!=null&&a.connect(f,g)})}g.connectToMqtt=h}),98);
__d("PolarisDirectActionInitInbox",["PolarisDirectAPI","PolarisDirectActionConnectToMqtt","PolarisDirectActionCreatePendingThreadsLoaded","PolarisDirectActionLoadInbox","PolarisDirectActionRefreshPendingInbox","PolarisDirectActionReloadInbox","PolarisDirectActionsLogger","PolarisDirectStrings","PolarisToastActions","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b,c){try{c=c();c=c.direct;var e=c.inboxLoaded;c=c.seqId;d("PolarisDirectActionsLogger").directActionsLogger.debugTrace("initial_state",{inboxLoaded:e,seqId:c});!e?yield b(d("PolarisDirectActionLoadInbox").loadInbox(a)):(b({type:"DIRECT_INBOX_READY"}),d("PolarisDirectAPI").getInbox("pending_only",{limit:0}).then(function(a){a.pending_requests_total>0?b(d("PolarisDirectActionRefreshPendingInbox").refreshPendingInbox()):b(d("PolarisDirectActionCreatePendingThreadsLoaded").createPendingThreadsLoaded({},{},{},null))})["catch"](function(a){d("PolarisDirectActionsLogger").directActionsLogger.logError("direct_init_inbox_failed",a),b(d("PolarisToastActions").showToast({text:d("PolarisDirectStrings").GENERIC_ERROR_MESSAGE}))}));b(d("PolarisDirectActionConnectToMqtt").connectToMqtt("message"))}catch(c){d("PolarisDirectActionsLogger").directActionsLogger.logError("direct_inbox_cache_failed",c),b(d("PolarisDirectActionReloadInbox").reloadInbox(a))}});return function(a,b){return c.apply(this,arguments)}}()}g.initInbox=a}),98);
__d("IGDSecureShareSheetUtils",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=new Map();for(var a=a,c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;e[0];e=e[1];var f=babelHelpers["extends"]({},e);f.candidate.id=e.candidate.igid;b.set(e.candidate.igid,f)}return b}f.getIGDCandidatesWithIGIDs=a}),66);
__d("PolarisDirectActionSendPostToUsers",["InstagramODS","PolarisDirectAPI","PolarisDirectActionConstants","PolarisDirectActionSendText","PolarisDirectActionThreadLoaded","PolarisDirectActionsLogger","PolarisDirectConstants","PolarisDirectStrings","PolarisToastActions","Promise","isStringNullOrEmpty","nullthrows","polarisDirectSelectors","polarisGenerateOfflineThreadingId"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var e=a.comment,f=a.customToast,g=a.mediaId,j=a.mediaOverlayInfo,k=a.mqtt,l=a.onError,m=a.onSuccess,n=a.recipients;return function(a,o){var p=function(b){f!=null?f({text:b}):a(d("PolarisToastActions").showToast({text:b}))};n.forEach(function(f,n){var q;f.type==="user"?q=d("polarisDirectSelectors").getThreadIdForUserId(o(),n):f.type==="thread"&&(q=n);d("PolarisDirectActionsLogger").directActionsLogger.logDirectEvent("http_message_attempt",{recipientType:f.type,type:d("PolarisDirectConstants").ThreadItemType.MEDIA_SHARE});q!=null?i(k,q,g,j).then(function(){m==null?void 0:m(n),d("PolarisDirectActionsLogger").directActionsLogger.logDirectEvent("http_message_success",{recipientType:f.type,type:d("PolarisDirectConstants").ThreadItemType.MEDIA_SHARE}),c("InstagramODS").incr("web.share_sheet.send_post"),p(d("PolarisDirectStrings").SENT_TOAST_TEXT)}).then(function(){var a=c("polarisGenerateOfflineThreadingId")();q!=null&&!c("isStringNullOrEmpty")(e)&&new(h||(h=b("Promise")))(function(a){window.setTimeout(a,d("PolarisDirectActionConstants").NUM_SEC_DELAY_FOR_SEND_TEXT*1e3)}).then(function(){return d("PolarisDirectActionSendText").sendText(k,c("nullthrows")(q),e,a)}).then(function(){d("PolarisDirectActionsLogger").directActionsLogger.logDirectEvent("http_message_success",{recipientType:f.type,type:d("PolarisDirectConstants").ThreadItemType.TEXT}),c("InstagramODS").incr("web.share_sheet.send_post_with_comment")})["catch"](function(a){d("PolarisDirectActionsLogger").directActionsLogger.logError("direct_send_message_to_users_failed",a),p(d("PolarisDirectStrings").GENERIC_ERROR_MESSAGE)})})["catch"](function(a){l==null?void 0:l(a,n),d("PolarisDirectActionsLogger").directActionsLogger.logError("direct_send_post_to_users_failed",a),p(d("PolarisDirectStrings").GENERIC_ERROR_MESSAGE)}):d("PolarisDirectAPI").createGroupThread([n]).then(function(o){var q=o.thread_id;a(d("PolarisDirectActionThreadLoaded").threadLoaded(o));i(k,q,g,j).then(function(){m==null?void 0:m(n),d("PolarisDirectActionsLogger").directActionsLogger.logDirectEvent("http_message_success",{type:d("PolarisDirectConstants").ThreadItemType.MEDIA_SHARE}),p(d("PolarisDirectStrings").SENT_TOAST_TEXT)}).then(function(){var a=c("polarisGenerateOfflineThreadingId")();q!=null&&!c("isStringNullOrEmpty")(e)&&new(h||(h=b("Promise")))(function(a){window.setTimeout(a,d("PolarisDirectActionConstants").NUM_SEC_DELAY_FOR_SEND_TEXT*1e3)}).then(function(){return d("PolarisDirectActionSendText").sendText(k,c("nullthrows")(q),e,a)}).then(function(){d("PolarisDirectActionsLogger").directActionsLogger.logDirectEvent("http_message_success",{recipientType:f.type,type:d("PolarisDirectConstants").ThreadItemType.TEXT}),p(d("PolarisDirectStrings").SENT_TOAST_TEXT)})["catch"](function(a){d("PolarisDirectActionsLogger").directActionsLogger.logError("direct_send_message_to_users_failed",a),p(d("PolarisDirectStrings").GENERIC_ERROR_MESSAGE)})})["catch"](function(a){l==null?void 0:l(a,n),d("PolarisDirectActionsLogger").directActionsLogger.logError("direct_send_post_to_users_failed",a)})},function(a){l==null?void 0:l(a,n),d("PolarisDirectActionsLogger").directActionsLogger.logError("direct_create_thread_send_post_to_users_failed",a),p(d("PolarisDirectStrings").GENERIC_ERROR_MESSAGE)})})}}function i(a,c,d,e){return a!=null?a.sendMediaShare(c,d,e):(h||(h=b("Promise"))).reject(new Error("MQTT is not instantiated"))}g.sendPostToUsers=a}),98);
__d("InstagramAdDirectReshareSendFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("3447");b=d("FalcoLoggerInternal").create("instagram_ad_direct_reshare_send",a);e=b;g["default"]=e}),98);
__d("useMaybeLogInstagramAdDirectReshareSend",["InstagramAdDirectReshareSendFalcoEvent","InstagramODS","PolarisContainerModuleUtils","PolarisViewpointActionUtils","polarisAdsSelectors","polarisRelationshipSelectors","react","usePolarisAnalyticsContext"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useCallback;function a(a){var b=a.id,e=a.mediaType,f=a.mpk,g=a.ownerId,h=c("usePolarisAnalyticsContext")(),j=d("polarisAdsSelectors").useFeedAdInfo(b,function(a){return a}),k=d("polarisRelationshipSelectors").useRelationship(g||"");return i(function(){if(j!=null&&j.ad_id!=null&&j.tracking_token!=null&&k!=null){var a=j.ad_id,b=j.tracking_token,i=d("PolarisContainerModuleUtils").getContainerModule(h);c("InstagramODS").incr("web.ads.feed.share");c("InstagramAdDirectReshareSendFalcoEvent").log(function(){var c;return{a_pk:(c=g)!=null?c:"",ad_id:a,follow_status:d("PolarisViewpointActionUtils").getFollowStatus(k),m_pk:f,m_t:e.toString(),pigeon_reserved_keyword_module:i,source_of_action:i,tracking_token:b}})}},[j,h,e,f,g,k])}g["default"]=a}),98);
__d("useShareSheetSendPostToOpenRecipients",["PolarisDirectActionSendPostToUsers","PolarisReactRedux","useMaybeLogInstagramAdDirectReshareSend","usePolarisMQTT","useStableCallback"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,e){var f=c("usePolarisMQTT")(),g=d("PolarisReactRedux").useDispatch(),h=c("useMaybeLogInstagramAdDirectReshareSend")({id:a.id,mediaType:a.mediaType,mpk:a.mpk,ownerId:a.ownerId});return c("useStableCallback")(function(c,i){g(d("PolarisDirectActionSendPostToUsers").sendPostToUsers({comment:(i=i)!=null?i:void 0,mediaId:String(a.id),mediaOverlayInfo:a.mediaOverlayInfo,mqtt:f,onError:e,onSuccess:b,recipients:c}));h()})}g["default"]=a}),98);
__d("IGDSecureShareSheetS2SInstanceKeyContextProvider.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));c=h;e=c.createContext;var j=c.useContext,k=c.useRef,l=e(new Map());function a(a){a=a.children;var b=k(new Map());return i.jsx(l.Provider,{value:b.current,children:a})}a.displayName=a.name+" [from "+f.id+"]";function b(){return j(l)}g.IGDSecureShareSheetS2SInstanceKeyContextProvider=a;g.useIGDSecureShareSheetS2SInstanceKeyContext=b}),98);
__d("useShareSheetSendPostToSecureRecipients",["IGDAWShareAttachment","IGDSecureShareSheetS2SInstanceKeyContextProvider.react","PolarisDirectStrings","PolarisReactRedux","PolarisToastActions","Promise","asyncToGeneratorRuntime","qpl","useStableCallback"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,e,f,g){var i=d("PolarisReactRedux").useDispatch(),j=d("IGDSecureShareSheetS2SInstanceKeyContextProvider.react").useIGDSecureShareSheetS2SInstanceKeyContext();return c("useStableCallback")(function(){var k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(k,l){k=Array.from(k.values()).map(function(b){var h=c("qpl")._(832770902,"1857"),i=j.get(b.candidate.id);return d("IGDAWShareAttachment").shareIGPostAsSecureAttachment(a,e,b,l,h,i).then(function(){return f==null?void 0:f(b.candidate.id)},function(a){return g==null?void 0:g(a,b.candidate.id)})});i(d("PolarisToastActions").showToast({text:d("PolarisDirectStrings").SENT_TOAST_TEXT}));yield (h||(h=b("Promise"))).allSettled(k)});return function(a,b){return k.apply(this,arguments)}}())}g["default"]=a}),98);
__d("useShareSheetSendStoryToOpenRecipients",["PolarisDirectActionShareStory","PolarisReactRedux","usePolarisMQTT","useStableCallback"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var e=c("usePolarisMQTT")(),f=d("PolarisReactRedux").useDispatch();return c("useStableCallback")(function(c,g,h,i,j){var k="";g=g;g!=null&&(k=c+"_"+g);f(d("PolarisDirectActionShareStory").shareStory(e,i,h,k,j,a,b))})}g["default"]=a}),98);
__d("useShareSheetSendPostToRecipients",["IGDSecureShareSheetUtils","PolarisInteractionsLogger","PolarisViewpointActionUtils","asyncToGeneratorRuntime","react","useShareSheetSendPostToOpenRecipients","useShareSheetSendPostToSecureRecipients","useShareSheetSendStoryToOpenRecipients"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useCallback;function a(a,e,f,g,h){var j;j=(j=d("PolarisViewpointActionUtils").getMPKForFeedMedia({id:a.id,owner:(j=e)!=null?j:void 0}))!=null?j:"";var k=d("PolarisInteractionsLogger").getMediaTypeFromPost(a),l=c("useShareSheetSendStoryToOpenRecipients")(g,h),m=c("useShareSheetSendPostToOpenRecipients")({id:a.id,mediaOverlayInfo:a.mediaOverlayInfo,mediaType:k,mpk:j,ownerId:e==null?void 0:e.id},g,h),n=c("useShareSheetSendPostToSecureRecipients")(a,e,g,h);return i(function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b,c){var g=b.openRecipients;b=b.secureRecipients;if(g!=null){g=d("IGDSecureShareSheetUtils").getIGDCandidatesWithIGIDs(g);a.productType==="story"&&f!=null?l(a.id,e==null?void 0:e.id,f,g,c):m(g,c)}b!=null&&(yield n(b,c))});return function(a,b){return c.apply(this,arguments)}}(),[a,e,f,m,n,l])}g["default"]=a}),98);
__d("IGDSecureShareSheet.react",["FBLogger","IGDAWContactSearch.react","IGDContactSearchDialogType.flow","IGDSBox.react","IGDSButton.react","IGDSDivider.react","IGDSecureShareSheetCommentTextInput.react","InteractionTracing","PolarisDirectActionInitInbox","PolarisDirectLogger","PolarisDirectStrings","PolarisLoggerUtils","PolarisReactRedux","PolarisToastActions","PolarisTrackingCodeProvider.react","PolarisTrackingNodeProvider.react","gkx","isStringNullOrEmpty","polarisAdsSelectors","promiseDone","react","usePolarisAnalyticsContext","usePolarisMQTT","usePolarisSelector","useShareSheetSendPostToRecipients"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useCallback,k=b.useEffect,l=b.useRef,m=b.useState;function a(a){var b=a.adsStoryLoggingData,e=a.isPopover,f=a.onAddRecipient,g=a.onRemoveRecipient,h=a.onShareError,n=a.onShareSuccess,o=a.onSubmitClick,p=a.post;a=a.reelId;var q=c("usePolarisMQTT")();c("InteractionTracing").getPendingInteractions().forEach(function(a){a.addAnnotationBoolean("is_mqtt_available",Boolean(q!=null))});var r=d("polarisAdsSelectors").useFeedAdInfo(p.id,function(a){return a}),s=c("usePolarisAnalyticsContext")(),t=l(null),u=m(!1),v=u[0],w=u[1];u=m(new Map());var x=u[0];u=u[1];var y=d("PolarisReactRedux").useDispatch(),z=c("usePolarisSelector")(function(a){return a.direct.inboxLoaded});k(function(){!z&&!c("gkx")("3374")&&y(d("PolarisDirectActionInitInbox").initInbox())},[y,z]);var A=c("useShareSheetSendPostToRecipients")(p,p.owner,a,n,h);a=j(function(){var a;w(!0);var b=new Map(),e=new Map(),f=[];x.forEach(function(a){a.candidate.isE2EE?(e.set(a.candidate.id,a),f.push(a.candidate.id)):c("isStringNullOrEmpty")(a.candidate.igid)||(b.set(a.candidate.igid,a),f.push(a.candidate.igid))});a=(a=t.current)==null?void 0:a.getComment();o==null?void 0:o(f,a);d("PolarisDirectLogger").DirectLogger.logDirectEvent("DirectShareSheet","share_sheet_send",{referral:s});c("promiseDone")(A({openRecipients:b,secureRecipients:e},a),function(){w(!1)},function(a){w(!1),c("FBLogger")("igd_web_on_msgr").mustfix("Error sharing attachment to users in sharesheet:"+a.message),y(d("PolarisToastActions").showToast({text:d("PolarisDirectStrings").GENERIC_ERROR_MESSAGE}))})},[s,y,o,x,A]);n=x.size!==0;h=v;v=q==null||h||!n;e=e===!0?4:void 0;var B="",C=!1;if((b==null?void 0:b.tracking_token)!=null){var D;B=(D=b==null?void 0:b.tracking_token)!=null?D:"";C=(b==null?void 0:b.tracking_token)!=null}else(r==null?void 0:r.ad_id)!=null&&(r==null?void 0:r.tracking_token)!=null&&(B=r.tracking_token,C=!0);return i.jsx(c("IGDSBox.react"),{"data-testid":void 0,flex:"grow",children:i.jsxs(c("PolarisTrackingCodeProvider.react"),{isSponsored:C,m_pk:((D=p.owner)==null?void 0:D.id)?d("PolarisLoggerUtils").getFormattedMediaID(p.id,(b=p.owner)==null?void 0:b.id):"",trackingToken:B,children:[i.jsx(c("IGDSBox.react"),{flex:"grow",children:i.jsx(c("IGDAWContactSearch.react"),{includeGroupSearch:!0,insetPaddingX:e,maxRecipients:32,onAddRecipient:f,onRemoveRecipient:g,recipients:x,searchType:d("IGDContactSearchDialogType.flow").IGDContactSearchDialogType.SHARESHEET,setRecipients:u})}),i.jsx(c("IGDSDivider.react"),{style:"elevated"}),i.jsx(c("IGDSBox.react"),{paddingX:e,children:i.jsx(c("IGDSecureShareSheetCommentTextInput.react"),{isHidden:!n,ref:t})}),i.jsx(c("IGDSBox.react"),{margin:4,marginTop:0,paddingX:e,children:i.jsx(c("PolarisTrackingNodeProvider.react"),{trackingNode:156,children:i.jsx("div",{children:i.jsx(c("IGDSButton.react"),{"aria-disabled":v,"data-testid":void 0,fullWidth:!0,isDisabled:v,isLoading:h,label:x.size<2?d("PolarisDirectStrings").SEND_BUTTON_STRING:d("PolarisDirectStrings").SEND_SEPARATELY_BUTTON_STRING,onClick:a})})})})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useIGDSecureShareSheetS2SLogger",["IGDSecureShareSheetS2SInstanceKeyContextProvider.react","QPLUserFlow","Random","qpl","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useMemo;function a(){var a=d("IGDSecureShareSheetS2SInstanceKeyContextProvider.react").useIGDSecureShareSheetS2SInstanceKeyContext();return i(function(){return{markShareFail:function(b,d){var e=a.get(d);e!=null&&c("QPLUserFlow").endFailure(c("qpl")._(832770902,"1857"),b.name,{error:b,instanceKey:e});a["delete"](d)},markShareStart:function(b,e){for(var f=0;f<b.length;f++){var g,h=b[f],i=d("Random").uint32();a.set(h,i);c("QPLUserFlow").start(c("qpl")._(832770902,"1857"),{annotations:{string:{messageLength:(g=e.messageLength)==null?void 0:g.toString(),recipientID:h,shareType:e.shareType,source:e.source}},instanceKey:i})}},markShareSuccess:function(b){var d=a.get(b);d!=null&&c("QPLUserFlow").endSuccess(c("qpl")._(832770902,"1857"),{instanceKey:d});a["delete"](b)}}},[a])}g["default"]=a}),98);
__d("IGDSecureShareSheetContainer.react",["IGDContactSearchDialogType.flow","IGDSecureShareSheet.react","IGDSecureShareSheetS2SInstanceKeyContextProvider.react","InstagramAdDirectReshareSendFalcoEvent","InstagramODS","QPLUserFlow","emptyFunction","qpl","react","useIGDSecureShareSheetInteractionLogger","useIGDSecureShareSheetS2SLogger","usePolarisAnalyticsContext"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function j(a){var b=a.adsStoryLoggingData,e=a.flowInstanceId,f=a.isPopover,g=a.onClose,h=g===void 0?c("emptyFunction"):g;g=a.post;a=a.reelId;var j=c("usePolarisAnalyticsContext")(),k=c("useIGDSecureShareSheetS2SLogger")(),l=d("useIGDSecureShareSheetInteractionLogger").useLogShareSheetInteraction();if(!g.id)return null;var m={flowInstanceId:e,shareType:d("IGDContactSearchDialogType.flow").IGDContactSearchDialogType.SHARESHEET,source:j};e=function(a,d){d===void 0&&(d="");d=babelHelpers["extends"]({},m,{messageLength:(d=d)==null?void 0:d.length,recipientIDs:a});k.markShareStart(a,d);l("igd_sharesheet_share_attempt",d);c("QPLUserFlow").addPoint(c("qpl")._(379205139,"1723"),"share_sheet_send_click");(b==null?void 0:b.ad_id)!=null&&(c("InstagramODS").incr("web.ads.story.share"),c("InstagramAdDirectReshareSendFalcoEvent").log(function(){return b}));h()};j=function(a){k.markShareSuccess(a),c("QPLUserFlow").endSuccess(c("qpl")._(379205139,"1723")),l("igd_sharesheet_share_success",babelHelpers["extends"]({},m,{recipientIDs:[a]}))};var n=function(a,b){k.markShareFail(a,b),c("QPLUserFlow").endFailure(c("qpl")._(379205139,"1723"),a.name),l("igd_sharesheet_share_error",babelHelpers["extends"]({},m,{recipientIDs:[b]}))},o=function(){l("igd_contact_search_add_recipient",m)},p=function(){l("igd_contact_search_remove_recipient",m)};return i.jsx(c("IGDSecureShareSheet.react"),{adsStoryLoggingData:b,isPopover:f,onAddRecipient:o,onRemoveRecipient:p,onShareError:n,onShareSuccess:j,onSubmitClick:e,post:g,reelId:a})}j.displayName=j.name+" [from "+f.id+"]";function a(a){return i.jsx(d("IGDSecureShareSheetS2SInstanceKeyContextProvider.react").IGDSecureShareSheetS2SInstanceKeyContextProvider,{children:i.jsx(j,babelHelpers["extends"]({},a))})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisClipsSharePopover.react",["IGDContactSearchDialogType.flow","IGDSBox.react","IGDSPopover.react","IGDSecureShareSheetContainer.react","PolarisClipsDesktopPopoverHeader.react","PolarisClipsTabHelpers","PolarisDirectStrings","QPLUserFlow","qpl","react","useIGDSecureShareSheetInteractionLogger","usePolarisAnalyticsContext","usePolarisClipsDesktopPopoverCloseOnScroll"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useRef,k=343,l={popoverContainer:{marginBottom:"x1oo3vh0",$$css:!0}};function a(a){var b=a.anchorRef,e=a.flowInstanceId,f=a.onClose;a=a.post;b=j(d("PolarisClipsTabHelpers").getMaxPopoverHeight(b==null?void 0:b.current));c("usePolarisClipsDesktopPopoverCloseOnScroll")(f);var g=c("usePolarisAnalyticsContext")();g=d("useIGDSecureShareSheetInteractionLogger").useLogShareSheetImpressionRef({flowInstanceId:e,shareType:d("IGDContactSearchDialogType.flow").IGDContactSearchDialogType.SHARESHEET,source:g},function(){c("QPLUserFlow").addPoint(c("qpl")._(379205139,"1723"),"share_popover_shown")});return i.jsx(c("IGDSPopover.react"),{popoverContent:i.jsxs(c("IGDSBox.react"),{height:b.current,width:k,children:[i.jsx(c("PolarisClipsDesktopPopoverHeader.react"),{onClose:f,children:d("PolarisDirectStrings").SHARE_TITLE}),i.jsx(c("IGDSBox.react"),{flex:"grow",height:"100%",children:i.jsx(c("IGDSecureShareSheetContainer.react"),{flowInstanceId:e,isPopover:!0,onClose:f,post:a})})]}),popoverName:"clips-share",popoverXStyle:l.popoverContainer,ref:g,withArrow:!0})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDSecureShareSheetDialog.next.react",["CometRelay","IGDContactSearchDialogType.flow","IGDSDialog.react","IGDSecureShareSheetContainer.react","IGDSecureShareSheetDialog_media.graphql","IGDSecureShareSheetHeader.react","PolarisDirectStrings","PolarisMediaConstants","QPLUserFlow","emptyFunction","qpl","react","useIGDSecureShareSheetInteractionLogger","useMatchMedia","usePolarisAnalyticsContext","usePolarisMediaOverlayInfo"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={dialogContainer:{display:"x78zum5",flexDirection:"xdt5ytf",$$css:!0}};function a(a){var e=a.adsStoryLoggingData,f=a.flowInstanceId,g=a.media,i=a.onClose,l=i===void 0?c("emptyFunction"):i;i=a.reelId;a=d("CometRelay").useFragment(h!==void 0?h:h=b("IGDSecureShareSheetDialog_media.graphql"),g);g=a.can_reshare;var m=a.can_viewer_reshare,n=a.caption,o=a.carousel_media,p=a.client__srcSet,q=a.code,r=a.expiring_at,s=a.media_type,t=a.owner,u=a.pk,v=a.product_type;a=c("usePolarisMediaOverlayInfo")(a);q={caption:n==null?void 0:n.text,code:q,expiringAt:parseFloat(r),id:u,isSidecar:o!=null&&o.length>0,isVideo:s===d("PolarisMediaConstants").MediaTypes.VIDEO,mediaOverlayInfo:a,owner:t!=null&&t.id!=null&&t.username!=null?{id:t.id,username:t.username}:void 0,productType:v,sidecarChildren:(n=o==null?void 0:o.map(function(a){var b=a.client__srcSet,c=a.media_type;a=a.pk;return{id:a,isVideo:c===d("PolarisMediaConstants").MediaTypes.VIDEO,src:(c=b==null?void 0:(a=b[0])==null?void 0:a.src)!=null?c:""}}))!=null?n:void 0,src:p==null?void 0:p[0].src,viewerCanReshare:g===!0||m===!0};r=c("useMatchMedia")("(max-width: 736px)");u=c("usePolarisAnalyticsContext")();var w=d("useIGDSecureShareSheetInteractionLogger").useLogShareSheetInteraction(),x={flowInstanceId:f,shareType:d("IGDContactSearchDialogType.flow").IGDContactSearchDialogType.SHARESHEET,source:u};s=d("useIGDSecureShareSheetInteractionLogger").useLogShareSheetImpressionRef({flowInstanceId:f,shareType:d("IGDContactSearchDialogType.flow").IGDContactSearchDialogType.SHARESHEET,source:u},function(){c("QPLUserFlow").addPoint(c("qpl")._(379205139,"1723"),"share_modal_shown")});if(!q.id)return null;a=function(){c("QPLUserFlow").endCancel(c("qpl")._(379205139,"1723")),w("igd_sharesheet_close",x),l()};return j.jsxs(c("IGDSDialog.react"),{enablePopInAnimation:!0,fixedHeight:!0,fixedWidth:!0,innerContentXStyle:k.dialogContainer,label:d("PolarisDirectStrings").SHARE_TITLE,onClose:a,ref:s,size:r?"fullscreen":"large",children:[j.jsx(c("IGDSecureShareSheetHeader.react"),{onCloseClick:a}),j.jsx(c("IGDSecureShareSheetContainer.react"),{adsStoryLoggingData:e,flowInstanceId:f,onClose:l,post:q,reelId:i})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDSecureShareSheetDialog.react",["IGDContactSearchDialogType.flow","IGDSDialog.react","IGDSecureShareSheetContainer.react","IGDSecureShareSheetHeader.react","PolarisDirectStrings","PolarisGNVManagerProvider.react","QPLUserFlow","emptyFunction","qpl","react","useIGDSecureShareSheetInteractionLogger","useMatchMedia","usePolarisAnalyticsContext"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={dialogContainer:{display:"x78zum5",flexDirection:"xdt5ytf",$$css:!0}};function a(a){var b=a.adsStoryLoggingData,e=a.flowInstanceId,f=a.onClose,g=f===void 0?c("emptyFunction"):f;f=a.post;a=a.reelId;var h=c("useMatchMedia")("(max-width: 736px)"),k=c("usePolarisAnalyticsContext")(),l=d("useIGDSecureShareSheetInteractionLogger").useLogShareSheetInteraction(),m={flowInstanceId:e,shareType:d("IGDContactSearchDialogType.flow").IGDContactSearchDialogType.SHARESHEET,source:k};k=d("useIGDSecureShareSheetInteractionLogger").useLogShareSheetImpressionRef({flowInstanceId:e,shareType:d("IGDContactSearchDialogType.flow").IGDContactSearchDialogType.SHARESHEET,source:k},function(){c("QPLUserFlow").addPoint(c("qpl")._(379205139,"1723"),"share_modal_shown")});if(!f.id)return null;var n=function(){c("QPLUserFlow").endCancel(c("qpl")._(379205139,"1723")),l("igd_sharesheet_close",m),g()};return i.jsx(c("PolarisGNVManagerProvider.react"),{children:i.jsxs(c("IGDSDialog.react"),{enablePopInAnimation:!0,fixedHeight:!0,fixedWidth:!0,innerContentXStyle:j.dialogContainer,label:d("PolarisDirectStrings").SHARE_TITLE,onClose:n,ref:k,size:h?"fullscreen":"large",children:[i.jsx(c("IGDSecureShareSheetHeader.react"),{onCloseClick:n}),i.jsx(c("IGDSecureShareSheetContainer.react"),{adsStoryLoggingData:b,flowInstanceId:e,onClose:g,post:f,reelId:a})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("MAWReStoreDbSchema",[],(function(a,b,c,d,e,f){"use strict";a={auto_increment:!1,indexes:{userJid:["userJid","deviceJid"]},name:"e2ee_identity",primary_key:["deviceJid"]};b={auto_increment:!0,indexes:{externalId:["externalId","appDataId"]},name:"e2ee_appData",primary_key:["appDataId"]};c={auto_increment:!1,indexes:{},name:"e2ee_meta",primary_key:["key"]};d={auto_increment:!1,indexes:{},name:"e2ee_appMeta",primary_key:["key"]};e={auto_increment:!1,indexes:{},name:"e2ee_prekey",primary_key:["keyId"]};var g={auto_increment:!1,indexes:{},name:"e2ee_prekeyGeneration",primary_key:["generationId"]},h={auto_increment:!1,indexes:{},name:"e2ee_session",primary_key:["id"]},i={auto_increment:!1,indexes:{},name:"e2ee_signedPrekey",primary_key:["keyId"]},j={auto_increment:!1,indexes:{},name:"e2ee_tasks",primary_key:["taskName"]},k={auto_increment:!1,indexes:{},name:"e2ee_senderKeySessions",primary_key:["id"]},l={auto_increment:!1,indexes:{},name:"e2ee_personalSenderKeyStatuses",primary_key:["groupJid"]},m={auto_increment:!0,indexes:{"[thread+serverTs]":["thread","serverTs","rowId"],"[thread+sortOrderMs]":["thread","sortOrderMs","rowId"],altIndex:["altIndex","rowId"],externalId:["externalId","rowId"],messageDeleteTs:["messageDeleteTs","rowId"],messageExpirationTs:["messageExpirationTs","rowId"],msgId:["msgId","rowId"],quoteExternalId:["quoteExternalId","rowId"],revokedExternalId:["revokedExternalId","rowId"],unsendMsgContentDeleteTs:["unsendMsgContentDeleteTs","rowId"]},name:"e2ee_messages",primary_key:["rowId"]},n={auto_increment:!0,indexes:{"[thread+sortOrderMs]":["thread","sortOrderMs","rowId"],externalId:["externalId","rowId"],messageDeleteForMeTs:["messageDeleteForMeTs","rowId"],msgId:["msgId","rowId"],sortOrderMs:["sortOrderMs","rowId"],thread:["thread","rowId"],threadJid:["threadJid","rowId"]},name:"e2ee_unrenderedMessages",primary_key:["rowId"]},o={auto_increment:!0,indexes:{deleteTs:["deleteTs","rowId"],externalIdWithType:["externalIdWithType","rowId"]},name:"e2ee_pendingStanzas",primary_key:["rowId"]},p={auto_increment:!0,indexes:{associatedMessageId:["associatedMessageId","xmaId"],defaultPreviewMediaId:["defaultPreviewMediaId","xmaId"],externalId:["externalId","xmaId"],faviconMediaId:["faviconMediaId","xmaId"],headerMediaId:["headerMediaId","xmaId"],targetExpiringAtSec:["targetExpiringAtSec","xmaId"]},name:"e2ee_xma",primary_key:["xmaId"]},q={auto_increment:!1,indexes:{threadId:["threadId","groupJid"]},name:"e2ee_groupInfo",primary_key:["groupJid"]},r={auto_increment:!1,indexes:{threadId:["threadId","id"],userJid:["userJid","id"]},name:"e2ee_participants",primary_key:["id"]},s={auto_increment:!1,indexes:{},name:"e2ee_contacts",primary_key:["contactJid"]},t={auto_increment:!1,indexes:{},name:"e2ee_receipts",primary_key:["msgId"]},u={auto_increment:!0,indexes:{fbid:["fbid","mediaId"],hashedPlaintextHash:["hashedPlaintextHash"],objectId:["objectId","mediaId"]},name:"e2ee_media",primary_key:["mediaId"]},v={auto_increment:!0,indexes:{externalId:["externalId","rowId"],reactionId:["reactionId","rowId"],reactToExternalId:["reactToExternalId","rowId"],reactToMsgId:["reactToMsgId","rowId"],threadJid:["threadJid","rowId"]},name:"e2ee_reactions",primary_key:["rowId"]},w={auto_increment:!0,indexes:{hashedPlaintextHash:["hashedPlaintextHash","chunkId"]},name:"e2ee_chunk",primary_key:["chunkId"]},x={auto_increment:!0,indexes:{mediaId:["mediaId","mediaBackupId"],msgId:["msgId","mediaBackupId"],objectId:["objectId"]},name:"e2ee_mediaBackup",primary_key:["mediaBackupId"]},y={auto_increment:!0,indexes:{authoritativeThreadKey:["authoritativeThreadKey","chatId"],deduplicationKey:["deduplicationKey","chatId"],jid:["jid","chatId"],threadOrder:["threadOrder","chatId"]},name:"e2ee_threads",primary_key:["chatId"]},z={auto_increment:!0,indexes:{},name:"e2ee_isDualSend",primary_key:["rowId"]},A={auto_increment:!0,indexes:{dbVersion:["number","staleQueueId"]},name:"e2ee_staleQueue",primary_key:["staleQueueId"]},B={auto_increment:!0,indexes:{"[jid+type]":["jid","type","stanzaQueueId"],jid:["jid","stanzaQueueId"],stanzaId:["stanzaId","stanzaQueueId"],type:["type","stanzaQueueId"]},name:"e2ee_stanzaQueue",primary_key:["stanzaQueueId"]},C={auto_increment:!1,indexes:{},name:"e2ee_existingUsers",primary_key:["id"]},D={auto_increment:!1,indexes:{},name:"e2ee_pendingReceipts",primary_key:["id"]},E={auto_increment:!1,indexes:{},name:"e2ee_groupInvites",primary_key:["invitedParticipantId","inviterJid"]},F={auto_increment:!0,indexes:{},name:"e2ee_deviceChangeAlerts",primary_key:["deviceChangeAlertsId"]},G={auto_increment:!0,indexes:{originalMsgExternalId:["originalMsgExternalId","editMsgHistoryId"],threadJid:["threadJid","editMsgHistoryId"]},name:"e2ee_editMsgHistory",primary_key:["editMsgHistoryId"]},H={auto_increment:!1,indexes:{},name:"e2ee_retroactiveBackupsState",primary_key:["threadId"]},I={auto_increment:!0,indexes:{version:["version"]},name:"e2ee_browserEncryptionMeta",primary_key:["id"]},J={auto_increment:!0,indexes:{collection:["collection"]},name:"e2ee_collectionVersions",primary_key:["id"]},K={auto_increment:!0,indexes:{},name:"e2ee_dualSendMedia",primary_key:["id"]},L={auto_increment:!0,indexes:{},name:"e2ee_dyiBatch",primary_key:["batchId"]},M={auto_increment:!1,indexes:{},name:"e2ee_historySyncQRCodeData",primary_key:["rowId"]},N={auto_increment:!1,indexes:{},name:"e2ee_historySyncQRCodeSecretKey",primary_key:["key"]},O={auto_increment:!1,indexes:{},name:"e2ee_missingKeys",primary_key:["keyHex"]},P={auto_increment:!1,indexes:{action:["action","id"],collection:["collection","id"],index:["index","id"]},name:"e2ee_pendingMutations",primary_key:["id"]},Q={auto_increment:!1,indexes:{"[modelId+modelType+actionState]":["modelId","modelType","actionState","index"],action:["action","index"],actionState:["actionState","index"],collection:["collection","index"],indexMac:["indexMac","index"]},name:"e2ee_syncActions",primary_key:["index"]},R={auto_increment:!0,indexes:{keyEpoch:["keyEpoch","id"],keyId:["keyId"]},name:"e2ee_syncKeys",primary_key:["id"]},S={auto_increment:!1,indexes:{lastRetryTs:["lastRetryTs","externalId"],traceId:["traceId","externalId"]},name:"e2ee_uploadRetryStatus",primary_key:["externalId","lastRetryTs"]},T={auto_increment:!0,indexes:{},name:"e2ee_ebRestoreQueue",primary_key:["queueId"]},U={auto_increment:!0,indexes:{},name:"e2ee_ebUploadQueue",primary_key:["queueId"]},V={auto_increment:!0,indexes:{},name:"e2ee_danglingQueue",primary_key:["queueId"]};b=[b,d,a,c,e,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,L,S,I,J,K,M,N,O,P,Q,R,T,U,V];f.clientSchema=b}),66);
__d("isArmadillo",["qex"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("qex")._("135")===!0}g["default"]=a}),98);
__d("hashString",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=0;for(var c=0;c<a.length;c++){var d=a.charCodeAt(c);b=(b<<5)-b+d;b|=0}return b}f["default"]=a}),66);
__d("setImmediate",["TimeSlice","TimerStorage","setImmediateAcrossTransitions"],(function(a,b,c,d,e,f,g){function a(a){var b,d=function(){c("TimerStorage").unset(c("TimerStorage").IMMEDIATE,b);for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];Function.prototype.apply.call(a,this,e)};c("TimeSlice").copyGuardForWrapper(a,d);for(var e=arguments.length,f=new Array(e>1?e-1:0),g=1;g<e;g++)f[g-1]=arguments[g];b=c("setImmediateAcrossTransitions").apply(void 0,[d].concat(f));c("TimerStorage").set(c("TimerStorage").IMMEDIATE,b);return b}g["default"]=a}),98);
__d("ReStoreVaulting",["cr:2075","cr:2151","cr:2203"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return b("cr:2075")!=null?b("cr:2075").vault(a):a}function c(a){return b("cr:2075")!=null?b("cr:2075").unvault(a):a}function d(a,c){return b("cr:2151")!=null&&b("cr:2203")!=null?b("cr:2151").unvaultDbRow(a,c,b("cr:2203").PERSISTED_DB_VAULT_DEFINITIONS):a}function e(a,c){return b("cr:2151")!=null&&b("cr:2203")!=null?b("cr:2151").vaultDbRow(a,c,b("cr:2203").PERSISTED_DB_VAULT_DEFINITIONS):a}g.maybeVault=a;g.maybeUnvault=c;g.maybeUnvaultDbRow=d;g.maybeVaultDbRow=e}),98);
__d("MAWLSVaultingHooks",["ReStoreVaulting"],(function(a,b,c,d,e,f,g){"use strict";a={onAfterEntriesNext:function(a){var b=a.tableName;a=a.value;return d("ReStoreVaulting").maybeVaultDbRow(a,b)},onAfterGet:function(a){var b=a.tableName;a=a.value;return d("ReStoreVaulting").maybeVaultDbRow(a,b)},onBeforeAdd:function(a){var b=a.tableName;a=a.value;return d("ReStoreVaulting").maybeUnvaultDbRow(a,b)},onBeforeDeleteThenInsert:function(a){var b=a.tableName;a=a.value;return d("ReStoreVaulting").maybeUnvaultDbRow(a,b)},onBeforeNotify:function(a){var b=a.newValue,c=a.prevValue;a=a.tableName;return{newValue:d("ReStoreVaulting").maybeVaultDbRow(b,a),prevValue:d("ReStoreVaulting").maybeVaultDbRow(c,a)}},onBeforePut:function(a){var b=a.tableName;a=a.value;return d("ReStoreVaulting").maybeUnvaultDbRow(a,b)},onBeforeUpsert:function(a){var b=a.tableName;a=a.value;return d("ReStoreVaulting").maybeUnvaultDbRow(a,b)}};g["default"]=a}),98);
__d("CurrentMessengerUser",["CurrentEnvironment","CurrentUser"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("CurrentEnvironment").instagramdotcom?c("CurrentUser").getEIMU():c("CurrentUser").getID()}function b(){return c("CurrentUser").getPageMessagingMailboxId()}function d(){return c("CurrentUser").isWorkUser()}function e(){return c("CurrentUser").getAccountID()}g.getIDorEIMU=a;g.getPageMessagingMailboxId=b;g.isWorkUser=d;g.getAccountID=e}),98);
__d("LSStorage",["LSDbKeyComparer","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b,d,e){a=a.tableNames[b];b=a.indexes;a=a.primaryKeyIds;a=e==null?a:b[e];return a.map(function(a){if(d[a]!==void 0||e!=null)return d[a];throw c("unrecoverableViolation")("primary key must be defined on object","messenger_web_product")})}function b(a,b){return(h||(h=d("LSDbKeyComparer"))).compareKey(a,b)===0}g.searchKey=a;g.areKeysEqual=b}),98);
__d("BPlusTreeBase",["unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h={gte:[!0,0],lt:[!0,1],gt:[!1,0],lte:[!1,1]};function* i(a){var b=(yield* a.readHeader());if(b==null||b.rootId==null||b.headId==null)return;var c=(yield* a.readExn(b.rootId));c=[{node:c,id:b.rootId}];while(c.length>0){b=c.shift();var d=b.id;b=b.node;if(!b.isLeaf)for(b of b.children){var e=(yield* a.read(b));e!=null&&c.push({node:e,id:b})}yield* a.remove(d)}yield* a.removeHeader()}function* j(a,b,c,d,e){var f=(yield* b.readExn(c));f=f;c=c;var g=-1;while(!f.isLeaf)e==null?void 0:e.push([f,c,g]),g=k(a,f.keys,d,h.gt),g===-1&&(g=f.keys.length),c=f.children[g],f=(yield* b.readExn(c));return[f,c,g]}function k(a,b,c,d){var e=0,f=b.length-1;while(e<=f){var g=e+f>>1;(d[0]?a(b[g],c)<0:a(b[g],c)<=0)?e=g+1:f=g-1}g=[e,f][d[1]];return g===b.length?-1:g}function l(a,b,c){if(!b.length)return[0,0];var d=k(a,b,c,h.gte);if(d===-1)return[b.length,0];else if(a(b[d],c)===0)return[d,1];return[d,0]}function m(a,b,c){for(var d=arguments.length,e=new Array(d>3?d-3:0),f=3;f<d;f++)e[f-3]=arguments[f];return[].concat(a.slice(0,b),e,a.slice(b+c))}function* n(a){var b=(yield* a.readHeader());if(b==null){var c=(yield* a.writeNew({isLeaf:!0,children:[],keys:[]}));b={rootId:c,tailId:c,headId:c};yield* a.writeHeader(b)}return b}function* o(a,b,d){var e=(yield* b.readHeader());if(e==null)throw c("unrecoverableViolation")("key not found: "+String(d),"messenger_web_product");b=(yield* j(a,b,e.rootId,d));e=b[0];b=k(a,e.keys,d,h.gte);if(b===-1||a(e.keys[b],d)!==0)throw c("unrecoverableViolation")("key not found: "+String(d),"messenger_web_product");return e.children[b]}function* p(a,b,c,d){var e=(yield* b.readHeader());if(e==null)return d;b=(yield* j(a,b,e.rootId,c));e=b[0];b=k(a,e.keys,c,h.gte);return b===-1||a(e.keys[b],c)!==0?d:e.children[b]}function* q(a,b,c){var d=(yield* b.readHeader());if(d==null)return!1;b=(yield* j(a,b,d.rootId,c));d=b[0];b=k(a,d.keys,c,h.gte);return b!==-1&&a(d.keys[b],c)===0}function* r(a,b,c,d,e){var f=(yield* n(b)),g={},h=[],i=(yield* j(a,b,f.rootId,d,h)),k=i[0];i=i[1];var o=l(a,k.keys,d),p=o[0];o=o[1];for(e=babelHelpers["extends"]({},k,{children:m(k.children,p,o,e),keys:o===1?k.keys:m(k.keys,p,o,d)}),k=i;e.keys.length>=c;e=o,k=d){p=h.pop()||[{keys:[],children:[k],isLeaf:!1}];o=p[0];d=p[1];i=Math.floor(e.keys.length/2);p=void 0;var q=void 0;e.isLeaf?(p={isLeaf:!0,children:e.children.slice(i),keys:e.keys.slice(i),nextId:e.nextId,prevId:k},q=e.nextId=(yield* b.writeNew(p)),p.nextId?yield* b.write(p.nextId,babelHelpers["extends"]({},yield* b.readExn(p.nextId),{prevId:q})):g.tailId=q):(p={isLeaf:!1,children:e.children.slice(i+1),keys:e.keys.slice(i+1)},q=(yield* b.writeNew(p)));p=l(a,o.keys,e.keys[i]);p=p[0];o=babelHelpers["extends"]({},o,{keys:m(o.keys,p,0,e.keys[i]),children:m(o.children,p+1,0,q)});yield* b.write(k,babelHelpers["extends"]({},e,{keys:e.keys.slice(0,i),children:e.children.slice(0,i+(e.isLeaf?0:1))}))}k==null?g.rootId=(yield* b.writeNew(e)):yield* b.write(k,e);Object.keys(g).length&&(yield* b.writeHeader(babelHelpers["extends"]({},f,g)))}function* s(a,b,d,e){var f=(yield* n(b)),g={};d=Math.floor(d/2);var i=[],l=(yield* j(a,b,f.rootId,e,i)),o=l[0],p=l[1];l=l[2];var q=k(a,o.keys,e,h.gte);if(q===-1||a(o.keys[q],e)!==0)return!1;a=babelHelpers["extends"]({},o,{keys:m(o.keys,q,1),children:m(o.children,q,1)});e=p;yield* b.write(e,a);o=l;for(var p,l,q;a.keys.length<d&&i.length;r=[p,l,q],a=r[0],e=r[1],o=r[2],r){q=i.pop();p=q[0];l=q[1];q=q[2];var r=[[{nodeId:p.children[o-1]},{nodeId:e,node:a},o-1],[{nodeId:e,node:a},{nodeId:p.children[o+1]},o]].filter(function(a){var b=a[0];a=a[1];return b.nodeId!==void 0&&a.nodeId!==void 0});for(var s of r){var t=s[0],u=s[1],v=s[2];t.node=t.node||(yield* b.readExn(t.nodeId));u.node=u.node||(yield* b.readExn(u.nodeId));if(t.node.keys.length+u.node.keys.length>=d*2){a.isLeaf?(u.node=babelHelpers["extends"]({},u.node,{children:[].concat(t.node.children,u.node.children),keys:[].concat(t.node.keys,u.node.keys)}),t.node=babelHelpers["extends"]({},t.node,{children:u.node.children.splice(0,d),keys:u.node.keys.splice(0,d)}),p=babelHelpers["extends"]({},p,{keys:m(p.keys,v,1,u.node.keys[0])})):(u.node=babelHelpers["extends"]({},u.node,{children:[].concat(t.node.children,u.node.children),keys:[].concat(t.node.keys,[p.keys[v]],u.node.keys)}),t.node=babelHelpers["extends"]({},t.node,{children:u.node.children.splice(0,d+1)}),p=babelHelpers["extends"]({},p,{keys:m(p.keys,v,1,u.node.keys.splice(d,1)[0])}),t.node.keys=u.node.keys.splice(0,d));yield* b.write(t.nodeId,t.node);yield* b.write(u.nodeId,u.node);yield* b.write(l,p);Object.keys(g).length&&(yield* b.writeHeader(babelHelpers["extends"]({},f,g)));return!0}}for(v of r){t=v[0];u=v[1];s=v[2];t.node=babelHelpers["extends"]({},t.node,{children:[].concat(t.node.children,u.node.children)});a.isLeaf?(t.node.keys=[].concat(t.node.keys,u.node.keys),u.node.nextId?yield* b.write(u.node.nextId,babelHelpers["extends"]({},yield* b.readExn(u.node.nextId),{prevId:t.nodeId})):g.tailId=t.nodeId,t.node.nextId=u.node.nextId):t.node.keys=[].concat(t.node.keys,[p.keys[s]],u.node.keys);p=babelHelpers["extends"]({},p,{keys:m(p.keys,s,1),children:m(p.children,s+1,1)});yield* b.write(l,p);yield* b.write(t.nodeId,t.node);yield* b.remove(u.nodeId);break}}yield* b.write(e,a);s=(yield* b.readExn(f.rootId));if(!s.keys.length&&s.children.length){if(s.isLeaf)throw c("unrecoverableViolation")("cannot be leaf","messenger_web_product");yield* b.remove(f.rootId);g.rootId=s.children[0]}Object.keys(g).length&&(yield* b.writeHeader(babelHelpers["extends"]({},f,g)));return!0}function t(a,b,d){d=d===void 0?{}:d;var e=d.dir,f=e===void 0?"asc":e,g=babelHelpers.objectWithoutPropertiesLoose(d,["dir"]);function i(){if(f==="asc"){if(Object.prototype.hasOwnProperty.call(g,"gt"))return g.gt;else if(Object.prototype.hasOwnProperty.call(g,"gte"))return g.gte}else if(Object.prototype.hasOwnProperty.call(g,"lt"))return g.lt;else if(Object.prototype.hasOwnProperty.call(g,"lte"))return g.lte}function l(b){if(f==="asc")return Object.prototype.hasOwnProperty.call(g,"gt")?k(a,b.keys,g.gt,h.gt):Object.prototype.hasOwnProperty.call(g,"gte")?k(a,b.keys,g.gte,h.gte):0;else return Object.prototype.hasOwnProperty.call(g,"lt")?k(a,b.keys,g.lt,h.lt):Object.prototype.hasOwnProperty.call(g,"lte")?k(a,b.keys,g.lte,h.lte):b.keys.length-1}if(Object.prototype.hasOwnProperty.call(g,"gt")&&Object.prototype.hasOwnProperty.call(g,"gte"))throw c("unrecoverableViolation")("cannot specify both greater than and greater than or equal","messenger_web_product");if(Object.prototype.hasOwnProperty.call(g,"lt")&&Object.prototype.hasOwnProperty.call(g,"lte"))throw c("unrecoverableViolation")("cannot specify both less than and less than or equal","messenger_web_product");var m;return{next:function*(d){var e,n;if(m==null){var o=(yield* b.readHeader());if(o==null)return{done:!0};var p=i();if(p!==void 0){p=(yield* j(a,b,o.rootId,p));e=p[0];p=p[1]}else if(f==="asc"){var q=[yield* b.readExn(o.headId),o.headId];e=q[0];p=q[1]}else{q=[yield* b.readExn(o.tailId),o.tailId];e=q[0];p=q[1]}o=l(e)}else{q=m;o=q.i;n=q.key;p=q.nodeId;e=(yield* b.read(p));if(d!=null){if(a(d,n)===(f==="asc"?-1:1))throw c("unrecoverableViolation")("key must be ahead of current key","messenger_web_product");if(e==null||a(d,e.keys[0])<0||a(d,e.keys[e.keys.length-1])>0){q=(yield* b.readHeader());if(q==null)return{done:!0};q=(yield* j(a,b,q.rootId,d));e=q[0];p=q[1]}o=k(a,e.keys,d,h[f==="asc"?"gte":"lte"])}else{if(e==null||o<0||o>=e.keys.length||a(e.keys[o],n)!==0){if(e==null||!e.keys.length||a(n,e.keys[0])<0||a(n,e.keys[e.keys.length-1])>0){q=(yield* b.readHeader());if(q==null)return{done:!0};d=(yield* j(a,b,q.rootId,n));e=d[0];p=d[1]}o=k(a,e.keys,n,h[f==="asc"?"lte":"gte"])}o+=f==="asc"?1:-1}}if(o<0||o>=e.keys.length)if(f==="asc"){if(e.nextId===void 0)return{done:!0};p=e.nextId;e=(yield* b.readExn(p));o=0}else{if(e.prevId===void 0)return{done:!0};p=e.prevId;e=(yield* b.readExn(p));o=e.keys.length-1}n=e.keys[o];m={node:e,nodeId:p,key:n,i:o};if(o<0||o>=e.keys.length)return{done:!0};q=f==="asc"?Object.prototype.hasOwnProperty.call(g,"lt")&&a(n,g.lt)>=0||Object.prototype.hasOwnProperty.call(g,"lte")&&a(n,g.lte)>0:Object.prototype.hasOwnProperty.call(g,"gt")&&a(n,g.gt)<=0||Object.prototype.hasOwnProperty.call(g,"gte")&&a(n,g.gte)<0;return q?{done:!0}:{done:!1,value:[e.keys[o],e.children[o]]}}}}function a(a,b,c){b===void 0&&(b=32);return{get:function(b){return o(a,c,b)},getWithDefault:function(b,d){return p(a,c,b,d)},has:function(b){return q(a,c,b)},set:function(d,e){return r(a,c,b,d,e)},"delete":function(d){return s(a,c,b,d)},entries:function(b){return t(a,c,b)},clear:function(){return i(c)}}}g["default"]=a}),98);
__d("LSDatabaseProviderType",[],(function(a,b,c,d,e,f){"use strict";function a(a){return g(a.persistenceTypes)}function g(a){return a.includes("indexeddb")}f.isProviderPersisted=a;f.hasPersistentType=g}),66);
__d("LSDbSchema",["MAWReStoreDbSchema"],(function(a,b,c,d,e,f){"use strict";a=importNamespace("MAWReStoreDbSchema").clientSchema;f.clientSchema=a}),66);
__d("I64MigrationHelper",["I64","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){return c("nullthrows")((h||(h=d("I64"))).cast(a))}g.cast=a}),98);
__d("LSTableDefaults",["I64MigrationHelper"],(function(a,b,c,d,e,f){e.exports={sync_groups:{syncStatus:(a=b("I64MigrationHelper")).cast([0,0]),sendSyncParams:!1,minTimeToSyncTimestampMs:a.cast([0,0]),canIgnoreTimestamp:!1,priority:a.cast([0,0]),lastSyncRequestTimestampMs:a.cast([0,0]),lastSyncCompletedTimestampMs:a.cast([0,0]),syncChannel:a.cast([0,1])},pending_tasks:{enqueueTimestampMs:a.cast([0,0]),firstExecutedTimestampMs:a.cast([0,0]),failureCount:a.cast([0,0]),minTimeToSyncTimestampMs:a.cast([0,0]),pluginType:a.cast([0,0]),priority:a.cast([0,0]),taskDispatchPriority:a.cast([0,0])},pending_fire_and_forget_tasks:{enqueueTimestampMs:a.cast([0,0]),priority:a.cast([0,0])},contacts:{isMessengerUser:!1,isMemorialized:!1,blockedByViewerStatus:a.cast([0,0]),rank:a.cast([0,0]),contactType:a.cast([0,0]),contactTypeExact:a.cast([0,0]),canViewerMessage:!0,gender:a.cast([0,0]),authorityLevel:a.cast([0,0]),optimisticBlockedByViewerStatus:a.cast([0,0]),optimisticBlockedByViewerStatusTimestampMs:a.cast([0,0]),contactReachabilityStatusType:a.cast([0,0]),restrictionType:a.cast([0,0]),waConnectStatus:a.cast([0,0]),capabilities2:a.cast([0,0]),isEmployee:!1},ig_contact_info:{e2eeEligibility:a.cast([0,0])},bot_profile_info_v2:{hasEmbodiment:!1},reactions:{timestampMs:a.cast([0,0]),authorityLevel:a.cast([0,0])},threads:{lastActivityTimestampMs:a.cast([0,0]),lastReadWatermarkTimestampMs:a.cast([0,0]),removeWatermarkTimestampMs:a.cast([0,0]),muteExpireTimeMs:a.cast([0,0]),isAdminSnippet:!1,ongoingCallState:a.cast([0,0]),snippetHasEmoji:!1,hasPersistentMenu:!1,disableComposerInput:!1,capabilities:a.cast([0,0]),isCustomThreadPicture:!1,isDisappearingMode:!1,unreadDisappearingMessageCount:a.cast([0,0]),authorityLevel:a.cast([0,0]),capabilities2:a.cast([0,0]),muteCallsExpireTimeMs:a.cast([0,0]),unsendLimitMs:a.cast([0,0]),threadInvitesEnabled:a.cast([0,0]),threadInvitesEnabledV2:a.cast([0,0]),capabilities3:a.cast([0,0]),muteMentionExpireTimeMs:a.cast([0,0]),isReadReceiptsDisabled:!1,readReceiptsDisabledV2:a.cast([0,0]),capabilities4:a.cast([0,0])},threads_ranges_v2__generated:{minThreadKey:a.cast([0,0]),minLastActivityTimestampMs:a.cast([0,0]),maxThreadKey:a.cast([0,0]),maxLastActivityTimestampMs:a.cast([0,0]),isLoadingBefore:!1,isLoadingAfter:!1,hasMoreBefore:!1,hasMoreAfter:!1},messages:{timestampMs:a.cast([0,0]),primarySortKey:a.cast([0,0]),secondarySortKey:a.cast([0,0]),isAdminMessage:!1,sendStatus:a.cast([0,0]),sendStatusV2:a.cast([0,0]),isUnsent:!1,replyStatus:a.cast([0,0]),replyAttachmentType:a.cast([0,0]),hasQuickReplies:!1,textHasLinks:!1,viewFlags:a.cast([0,0]),displayedContentTypes:a.cast([0,1]),quickReplyType:a.cast([0,0]),authorityLevel:a.cast([0,0]),unsentTimestampMs:a.cast([0,0]),isCollapsed:!1,messageRenderingType:a.cast([0,0])},messages_ranges_v2__generated:{isLoadingBefore:!1,isLoadingAfter:!1,hasMoreBefore:!1,hasMoreAfter:!1},participants:{readWatermarkTimestampMs:a.cast([0,0]),deliveredWatermarkTimestampMs:a.cast([0,0]),authorityLevel:a.cast([0,0]),readActionTimestampMs:a.cast([0,0]),groupParticipantJoinState:a.cast([0,0]),threadRoles:a.cast([0,0])},attachments:{timestampMs:a.cast([0,0]),attachmentType:a.cast([0,0]),hasMedia:!1,isSharable:!1,hasXma:!1,attachmentIndex:a.cast([0,0]),authorityLevel:a.cast([0,0])},attachments_ranges_v2__generated:{mediaGroup:a.cast([0,0]),isLoadingBefore:!1,isLoadingAfter:!1,hasMoreBefore:!1,hasMoreAfter:!1},attachment_items:{attachmentIndex:a.cast([0,0])},group_membership_approval_requests:{authorityLevel:a.cast([0,0])},admin_message_ctas:{timestampMs:a.cast([0,0]),showAdChoiceIcon:!1},thread_nullstate:{ctaType:a.cast([0,0]),privacyTextCtaType:a.cast([0,0])},messages_status:{timestampMs:a.cast([0,0])},polls:{pollType:a.cast([0,0])},poll_options_v2:{voteCount:a.cast([0,0]),sortKeyVotingTimestamp:a.cast([0,0]),sortKeyCreationTimestamp:a.cast([0,0])},filtered_threads_ranges_v3__generated:{minThreadKey:a.cast([0,0]),minLastActivityTimestampMs:a.cast([0,0]),maxThreadKey:a.cast([0,0]),maxLastActivityTimestampMs:a.cast([0,0]),isLoadingBefore:!1,isLoadingAfter:!1,hasMoreBefore:!1,hasMoreAfter:!1,folderName:"inbox",secondaryThreadRangeFilter:a.cast([0,0]),threadRangeFilterValue:""},community_folders:{capabilities:a.cast([0,0]),notificationMutedUntil:a.cast([0,0]),inviteStatus:a.cast([0,0]),capabilities2:a.cast([0,0]),capabilities3:a.cast([0,0])},community_members:{source:a.cast([0,0]),adminActions:a.cast([0,0]),contactCapabilities:a.cast([0,0]),channelBadges:a.cast([0,0]),threadRoles:a.cast([0,0]),requestId:""},inbox_threads_ranges:{minThreadKey:a.cast([0,0]),minLastActivityTimestampMs:a.cast([0,0]),isLoadingBefore:!1,hasMoreBefore:!1},community_direct_invites_presets:{fallbackUrl:"",pictureUrlExpirationTimestampMs1:a.cast([0,0]),pictureUrlExpirationTimestampMs2:a.cast([0,0]),presetTypeV2:"ALL_MEMBERS"},sync_group_threads_ranges:{minThreadKey:a.cast([0,0]),minLastActivityTimestampMs:a.cast([0,0]),isLoadingBefore:!1,hasMoreBefore:!1},community_chat_polls:{pollType:a.cast([0,0])},community_chat_poll_options:{voteCount:a.cast([0,0]),sortKeyVotingTimestamp:a.cast([0,0]),sortKeyCreationTimestamp:a.cast([0,0])},reactions_v2:{viewerReactionTimestampMs:a.cast([0,0]),lastUpdatedTimestampMs:a.cast([0,0])},group_invitations_pending:{communityJoinRequestStatus:a.cast([0,0]),communityParticipationControlRequestStatus:a.cast([0,0]),communityParticipationControlSetting:a.cast([0,0])},thread_label_mappings:{sortKey:a.cast([0,0])},inbox_view_state:{value:""},inbox_view_state_v2:{value:""},discoverable_chat_participants:{source:a.cast([0,0])},roll_calls:{viewerHasContributed:!1,viewerCanEditPrompt:!1,isBlurred:!1,canViewWithoutContributing:!1},roll_call_contributions_v2:{contributorId:a.cast([0,0]),contributionSource:a.cast([0,0])},shared_albums:{lastActivityTimestampMs:a.cast([0,0]),contributionCount:a.cast([0,0])},shared_album_contributions:{creationTimestampMs:a.cast([0,0]),creatorId:a.cast([0,0])},search_queries:{surfaceType:a.cast([0,1])},universal_search_recent_searches:{lastAccessedTimestampMs:a.cast([0,0])},cm_search_nullstate_metadata:{score:0},ai_bot_search_metadata:{displayName:"",contactViewerRelationship:a.cast([0,0]),score:0},contact_upload_settings:{authorityLevel:a.cast([0,0])},presence_settings:{isActiveStatusViewable:!1,isActiveStatusViewableOnFb:!1,isActiveStatusViewableOnMessenger:!1,hasConvertedToViewSideSettings:!1},video_chat_links_joining:{canAnonymousUsersJoin:a.cast([0,0])},notification_settings:{includeInSwitchAccountBadges:!1,mutePageAccountMessageReminder:!1},avatar_settings:{enableAvatarHotlike:!1},messaging_privacy_settings:{readReceiptsDisabled:a.cast([0,0])},rtc_call_events:{isProcessed:!1},transaction_history:{timestampMs:a.cast([0,0])},thread_themes:{isDeprecated:!1,iconUrl:"",iconUrlFallback:"",backgroundUrl:""},ranking_scores:{score:a.cast([0,0]),scoreIndex:a.cast([0,0])},story_buckets:{pageNum:a.cast([0,0]),readState:a.cast([0,0])},stories:{authorityLevel:a.cast([0,0])},story_viewers:{interactionType:a.cast([0,1]),authorityLevel:a.cast([0,0])},story_reactions:{authorityLevel:a.cast([0,0])},story_ad_unit:{shouldShowAdChoice:!1},story_overlays:{authorityLevel:a.cast([0,0])},rooms:{notificationMutedUntilMs:a.cast([0,0])},media_staging:{progress:a.cast([0,0])},client_messages:{textSize:a.cast([0,0]),sendStatus:a.cast([0,0]),isHidden:!1,isTombstoned:!1,isReplyOnly:!1,messageContentType:a.cast([0,0]),messageContentSubtype:a.cast([0,0]),messageSource:a.cast([0,0]),messageCreationType:a.cast([0,0]),messageEphemeralityType:a.cast([0,0]),replyStatus:a.cast([0,0]),replyMessageTextSize:a.cast([0,0]),replyVicinityStatus:a.cast([0,0]),isForwarded:!1,isReadonly:!1,disabledActionsReason:a.cast([0,0]),shouldPersist:!1,shouldHideInSnippet:!1},client_participants:{isPending:!1,capabilities1:a.cast([0,0]),capabilities2:a.cast([0,0]),readActionTsMs:a.cast([0,0])},client_threads:{isAdminSnippet:!1,isHotlikeSnippet:!1,groupMemberAddMode:a.cast([0,0]),capabilities1:a.cast([0,0]),capabilities2:a.cast([0,0]),isHidden:!1,isTombstoned:!1,isPending:!1,isShadowThread:!1,pinnedMessagesCount:a.cast([0,0])},data_trace_meta:{initTimestampMs:a.cast([0,0]),foregroundTimestampMs:a.cast([0,0]),traceType:a.cast([0,0]),shouldFlush:!1},data_trace_addon:{timestampMs:a.cast([0,0])},secure_encrypted_backups_client_state:{authorityLevel:a.cast([0,0]),encryptionVersion:a.cast([0,0]),revisionVersion:a.cast([0,0])},secure_encrypted_backups_epochs:{authorityLevel:a.cast([0,0])},encrypted_backups:{authorityLevel:a.cast([0,0]),hasOtcEligibleDevices:!1},secure_encrypted_backups_generated_recovery_code:{virtualDeviceType:a.cast([0,1])},encrypted_backups_virtual_devices:{virtualDeviceType:a.cast([0,1]),removalStatus:a.cast([0,1]),requiresHsmMigration:!1},encrypted_backups_metadata:{authorityLevel:a.cast([0,0])},cutover_threads:{isMigrated:!1,showOpenMessageHistory:!1},persistent_menu_ctas:{ctaType:"fallback"},lightspeed_task_context:{requiresAuthentication:!1}}}),null);
__d("MWTabNotifierWhenPDBEnabled",["cr:3107"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:3107")}),98);
__d("ReStoreDefaultValuesMetadata",["FBLogger"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b={c:"string",t:"string"};for(var d in b){if(!Object.prototype.hasOwnProperty.call(a,d)||a[d]==null){c("FBLogger")("messenger_web_product").warn('Malformed default values data, missing key "%s"',d);return null}var e=a[d],f=b[d];e=typeof e;if(e!==f){c("FBLogger")("messenger_web_product").warn('Malformed default values data, key "%s" has type "%s" but expected "%s"',d,e,f);return null}}if(typeof a.c!=="string"||typeof a.t!=="string")return null;e=[];f=a.t;try{e=JSON.parse(a.c);for(d=0;d<e.length;d++){b=e[d];if(typeof b!=="string")return null}}catch(a){return null}return{columns:e,tableName:f}}function b(a){return{c:JSON.stringify(a.columns),t:a.tableName}}d="_db_defaults_meta";e="_db_schema_meta";g.tryParseDefaultValuesData=a;g.defaultValuesColumnToValue=b;g.defaultValuesTableName=d;g.schemaVersionTableName=e}),98);
__d("ReStoreUtils",["LSTableDefaults","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=[],c=(yield a.next());while(!c.done)b.push(c.value),c=(yield a.next());return b});return h.apply(this,arguments)}function d(a,b){var d=c("LSTableDefaults")[b];return!d?a:Object.keys(d).reduce(function(a,b){Object.prototype.hasOwnProperty.call(a,b)||(a[b]=d[b]);return a},babelHelpers["extends"]({},a))}g.collectIterator=a;g.appendDefaultValues=d}),98);
__d("ReStoreDefaultValueMigration",["LSPlatformLsInitLog","LSTableDefaults","ReStoreDefaultValuesMetadata","ReStoreUtils","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var c={};b=(yield d("ReStoreUtils").collectIterator(b.table(d("ReStoreDefaultValuesMetadata").defaultValuesTableName).entries(a)));for(a of b){b=a[0];var e=a[1];if(b!=null){var f;b=d("ReStoreDefaultValuesMetadata").tryParseDefaultValuesData(e);if(b==null)continue;e=b.columns;b=b.tableName;c[b]=(f=c[b])!=null?f:new Set();for(f of e)c[b].add(f)}}return c});return i.apply(this,arguments)}function j(a,b,c){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,d){a=(yield h(a,b));b={};for(d in d.tableNames){var e=c("LSTableDefaults")[d];if(e!=null)for(var f in e){var g;g=(g=a[d])==null?void 0:g.has(f);if(!g){b[d]=(g=b[d])!=null?g:{};b[d][f]=e[f]}}}return b});return k.apply(this,arguments)}function l(a,b){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){for(b in b){var e=Object.keys(c("LSTableDefaults")[b]||{});e={columns:e,tableName:b};yield a.table(d("ReStoreDefaultValuesMetadata").defaultValuesTableName).put(d("ReStoreDefaultValuesMetadata").defaultValuesColumnToValue(e))}});return m.apply(this,arguments)}function a(a,b){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var c=new WeakMap();d("LSPlatformLsInitLog").addPoint("default_values_update_start");var e=function(a,b){d("LSPlatformLsInitLog").addPoint("default_values_update_end_failure",{string:{default_values_update_failure_point:b,default_values_update_failure_reason:String(a)}})};try{b=(yield j(c,a,b));try{for(var f in b){var g=a.table(f).entries(c),h=(yield g.next());while(!h.done){var i=babelHelpers["extends"]({},h.value[1]);i=d("ReStoreUtils").appendDefaultValues(i,f);yield a.table(f).put(i);h=(yield g.next())}}yield l(a,b);d("LSPlatformLsInitLog").addPoint("default_values_update_end")}catch(a){e(a,"setDefaultValues")}}catch(a){e(a,"findDefaultValuesToUpdate")}});return n.apply(this,arguments)}g.runMigrationForTableDefaultValuesIfNeeded=a}),98);
__d("ReStoreHooks",["PromiseOrValue"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){return{afterEntriesNext:a.reduce(function(a,b){var c=b.onAfterEntriesNext;return c?function(b){return c({tableName:b.tableName,value:a(b)})}:a},function(a){a=a.value;return a}),afterGet:a.reduce(function(a,b){var c=b.onAfterGet;return c?function(b){return c({tableName:b.tableName,value:a(b)})}:a},function(a){a=a.value;return a}),beforeAdd:a.reduce(function(a,b){var c=b.onBeforeAdd;return c?function(b){return(h||(h=d("PromiseOrValue"))).map(a(b),function(a){return c(babelHelpers["extends"]({},b,{value:a}))})}:a},function(a){a=a.value;return a}),beforeDeleteThenInsert:a.reduce(function(a,b){var c=b.onBeforeDeleteThenInsert;return c?function(b){return(h||(h=d("PromiseOrValue"))).map(a(b),function(a){return c(babelHelpers["extends"]({},b,{value:a}))})}:a},function(a){a=a.value;return a}),beforeNotify:a.reduce(function(a,b){var c=b.onBeforeNotify;return c?function(b){var d=a(b),e=d.newValue;d=d.prevValue;return c({newValue:e,prevValue:d,tableName:b.tableName})}:a},function(a){var b=a.newValue;a=a.prevValue;return{newValue:b,prevValue:a}}),beforePut:a.reduce(function(a,b){var c=b.onBeforePut;return c?function(b){return(h||(h=d("PromiseOrValue"))).map(a(b),function(a){return c(babelHelpers["extends"]({},b,{value:a}))})}:a},function(a){a=a.value;return a}),beforeUpsert:a.reduce(function(a,b){var c=b.onBeforeUpsert;return c?function(b){return(h||(h=d("PromiseOrValue"))).map(a(b),function(a){return c(babelHelpers["extends"]({},b,{value:a}))})}:a},function(a){a=a.value;return a})}}g.createHookManager=a}),98);
__d("ReStoreIndexMetadata",["FBLogger"],(function(a,b,c,d,e,f,g){"use strict";function h(a){a=typeof a==="string"?a:null;if(a==null)return null;try{a=JSON.parse(a);for(var b=a,c=Array.isArray(b),d=0,b=c?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=b.length)break;e=b[d++]}else{d=b.next();if(d.done)break;e=d.value}e=e;if(typeof e!=="string")return null}return a}catch(a){return null}}function a(a){var b={indexName:"string",keyIds:"string",tableName:"string"};for(var d in b){if(!Object.prototype.hasOwnProperty.call(a,d)||a[d]==null){c("FBLogger")("messenger_web_product").warn('Malformed index data, missing key "%s"',d);return null}var e=a[d],f=b[d];e=typeof e;if(e!==f){c("FBLogger")("messenger_web_product").warn('Malformed index data, key "%s" has type "%s" but expected "%s"',d,e,f);return null}}e=h(a.keyIds);if(e==null){c("FBLogger")("messenger_web_product").warn('Malformed index data, key IDs "%s" are invalid',typeof a.keyIds==="string"?a.keyIds:"<"+typeof a.keyIds+">");return null}return typeof a.indexName!=="string"||typeof a.tableName!=="string"?null:{data:e,indexName:a.indexName,tableName:a.tableName}}function b(a,b){if(a==null)return!0;if(a.length!==b.length)return!0;for(var c=0;c<a.length;c++)if(a[c]!==b[c])return!0;return!1}function d(a){return{indexName:a.indexName,keyIds:JSON.stringify(a.data),tableName:a.tableName}}e="_db_indices_meta";g.tryParseIndexData=a;g.indicesDiffer=b;g.indexDataToValue=d;g.indicesTableName=e}),98);
__d("ReStoreIndicesMigration",["LSPlatformLsInitLog","ReStoreIndexMetadata","ReStoreUtils","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var c={};b=(yield d("ReStoreUtils").collectIterator(b.table(d("ReStoreIndexMetadata").indicesTableName).entries(a)));for(a of b){b=a[0];var e=a[1];if(b!=null){var f;e=d("ReStoreIndexMetadata").tryParseIndexData(e);if(e==null)continue;var g=e.indexName,h=e.tableName;c[h]=(f=c[h])!=null?f:{};c[h][g]={index:e.data,key:b}}}return c});return i.apply(this,arguments)}function j(a,b,c){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){a=(yield h(a,b));b={};for(var e in c.tableNames){var f=c.tableNames[e];for(var g in f.indexes){var i,j=f.indexes[g];i=(i=a[e])==null?void 0:i[g];if(d("ReStoreIndexMetadata").indicesDiffer(i==null?void 0:i.index,j)){b[e]=(i=b[e])!=null?i:{};b[e][g]=j}}}i={};for(j in a){g=a[j];for(f in g){var k;e=g[f];k=(k=c.tableNames[j])==null?void 0:(k=k.indexes)==null?void 0:k[f];if(k==null){i[j]=(k=i[j])!=null?k:{};i[j][f]=e}}}return{toRemove:i,toUpdate:b}});return k.apply(this,arguments)}function l(a,b){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){for(var c in b){var e=b[c];for(var f in e){var g=e[f];g={data:g,indexName:f,tableName:c};yield a.table(d("ReStoreIndexMetadata").indicesTableName).put(d("ReStoreIndexMetadata").indexDataToValue(g))}}});return m.apply(this,arguments)}function n(a,b){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){for(var c in b){var e=b[c];for(var f in e){var g,h=e[f].key;yield (g=a.table(d("ReStoreIndexMetadata").indicesTableName))["delete"].apply(g,h)}}});return o.apply(this,arguments)}function a(a,c,e){var f=new WeakMap();d("LSPlatformLsInitLog").addPoint("index_migration_start");var g=function(a,b){d("LSPlatformLsInitLog").addPoint("index_migration_end_failure",{string:{index_migration_failure_point:b,index_migration_failure_reason:String(a)}})};return j(f,a,c).then(function(){var f=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){var f=b.toRemove;b=b.toUpdate;var g=Array.from(new Set([].concat(Object.keys(b),Object.keys(f))));d("LSPlatformLsInitLog").addAnnotations({"int":{index_migration_rebuild_tables_count:g.length},string_array:{index_migration_rebuilt_tables:g}});for(g of g)if(c.tableNames[g]!=null){var h;h=Array.from(new Set([].concat(Object.keys((h=b[g])!=null?h:{}),Object.keys((h=f[g])!=null?h:{}))));yield e(g,h)}yield l(a,b);yield n(a,f);d("LSPlatformLsInitLog").addPoint("index_migration_end")});return function(a){return f.apply(this,arguments)}}(),function(a){return g(a,"findIndicesToUpdateOrRemove")})["catch"](function(a){return g(a,"rebuildIndices")})}g.runMigrationForIndicesIfNeeded=a}),98);
__d("ReStorePersistence",["FBLogger","PromiseOrValue","asyncToGeneratorRuntime","isPromise"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j={SENTINEL_DELETED:1};function k(a,b,c){return(a.has(b)?a:a.set(b,c())).get(b)}function l(b){if(b==null)return b;var c=Object.getOwnPropertyNames(b),a={},d,e;for(d=0;d<c.length;d++)e=b[c[d]],a[c[d]]=e;return a}function m(a,b){b===void 0&&(b=j);return a===b}function a(a){var e;return{clearCache:a.clearCache,close:a.close,createTransaction:function(e){var f=new Map(),g=!1;function n(){if(g)throw c("FBLogger")("messenger_web_product").mustfixThrow("Transaction has closed")}return{close:function(){g=!0},flush:function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){b===void 0&&(b={upgrade:!1}),yield a.flush(f,b),g=!0});function d(a){return c.apply(this,arguments)}return d}(),table:function(b){function g(c,d){n();var f=p.get(d);if(m(f))return void 0;return f!==void 0?f:a.get(c,b,d,e)}function o(c,f){return(i||(i=d("PromiseOrValue"))).map(g(c,f),function(c){if(c===void 0){var d=p.get(f);a.logError==null?void 0:a.logError(b,e,"dbCorruption",{deletedInThisTxn:m(d)?"true":"false",id:JSON.stringify(f)||""})}return c})}var p=k(f,b,function(){return new Map()});function q(a,b){return{read:function*(b){b=g(a,b);return(h||(h=c("isPromise")))(b)?yield b:b},readExn:function*(b){b=o(a,b);return(h||(h=c("isPromise")))(b)?yield b:b},readHeader:function*(){var d=g(a,b);return(h||(h=c("isPromise")))(d)?yield d:d},remove:function*(a){n(),p.set(a,j)},removeHeader:function*(){n(),p.set(b,j)},write:function*(a,b){n(),p.set(a,b)},writeHeader:function*(a){n(),p.set(b,a)},writeNew:function*(b){var e=(i||(i=d("PromiseOrValue"))).map(g(a,"nextId"),function(a){a===void 0&&(a=0);p.set("nextId",a+1);p.set(a,b);return a});return(h||(h=c("isPromise")))(e)?yield e:e}}}return{getBPlusTreeStore:q,incrementSeed:function*(a,b){a=g(a,"seed");a=(a=(h||(h=c("isPromise")))(a)?yield a:a)!=null?a:0;p.set("seed",Math.max(a,b||0)+1);return b===void 0?a:b},readData:function*(a,b){a=g(a,b);return(h||(h=c("isPromise")))(a)?yield a:a},readDataExn:function*(a,b){a=o(a,b);return(h||(h=c("isPromise")))(a)?yield a:a},readSeed:function(a){return(i||(i=d("PromiseOrValue"))).map(g(a,"seed"),function(a){a===void 0&&(a=0);return a})},remove:function(a,b){n(),p.set(b,j)},writeData:function(a,b,c){n(),p.set(b,l(c))},writeNewData:function*(a,b){a=g(a,"nextId");a=(a=(h||(h=c("isPromise")))(a)?yield a:a)!=null?a:0;p.set("nextId",a+1);p.set(a,l(b));return a}}},types:a.types}},isClosed:a.isClosed||function(){return!1},logError:a.logError,queueCommitWork:(e=a.queueCommitWork)!=null?e:function(a){return a()},runExclusively:a.runExclusively}}g.sentinelDeleted=j;g.isDeletedValue=m;g.createDbStore=a}),98);
__d("ReStoreTransactionLock",["isPromise"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){function a(a){var b=this;this.waitFor=null;a!=null&&(this.waitFor=a.then(function(a){return b.waitFor=null}))}var b=a.prototype;b.chainPromiseOrValue=function(a){if(this.waitFor!=null)return this.waitFor.then(function(){return a("\ud83d\udd12")});else return a("\ud83d\udd12")};return a}();b=function(){function a(){this.lock=null}var b=a.prototype;b.chainPromiseOrValue=function(a){var b=this,d=this.lock;if(d==null){var e=a("\ud83d\udd12");if((h||(h=c("isPromise")))(e))d=e;else return e}else d=d.then(function(){return a("\ud83d\udd12")});var f=d["finally"](function(a){b.lock===f&&(b.lock=null);return a});this.lock=f;return f};return a}();g.WaitForPromiseLock=a;g.ReStoreTransactionLock=b}),98);
__d("IntervalList",["FBLogger","LSDbKeyComparer","ReQLBounds"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(a){if(a==null)throw c("FBLogger")("messenger_web_product").mustfixThrow("must not be null");return a}function a(a,b){var c=new Map(),e=new Map(),f=new Map();function g(b,c){return c==null?!0:(c.gt!==void 0?a(b,c.gt)>0:c.gte!==void 0?a(b,c.gte)>=0:!0)&&(c.lt!==void 0?a(b,c.lt)<0:c.lte!==void 0?a(b,c.lte)<=0:!0)}function* k(a){var f=0;while(f<a.length&&e.size){f++;var i=a.slice(0,f);f<b&&i.push((h||(h=d("LSDbKeyComparer"))).MAX_KEY);i=e.get(JSON.stringify(i));if(i!=null)for(i of i)yield i}for(i of c.entries()){f=i[0];var j=i[1];c.has(f)&&g(a,j)&&(yield f)}}function l(a){var b=f.get(a);if(b!=null){f["delete"](a);var d=j(e.get(b));d["delete"](a);d.size===0&&e["delete"](b)}else c["delete"](a)}function m(a,g){var h;if(a&&a.gte!=null&&a.lte!=null&&(h=JSON.stringify((i||(i=d("ReQLBounds"))).nextKey(a.gte,b)))===JSON.stringify(a.lte)){var j=e.get(h);j==null&&(j=new Set(),e.set(h,j));j.add(g);f.set(g,h)}else c.set(g,a)}return{"delete":l,findIntersecting:k,set:m}}g["default"]=a}),98);
__d("killswitchMessengerWebPersistedDB",["killswitch"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("killswitch")("MESSENGER_WEB_PERSISTED_DB")}g.check=a}),98);
__d("createReStoreSubscriptionManager",["ExecutionEnvironment","FBLogger","IntervalList","LSDatabaseProviderType","LSDbKeyComparer","LSStorage","MWTabNotifierWhenPDBEnabled","Promise","PromiseOrValue","asyncToGeneratorRuntime","gkx","isPromise","killswitchMessengerWebPersistedDB","nullthrows","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l;function a(a,e,f,g){var m;(l||(l=c("ExecutionEnvironment"))).isInBrowser&&c("MWTabNotifierWhenPDBEnabled")!=null&&(m=c("MWTabNotifierWhenPDBEnabled")(g));var n=d("LSDatabaseProviderType").hasPersistentType(f),o=new Map(),p=new Map();function q(a,b){return(i||(i=d("LSDbKeyComparer"))).compareValue(a,b)===0}function r(a,b,c,d){a=(a=C.get(a))!=null?a:[];var e=[];for(var f=0;f<b.length;f++){var g=b[f];for(var h=0;h<32&&g!==0;h++){if(g&1){var i=a[(f<<5)+h];if(!q(c[i],d[i])){e[f]=((i=e[f])!=null?i:0)|1<<h%32}}g=g>>>1}}return e}function s(a,b){for(var c=0;c<Math.max(a.length,b.length);c++)if((a[c]&b[c])!==0)return!0;return!1}function t(a,b,d,e){if(c("gkx")("1583"))try{var f=a(b,d,e);if((k||(k=c("isPromise")))(f))return f["catch"](function(a){c("FBLogger")("messenger_web_product").catching(a).mustfix("error in ReStore subscription async handler")});else return f}catch(a){c("FBLogger")("messenger_web_product").catching(a).mustfix("error in ReStore subscription handlers")}else return a(b,d,e)}function u(a,c,e,f,g){var i=Array.from(c(f));if(g.operation==="put"&&g.prevValue!=null){c=function(){var b=g.prevValue,c=[];for(var h of i){h[0];var k=h[1];k!=null&&k.forEach(function(a,b){c[b]=((b=c[b])!=null?b:0)|a})}var l=r(a,c,b,g.value);return{v:(j||(j=d("PromiseOrValue"))).all(i.map(function(a){var b=a[0];a=a[1];if(a==null||s(l,a))return t(b,f,g,e)}))}}();if(typeof c==="object")return c.v}return(h||(h=b("Promise"))).all(i.map(function(a){var b=a[0];a[1];return t(b,f,g,e)}))}function v(b){return c("nullthrows")((o.has(b)?o:o.set(b,[c("IntervalList")((i||(i=d("LSDbKeyComparer"))).compareKey,a.tableNames[b].primaryKeyIds.length),new Map()])).get(b))}function w(b,e){var f=v(b);f[0];f=f[1];return c("nullthrows")((f.has(e)?f:f.set(e,c("IntervalList")((i||(i=d("LSDbKeyComparer"))).compareKey,a.tableNames[b].indexes[e].length))).get(e))}function x(b,e,f,g,h,k){var l=function(a,c){return u(e,b.findIntersecting,k,a,c)},m=f==null?void 0:d("LSStorage").searchKey(a,e,f,h),n=g==null?void 0:d("LSStorage").searchKey(a,e,g,h);if(n==null&&m!=null)return l(m,{operation:"delete",prevValue:f});if(m==null&&n!=null)return l(n,{operation:"add",value:c("nullthrows")(g)});if(m!=null&&n!=null)return(i||(i=d("LSDbKeyComparer"))).compareKey(m,n)===0?l(m,{operation:"put",prevValue:f,value:c("nullthrows")(g)}):(j||(j=d("PromiseOrValue"))).map(l(m,{operation:"delete",prevValue:f}),function(){return l(n,{operation:"add",value:c("nullthrows")(g)})})}function y(a,b,c,e){var f=v(a),g=f[0],h=f[1];return(j||(j=d("PromiseOrValue"))).map(x(g,a,b,c,null,e),function(){return(j||(j=d("PromiseOrValue"))).all(Array.from(h.entries()).map(function(d){var f=d[0];d=d[1];return x(d,a,b,c,f,e)}).filter(function(a){return a!=null}))})}function z(){p.forEach(function(a){return a()})}function A(a,b){function f(){var d=new Map();try{for(var f of a){var g=f[0],h=f[1];e(b,g)&&d.set(g,h)}}catch(a){c("FBLogger")("messenger_web_product").catching(a).mustfix("Couldnot format changes to broadcast")}return Array.from(d)}if((l||(l=c("ExecutionEnvironment"))).isInBrowser&&(!d("killswitchMessengerWebPersistedDB").check()&&m!=null&&n)){f=f();if(f.length===0)return;m.postMessage(b,f)}}(l||(l=c("ExecutionEnvironment"))).isInBrowser&&(!d("killswitchMessengerWebPersistedDB").check()&&m!=null&&n&&m.onEventReceive("notifyTableV2",function(a){c("promiseDone")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var b=new WeakMap(),c=a.values();yield (j||(j=d("PromiseOrValue"))).loop(function(a){if(a.done)return{action:"break",value:void 0};a=a.value;var e=a[0];a=a[1];var f=a.values();return(j||(j=d("PromiseOrValue"))).map(j.loop(function(a){if(a.done)return{action:"break",value:void 0};a=a.value;var c=a[0];a=a[1];return(j||(j=d("PromiseOrValue"))).map(y(e,c,a,b),function(){return{action:"continue",value:f.next()}})},f.next()),function(){return{action:"continue",value:c.next()}})},c.next());z()})())}));var B=new Map(),C=new Map();function D(a,b){if(b==null)return null;var c=B.get(a);c==null&&(c=new Map(),B.set(a,c));var d=[];for(b of b){var e=c.get(b);if(e==null){e=c.size;c.set(b,e);var f=C.get(a);f==null&&(f=[],C.set(a,f));f.push(b)}f=e>>5;e=e&31;d[f]=((f=d[f])!=null?f:0)|1<<e}return d}return{dispose:function(){o.clear(),p.clear()},notifyCommit:z,notifyTableAndIndexSubscribers:y,notifyTableV2:A,subscribeIndex:function(a,c,d,e,f){var g=w(a,c),i=!1;c=function(a,c,e){return i?(h||(h=b("Promise"))).resolve():t(d,a,c,e)};var j=[c,D(a,f)];g.set(e,j);return function(){i=!0,g["delete"](j)}},subscribeTable:function(a,c,d,e){var f=v(a),g=f[0],i=!1;f=function(a,d,e){return i?(h||(h=b("Promise"))).resolve():t(c,a,d,e)};var j=[f,D(a,e)];g.set(d,j);return function(){i=!0,g["delete"](j)}},subscribeToCommit:function(a){p.set(a,a);return function(){p["delete"](a)}}}}g["default"]=a}),98);
__d("ReStore",["BPlusTreeBase","ExecutionEnvironment","FBLogger","I64","LSDatabaseProviderType","LSDbKeyComparer","LSPlatformLsInitLog","LSStorage","LSTableDefaults","MWTabNotifierWhenPDBEnabled","MessengerLogHistory","MetaConfig","Promise","PromiseOrValue","ReQLBounds","ReStoreDefaultValueMigration","ReStoreDefaultValuesMetadata","ReStoreHooks","ReStoreIndicesMigration","ReStorePersistence","ReStoreTransactionLock","ReStoreUtils","asyncToGeneratorRuntime","clearTimeout","cr:1088","cr:1242","createReStoreSubscriptionManager","err","gkx","hashString","isPromise","killswitchMessengerWebPersistedDB","promiseDone","setImmediate","setTimeout","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m,n,o=d("MessengerLogHistory").getInstance("db_init");e=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.call(this,"Transaction has finished")||this}return b}(babelHelpers.wrapNativeSuper(Error));function p(a){a=(n||(n=d("I64"))).cast(a);if(a===void 0)throw c("unrecoverableViolation")("Expected int64","messenger_web_product");return n.to_float(a)}function q(a,b){function d(b){if(b.done)return b.value;if(!(i||(i=c("isPromise")))(b.value))throw c("unrecoverableViolation")("expected promise","messenger_web_product");return b.value.then(function(b){return d(a.next(b))})}return d(a.next(b))}function r(a,b){return{next:function(c){return b.chainPromiseOrValue(function(b){return q(a.next(b,c))})}}}function s(a,b,e){return c("BPlusTreeBase")((m||(m=d("LSDbKeyComparer"))).compareKey,16,b.getBPlusTreeStore(a,e==null?"root":"index("+e+")"))}function t(a,b,c){return(a.has(b)?a:a.set(b,c())).get(b)}function a(a,e,f){f===void 0&&(f=[]);var g=d("ReStorePersistence").createDbStore(a),i="restore-table-"+a.uniqueId,v=c("createReStoreSubscriptionManager")(e,a.shouldSync,a.types,i),w=d("ReStoreHooks").createHookManager(f);f=(l||(l=c("ExecutionEnvironment"))).isInBrowser?c("MWTabNotifierWhenPDBEnabled")==null?void 0:c("MWTabNotifierWhenPDBEnabled")(i):void 0;var x=b("LSStorage").searchKey.bind(null,e),y={background:{first:null,last:null},sync_script:{first:null,last:null},ui:{first:null,last:null}},z=c("hashString")(JSON.stringify(e)),A=c("hashString")(JSON.stringify(c("LSTableDefaults")));d("LSPlatformLsInitLog").addAnnotations({"int":{defaultValuesVersion:A,schemaVersion:z}});d("LSPlatformLsInitLog").addPoint("migration_start");o.debug("restore migration start");var B=new(d("ReStoreTransactionLock").WaitForPromiseLock)(g.runExclusively(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){d("LSPlatformLsInitLog").addPoint("migration_execute_start");var a=new Map(),f=g.createTransaction("readwrite"),i=X(f,a),j="schema_version",k="default_value_version";if(c("MetaConfig")._("59")){var l,m;l=(l=(yield (h||(h=b("Promise"))).resolve(f.table(d("ReStoreDefaultValuesMetadata").schemaVersionTableName).readData(new WeakMap(),j).next().value)))==null?void 0:l.schemaVersion;m=(m=(yield (h||(h=b("Promise"))).resolve(f.table(d("ReStoreDefaultValuesMetadata").schemaVersionTableName).readData(new WeakMap(),k).next().value)))==null?void 0:m.defaultValuesVersion;l!=null&&d("LSPlatformLsInitLog").addAnnotations({"int":{storeDefaultValuesVersion:m,storeSchemaVersion:l}});if(l===z&&m===A){f.close();o.debug("restore migration skipped");d("LSPlatformLsInitLog").addPoint("migration_skipped");return}}try{yield d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(i,e);yield d("ReStoreIndicesMigration").runMigrationForIndicesIfNeeded(i,e,function(b,c){return new(d("ReStoreTransactionLock").ReStoreTransactionLock)().chainPromiseOrValue(function(d){return q(W(a,f,new WeakMap(),b,c,d))})});d("LSPlatformLsInitLog").addPoint("migration_execute_end");o.debug("restore migration complete");l=!0;c("MetaConfig")._("59")&&(a.size===0&&(l=!1),f.table(d("ReStoreDefaultValuesMetadata").schemaVersionTableName).writeData(new WeakMap(),j,{schemaVersion:z}),f.table(d("ReStoreDefaultValuesMetadata").schemaVersionTableName).writeData(new WeakMap(),k,{defaultValuesVersion:A}));yield f.flush({upgrade:l})}catch(a){f.close();throw a}d("LSPlatformLsInitLog").addPoint("migration_end");o.debug("restore migration end")}))["catch"](function(a){d("LSPlatformLsInitLog").addAnnotations({string:{migration_error:a.message}});d("LSPlatformLsInitLog").fail("migration_error");o.debug("restore migration error");throw a})),C=new Map();function D(a,b){return E.apply(this,arguments)}function E(){E=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c){var e=new WeakMap();yield g.runExclusively(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var b=new Map(),f=g.createTransaction("readwrite"),h=X(f,b),i=c.values();yield (j||(j=d("PromiseOrValue"))).loop(function(b){if(b.done)return{action:"break",value:void 0};b=b.value;var c=b[0],f=b[1];return(j||(j=d("PromiseOrValue"))).map(j.map(f==null?h.table(a)["delete"](x(a,c)):h.table(a).put(f),function(){return v.notifyTableAndIndexSubscribers(a,c,f,e)}),function(){return{action:"continue",value:i.next()}})},i.next());try{yield f.flush({upgrade:!0})}catch(a){f.close();throw a}}))});return E.apply(this,arguments)}function F(a,b,c,d,e){b=JSON.stringify([b,c]);c=a.get(b);a.set(b,[c==null?d:c[0],e])}function G(a,b,c,d,e,f){return H.apply(this,arguments)}function H(){H=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,d,e,f){f=a.table(c);a=s(b,f,d);d=(yield q(a.getWithDefault(e,void 0)));if(d===void 0)return void 0;a=(yield q(f.readDataExn(b,d)));return w.afterGet({tableName:c,value:a})});return H.apply(this,arguments)}function I(a,b,c,d,e,f){return J.apply(this,arguments)}function J(){J=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,d,e,f){a=(yield G(a,b,c,d,e,f));return a===void 0?void 0:x(c,a)});return J.apply(this,arguments)}function K(a,b,c,f,g,h){function i(){var l=a.table(c);l=s(b,l,f);var j=l.entries(babelHelpers["extends"]({},(k||(k=d("ReQLBounds"))).extendBounds(h,(f===void 0?e.tableNames[c].primaryKeyIds:e.tableNames[c].indexes[f]).length),{dir:g}));return l={next:function*(a,b){a=(yield* j.next(b));return a.done?{done:!0}:{done:!1,value:a.value[0]}}},l[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]=i,l}return i()}function L(a,b,c,f,g,h){function i(){var l=a.table(c),m=s(b,l,f),j=m.entries(babelHelpers["extends"]({},(k||(k=d("ReQLBounds"))).extendBounds(h,(f===void 0?e.tableNames[c].primaryKeyIds:e.tableNames[c].indexes[f]).length),{dir:g}));return m={next:function*(a,d){a=(yield* j.next(d));if(a.done)return{done:!0};d=(yield* l.readDataExn(b,a.value[1]));return{done:!1,value:[a.value[0],w.afterEntriesNext({tableName:c,value:d})]}}},m[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]=i,m}return i()}function* M(a,b,c,f,g,h,i){function j(a,b){return a.length>=b?a:[].concat(a,[(m||(m=d("LSDbKeyComparer"))).MAX_KEY])}if(h!=null&&(m||(m=d("LSDbKeyComparer"))).compareKey(g,h)===0)return;f=e.tableNames[f];var k=f.cascadeUpdates,l=f.primaryKeyIds;f=function*(d){var f=d.indexName;d=d.tableName;var k=e.tableNames[d],m=k.indexes;k=k.primaryKeyIds;var n=f==null?k:m[f];k={gte:g,lte:j(g,n.length)};m=L(b,c,d,f,"asc",k);f=[];k=(yield* m.next(i));while(!k.done)f.push(k.value),k=(yield* m.next(i));for(m of f){m[0];k=m[1];f=x(d,k);if(h===void 0)yield* R(a,b,c,d,f,i),yield* M(a,b,c,d,f,void 0,i);else{k=l.reduce(function(a,b,c){if(c>=h.length)return a;a[n[c]]=h[c];return a},babelHelpers["extends"]({},k));yield* Q(a,b,c,d,f,k,i);yield* M(a,b,c,d,f,x(d,k),i)}}};for(k of k)yield* f(k)}function N(a,b,c,d){return O.apply(this,arguments)}function O(){O=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,f,g){g=e.tableNames[f].autoIncrement;if(!g)throw c("unrecoverableViolation")("only supported for auto-incrementing tables","messenger_web_product");g=(yield a.table(f).readSeed(b));if(g===void 0)throw c("unrecoverableViolation")("unexpected undefined autoIncrementSeed","messenger_web_product");return(n||(n=d("I64"))).of_float(g)});return O.apply(this,arguments)}function* P(a,b,c,f,g,h){var i=b.table(f),j=s(c,i),k=e.tableNames[f];if(k.autoIncrement){var l=g[k.primaryKeyIds[0]];l=(n||(n=d("I64"))).of_float(yield* i.incrementSeed(c,l===void 0?l:p(l)));g[k.primaryKeyIds[0]]=l}l=x(f,g);var o={},q=(yield* j.getWithDefault(l,void 0)),r,t=g;q!==void 0?(r=(yield* i.readDataExn(c,q)),o=S(Object.keys(k.indexes),f,r),i.writeData(c,q,t)):(t=d("ReStoreUtils").appendDefaultValues(g,k.name),q=(yield* i.writeNewData(c,t)),yield* j.set(l,q));g=S(Object.keys(k.indexes),f,t);for(j of Object.keys(g))o[j]!==void 0&&(m||(m=d("LSDbKeyComparer"))).compareKey(o[j],g[j])===0&&(delete g[j],delete o[j]);yield* T(a,b,c,f,g,h);yield* U(b,c,f,q,g);for(k of Object.keys(o)){j=s(c,i,k);yield* j["delete"](o[k])}F(a,f,l,r,t)}function* Q(a,b,c,e,f,g,h){var i=x(e,g);d("LSStorage").areKeysEqual(f,i)||(yield* R(a,b,c,e,f,h));yield* P(a,b,c,e,g,h)}function* R(a,b,c,d,f,g){g=b.table(d);b=s(c,g);var h=e.tableNames[d],i=(yield* b.getWithDefault(f,void 0)),j;if(i!==void 0){j=(yield* g.readDataExn(c,i));if(Object.keys(h.indexes).length)for(h of Object.keys(h.indexes)){var k=x(d,j,h);if(k!=null){var l=s(c,g,h);yield* l["delete"](k)}}yield* b["delete"](f);g.remove(c,i);F(a,d,f,j,void 0)}}function S(a,b,c){return a.reduce(function(a,d){var e=x(b,c,d);a[d]=e;return a},{})}function* T(a,b,c,d,e,f){var g=b.table(d),h=new Set();for(var i of Object.keys(e)){var j=s(c,g,i),k=e[i];j=(yield* j.getWithDefault(k));if(j!=null&&!h.has(j)){k=x(d,yield* g.readDataExn(c,j));yield* R(a,b,c,d,k,f);yield* M(a,b,c,d,k,void 0,f);h.add(j)}}}function* U(a,b,c,d,e){a=a.table(c);for(c of Object.keys(e)){var f=s(b,a,c),g=e[c];yield* f.set(g,d)}}function* V(a,b,c,f,g,h){var i=b.table(f),j=s(c,i),k=e.tableNames[f];if(k.autoIncrement){var l=g[k.primaryKeyIds[0]];l=(n||(n=d("I64"))).of_float(yield* i.incrementSeed(c,l===void 0?l:p(l)));g[k.primaryKeyIds[0]]=l}l=d("ReStoreUtils").appendDefaultValues(g,k.name);g=x(f,l);if(g==null)throw new Error("Evaluating the object store's key path did not yield a value");if(!(yield* j.has(g))){k=S(Object.keys(k.indexes),f,l);yield* T(a,b,c,f,k,h);h=(yield* i.writeNewData(c,l));yield* j.set(g,h);yield* U(b,c,f,h,k);F(a,f,g,void 0,l)}}function* W(a,b,c,d,f,g){var h=b.table(d),i=f.map(function(a){return s(c,h,a)});for(i of i)yield* i.clear();i=f.filter(function(a){var b;return((b=e.tableNames[d])==null?void 0:b.indexes[a])!=null});if(i.length===0)return;f=s(c,h);var j=L(b,c,d,void 0,"asc",void 0),k=[],l=(yield* j.next(g));while(!l.done)k.push(l.value),l=(yield* j.next(g));for(j of k){l=j[0];k=j[1];k=S(i,d,k);yield* T(a,b,c,d,k,g);l=(yield* f.get(l));yield* U(b,c,d,l,k)}}function X(a,c,f){var g=new(d("ReStoreTransactionLock").ReStoreTransactionLock)(),i=new WeakMap(),k=f==null?void 0:f.instanceKey,l={table:function(f){return{add:function(e){return(h||(h=b("Promise"))).resolve((j||(j=d("PromiseOrValue"))).map(w.beforeAdd({tableName:f,transaction:l,value:e}),function(d){return g.chainPromiseOrValue(function(e){b("cr:1242")==null?void 0:b("cr:1242").recordLogicalWrite(k);return q(V(c,a,i,f,d,e))})}))},"delete":function(){for(var d=arguments.length,e=new Array(d),j=0;j<d;j++)e[j]=arguments[j];return(h||(h=b("Promise"))).resolve(g.chainPromiseOrValue(function(d){return q(function*(){b("cr:1242")==null?void 0:b("cr:1242").recordLogicalWrite(k),yield* R(c,a,i,f,e,d),yield* M(c,a,i,f,e,void 0,d)}())}))},deleteThenInsert:function(e){return(h||(h=b("Promise"))).resolve((j||(j=d("PromiseOrValue"))).map(w.beforeDeleteThenInsert({tableName:f,transaction:l,value:d("ReStoreUtils").appendDefaultValues(e,f)}),function(d){return g.chainPromiseOrValue(function(e){return q(function*(){b("cr:1242")==null?void 0:b("cr:1242").recordLogicalWrite(k),yield* P(c,a,i,f,d,e),yield* M(c,a,i,f,x(f,d),void 0,e)}())})}))},entries:function(b,c,d){c===void 0&&(c="asc");return r(L(a,i,f,void 0,c,d),g)},get:function(){for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return(h||(h=b("Promise"))).resolve(g.chainPromiseOrValue(function(b){return G(a,i,f,void 0,d,b)}))},index:function(c){return{entries:function(b,d,e){d===void 0&&(d="asc");return r(L(a,i,f,c,d,e),g)},get:function(){for(var d=arguments.length,e=new Array(d),j=0;j<d;j++)e[j]=arguments[j];return(h||(h=b("Promise"))).resolve(g.chainPromiseOrValue(function(b){return G(a,i,f,c,e,b)}))},getKey:function(){for(var d=arguments.length,e=new Array(d),j=0;j<d;j++)e[j]=arguments[j];return(h||(h=b("Promise"))).resolve(g.chainPromiseOrValue(function(b){return I(a,i,f,c,e,b)}))},keyFields:e.tableNames[f].indexes[c],keys:function(b,d,e){d===void 0&&(d="asc");return r(K(a,i,f,c,d,e),g)}}},keyFields:e.tableNames[f].primaryKeyIds,keys:function(b,c,d){c===void 0&&(c="asc");return r(K(a,i,f,void 0,c,d),g)},peekNextAutoIncrementId:function(){return(h||(h=b("Promise"))).resolve(g.chainPromiseOrValue(function(b){return N(a,i,f,b)}))},put:function(e){return(h||(h=b("Promise"))).resolve((j||(j=d("PromiseOrValue"))).map(w.beforePut({tableName:f,transaction:l,value:e}),function(d){return g.chainPromiseOrValue(function(e){b("cr:1242")==null?void 0:b("cr:1242").recordLogicalWrite(k);return q(P(c,a,i,f,d,e))})}))},upsert:function(e,m){return(h||(h=b("Promise"))).resolve((j||(j=d("PromiseOrValue"))).map(w.beforeUpsert({tableName:f,transaction:l,value:m}),function(d){return g.chainPromiseOrValue(function(g){return q(function*(){b("cr:1242")==null?void 0:b("cr:1242").recordLogicalWrite(k),yield* Q(c,a,i,f,e,d,g),yield* M(c,a,i,f,e,x(f,m),g)}())})}))}}}};return l}var Y;function Z(a,d){return new(h||(h=b("Promise")))(function(b,e){c("gkx")("789")&&(Y=e),y[d].last==null?y[d].first=y[d].last={value:function(){return a().then(b,e)}}:y[d].last=y[d].last.next={value:function(){return a().then(b,e)}}})}function aa(){return g.runExclusively(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=y.ui.first!=null?y.ui:y.sync_script.first!=null?y.sync_script:y.background;if(a.first==null){c("FBLogger")("messenger_web_product").mustfix("Expected work is missing");return}var b=a.first;a.first===a.last&&(a.last=null);a.first=a.first.next;yield b.value()}))}function ba(a,b,c){return $.apply(this,arguments)}function $(){$=b("asyncToGeneratorRuntime").asyncToGenerator(function*(e,f,i){i===void 0&&(i="background");var k,l,m,n,o,p,q=b("cr:1242")==null?void 0:b("cr:1242").startTracking(a.types,i);(c("MetaConfig")._("26")||c("MetaConfig")._("27")||b("cr:1088"))&&(k=c("err")("Transaction timeout"));b("cr:1088")&&(l=Date.now());function f(){return r.apply(this,arguments)}function r(){r=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){b("cr:1242")==null?void 0:b("cr:1242").mark(q,"execute_start");b("cr:1088")&&(m=Date.now());var a={ref:void 0},f=new Map(),i=g.createTransaction("readwrite"),r;try{var s=X(i,f,{instanceKey:q});r=(yield (h||(h=b("Promise"))).race([e(s),u(k,a)]));a.ref!=null&&c("clearTimeout")(a.ref);b("cr:1088")&&(n=Date.now());b("cr:1242")==null?void 0:b("cr:1242").mark(q,"execute_end");b("cr:1242")==null?void 0:b("cr:1242").mark(q,"flush_start");yield i.flush({instanceKey:q});b("cr:1242")==null?void 0:b("cr:1242").mark(q,"flush_end")}catch(d){a.ref!=null&&c("clearTimeout")(a.ref);i.close();b("cr:1242")==null?void 0:b("cr:1242").fail(q);throw d}b("cr:1088")&&(p=Date.now());b("cr:1242")==null?void 0:b("cr:1242").mark(q,"broadcast_start");var t=new WeakMap(),x=new Map();for(s of f){a=s[0];i=s[1];a=JSON.parse(a);var y=a[0];a[1];a=x.get(y);a==null&&(a=[],x.set(y,a));var z=i[0];i=i[1];i=w.beforeNotify({newValue:i,prevValue:z,tableName:y});z=i.newValue;y=i.prevValue;a.push([y,z])}var A=x.entries();yield (j||(j=d("PromiseOrValue"))).loop(function(b){if(b.done)return{action:"break",value:void 0};b=b.value;var a=b[0];b=b[1];var c=b.values();return(j||(j=d("PromiseOrValue"))).map(j.loop(function(b){if(b.done)return{action:"break",value:void 0};b=b.value;var e=b[0];b=b[1];return(j||(j=d("PromiseOrValue"))).map(v.notifyTableAndIndexSubscribers(a,e,b,t),function(){return{action:"continue",value:c.next()}})},c.next()),function(){return{action:"continue",value:A.next()}})},A.next());yield g.queueCommitWork(function(){v.notifyTableV2(x,"notifyTableV2");v.notifyTableV2(x,"notifyInMemoryTable");return(h||(h=b("Promise"))).resolve()});v.notifyCommit();if(b("cr:1088")){o=Date.now();i={broadcast:o,complete:n,flush:p,queue:l,start:m};b("cr:1088").recordRestoreTransaction(k,i,{changedKeys:f})}b("cr:1242")==null?void 0:b("cr:1242").mark(q,"broadcast_end");b("cr:1242")==null?void 0:b("cr:1242").mark(q,"post_commit_start");c("setImmediate")(function(){b("cr:1242")==null?void 0:b("cr:1242").mark(q,"post_commit_end"),b("cr:1242")==null?void 0:b("cr:1242").end(q)});return r});return r.apply(this,arguments)}var s=i==="background"&&c("MetaConfig")._("39")?new(h||(h=b("Promise")))(function(a){return c("setTimeout")(a,0)}):(h||(h=b("Promise"))).resolve();yield s;s=Z(f,i);c("promiseDone")(aa(),function(){},function(a){Y==null?void 0:Y(a)});return s});return $.apply(this,arguments)}i=d("LSDatabaseProviderType").hasPersistentType(a.types);(l||(l=c("ExecutionEnvironment"))).isInBrowser&&(!d("killswitchMessengerWebPersistedDB").check()&&f!=null&&i&&f.onEventReceive("notifyInMemoryTable",function(d){c("promiseDone")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){for(var b of d){var c=b[0],e=b[1];a.shouldApplySync("notifyInMemoryTable",c)&&(yield D(c,e))}v.notifyCommit()})())}));return{clearCacheIfSupported:function(){var a=g;a instanceof Object&&a.clearCache!==void 0&&a.clearCache instanceof Function&&a.clearCache()},closeDb:function(){var a=g;a instanceof Object&&a.close!==void 0&&a.close()},getTableData:function(){return e},isClosed:function(){return g.isClosed()},persistenceTypes:a.types,runInTransaction:ba,subscribeToCommit:function(a){return v.subscribeToCommit(a)},subscriptionManager:v,table:function(a){return t(C,a,function(){var b=new Map();return{entries:function(b,c,d){c===void 0&&(c="asc");return r(L(g.createTransaction("readonly"),b,a,void 0,c,d),B)},get:function(){for(var b=arguments.length,c=new Array(b),d=0;d<b;d++)c[d]=arguments[d];return B.chainPromiseOrValue(function(b){return G(g.createTransaction("readonly"),new WeakMap(),a,void 0,c,b)})},index:function(c){return t(b,c,function(){return{entries:function(b,d,e){d===void 0&&(d="asc");return r(L(g.createTransaction("readonly"),b,a,c,d,e),B)},get:function(){for(var b=arguments.length,d=new Array(b),e=0;e<b;e++)d[e]=arguments[e];return B.chainPromiseOrValue(function(b){return G(g.createTransaction("readonly"),new WeakMap(),a,c,d,b)})},getKey:function(){for(var b=arguments.length,d=new Array(b),e=0;e<b;e++)d[e]=arguments[e];return B.chainPromiseOrValue(function(b){return I(g.createTransaction("readonly"),new WeakMap(),a,c,d,b)})},keyFields:e.tableNames[a].indexes[c],keys:function(b,d,e){d===void 0&&(d="asc");return r(K(g.createTransaction("readonly"),b,a,c,d,e),B)},subscribe:function(b,f,g){return v.subscribeIndex(a,c,b,(k||(k=d("ReQLBounds"))).extendBounds(f,e.tableNames[a].indexes[c].length),g)}}})},keyFields:e.tableNames[a].primaryKeyIds,keys:function(b,c,d){c===void 0&&(c="asc");return r(K(g.createTransaction("readonly"),b,a,void 0,c,d),B)},peekNextAutoIncrementId:function(){return B.chainPromiseOrValue(function(b){return N(g.createTransaction("readonly"),new WeakMap(),a,b)})},subscribe:function(b,c,f){return v.subscribeTable(a,b,(k||(k=d("ReQLBounds"))).extendBounds(c,e.tableNames[a].primaryKeyIds.length),f)}}})}}}function u(a,d){return(l||(l=c("ExecutionEnvironment"))).canUseDOM&&c("MetaConfig")._("27")?new(h||(h=b("Promise")))(function(b,e){var f=5e3;d.ref=c("setTimeout")(function(){c("FBLogger")("messenger_web_product").catching(a).blameToPreviousFrame().mustfix("ReStore transaction took longer than %s ms to execute",f.toString()),e(a)},f)}):new(h||(h=b("Promise")))(function(){})}a.TransactionClosedError=e;g["default"]=a}),98);
__d("createReStoreEphemeralPersistence",["FBLogger","Promise","ReStorePersistence","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a,b,c){return(a.has(b)?a:a.set(b,c())).get(b)}function a(){var a=(h||(h=b("Promise"))).resolve(),e=new Map();function f(a){return i(e,a,function(){return new Map()})}return{flush:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a.forEach(function(a,b){var c=f(b);a.forEach(function(a,b){d("ReStorePersistence").isDeletedValue(a)?c["delete"](b):c.set(b,a)})})});function c(b){return a.apply(this,arguments)}return c}(),get:function(a,b,c){a=f(b);return a.get(c)},logError:function(a,b,d,e){if(d==="dbCorruption"){throw c("FBLogger")("messenger_web_product").mustfixThrow("Got unexpected undefined in edb, mode: %s, table: %s, id: %s, deletedInThisTxn: %s",b,a,(d=e==null?void 0:e.id)!=null?d:"",(b=e==null?void 0:e.deletedInThisTxn)!=null?b:"")}},queueCommitWork:void 0,runExclusively:function(c){return new(h||(h=b("Promise")))(function(d,e){a=a.then(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){try{d(yield c())}catch(a){e(a)}}))})},shouldApplySync:function(){return!1},shouldSync:function(){return!1},types:["ephemeral"],uniqueId:""}}g["default"]=a}),98);
__d("LSJSInMemoryStorage",["MAWLSVaultingHooks","ReStore","createReStoreEphemeralPersistence"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return c("ReStore")(c("createReStoreEphemeralPersistence")(),a,[c("MAWLSVaultingHooks")])}g["default"]=a}),98);
__d("LSDbForeignKeys",[],(function(a,b,c,d,e,f){"use strict";a={attachments:[{indexName:"fk_attachments",tableName:"attachment_items"},{indexName:"fk_attachments",tableName:"attachment_ctas"}],community_chat_poll_options:[{tableName:"community_chat_poll_votes"}],community_chat_polls:[{tableName:"community_chat_poll_options"},{tableName:"community_chat_poll_votes"}],data_trace_meta:[{indexName:"traceIdAddonId",tableName:"data_trace_addon"}],messages:[{indexName:"fk_messages",tableName:"attachments"}],pending_tasks:[{tableName:"encrypted_backup_restore_task_payload_context"},{indexName:"fk_pending_tasks",tableName:"pending_backups_context_v2"},{indexName:"fk_pending_tasks",tableName:"secure_recovery_code_data"},{indexName:"fk_pending_tasks",tableName:"secure_encrypted_backups_message_thread_id_context"}],rooms:[{tableName:"room_participants"}],secure_encrypted_backups_client_state:[{indexName:"fk_secure_encrypted_backups_client_state",tableName:"secure_encrypted_backups_epochs"}],secure_encrypted_backups_devices:[{indexName:"fk_secure_encrypted_backups_device_supported_versions_device_id",tableName:"secure_encrypted_backups_device_supported_versions"}],threads:[{indexName:"threadKeyCtaId",tableName:"thread_nullstate_ctas"},{tableName:"messages"},{tableName:"attachments"},{tableName:"thread_nullstate"},{tableName:"messages_ranges_v2__generated"},{tableName:"participants"},{indexName:"fk_threads",tableName:"mi_act_mapping_table"}]};b=a;f["default"]=b}),66);
__d("LSTableSchemas",[],(function(a,b,c,d,e,f){e.exports=[[{name:"sync_groups",id:1,primary_key:["groupId"]},{name:"pending_tasks",id:2,primary_key:["taskId"],indexes:{queueNameTaskId:["queueName","taskId"]},auto_increment:!0},{name:"network_requests",id:3,primary_key:["taskQueueName","syncDatabaseId"]},{name:"_user_info",id:4,primary_key:["id"]},{name:"pending_fire_and_forget_tasks",id:5,primary_key:["taskId"],auto_increment:!0},{name:"user_visible_errors",id:6,primary_key:["errorId"],auto_increment:!0},{name:"mailbox_task_completion_notification_context",id:232,primary_key:["notificationScopeKey"]},{name:"mailbox_task_completion_api_tasks",id:233,primary_key:["taskId"]}],[{name:"contacts",id:7,primary_key:["id"],indexes:{blockedByViewerStatusId:["blockedByViewerStatus","id"]}},{name:"ig_contact_info",id:176,primary_key:["contactId"]},{name:"work_contact_info",id:210,primary_key:["id"]},{name:"contextual_profile_v1",id:216,primary_key:["ownerId","associatedEntityId"],indexes:{associatedEntityIdAndOwner:["associatedEntityId","ownerId"]}},{name:"profile_sheet_information",id:256,primary_key:["userId"]},{name:"fb_transport_contacts",id:240,primary_key:["pk"]},{name:"bot_profile_info_v2",id:299,primary_key:["botId"]}],[{name:"reactions",id:8,primary_key:["threadKey","messageId","actorId"]},{name:"threads",id:9,primary_key:["threadKey"],indexes:{lastActivityTimestampMs:["lastActivityTimestampMs","threadKey"],parentThreadKeyLastActivityTimestampMs:["parentThreadKey","lastActivityTimestampMs","threadKey"],secondaryParentThreadKeyLastActivityTimestampMs:["secondaryParentThreadKey","lastActivityTimestampMs","threadKey"],clientThreadKey:["clientThreadKey","threadKey"],threadTypeLastActivityTimestampMs:["threadType","lastActivityTimestampMs","threadKey"],syncGroupParentThreadKeyLastActivityTimestampMs:["syncGroup","parentThreadKey","lastActivityTimestampMs","threadKey"]}},{name:"threads_ranges_v2__generated",id:10,primary_key:["parentThreadKey","minThreadKey","minLastActivityTimestampMs"]},{name:"messages",id:12,primary_key:["threadKey","timestampMs","messageId"],indexes:{optimistic:["offlineThreadingId"],messageDisplayOrder:["threadKey","primarySortKey","secondarySortKey","messageId","isCollapsed"],messageId:["messageId"],messageSubthreadKey:["subthreadKey","primarySortKey","secondarySortKey","messageId","isCollapsed"]}},{name:"messages_ranges_v2__generated",id:13,primary_key:["threadKey","minTimestampMs","minMessageId"]},{name:"participants",id:14,primary_key:["threadKey","contactId"],indexes:{threadKeyReadWatermarkTimestampMs:["threadKey","readWatermarkTimestampMs","contactId"],threadKeyDeliveredWatermarkTimestampMs:["threadKey","deliveredWatermarkTimestampMs","contactId"]}},{name:"ctas",id:15,primary_key:["ctaId"]},{name:"attachments",id:16,primary_key:["threadKey","messageId","attachmentFbid"],indexes:{fk_messages:["threadKey","timestampMs","messageId","attachmentFbid"],idx_attachments_collapsible_id:["threadKey","collapsibleId","messageId","attachmentFbid"]}},{name:"attachments_ranges_v2__generated",id:17,primary_key:["threadKey","mediaGroup","minTimestampMs"]},{name:"attachment_items",id:18,primary_key:["attachmentFbid","attachmentIndex"],indexes:{fk_attachments:["threadKey","messageId","attachmentFbid","attachmentIndex"]}},{name:"attachment_ctas",id:19,primary_key:["ctaId"],indexes:{fk_attachments:["threadKey","messageId","attachmentFbid","ctaId"]}},{name:"quick_reply_ctas",id:20,primary_key:["threadKey","messageId","ctaId"]},{name:"m_suggestions",id:21,primary_key:["threadKey","timestampMs","suggestionId"]},{name:"rtc_signals",id:22,primary_key:["timestampMs","type_"]},{name:"rtc_ongoing_calls_on_threads_v2",id:23,primary_key:["threadKey"]},{name:"rtc_multiway_call_initiation_conference_names",id:24,primary_key:["threadKey"]},{name:"mailbox_metadata",id:25,primary_key:["id"]},{name:"group_membership_approval_requests",id:26,primary_key:["threadKey","contactId"]},{name:"admin_message_ctas",id:27,primary_key:["threadKey","messageId","ctaId"],indexes:{ctaId:["ctaId"]}},{name:"thread_nullstate",id:28,primary_key:["threadKey"]},{name:"thread_nullstate_ctas",id:29,primary_key:["ctaId"],indexes:{threadKeyCtaId:["threadKey","ctaId"]}},{name:"focus_mode_ctas",id:30,primary_key:["threadKey","messageId","ctaId"]},{name:"messages_optimistic_context",id:31,primary_key:["taskId"]},{name:"threads_optimistic_context",id:32,primary_key:["taskId"]},{name:"messages_status",id:33,primary_key:["messageId","threadKey","timestampMs","threadKeyFromParticipants","contactId","type_"]},{name:"message_requests",id:34,primary_key:["threadKey"]},{name:"folder_metadata",id:35,primary_key:["parentThreadKey"]},{name:"polls",id:38,primary_key:["pollId"]},{name:"poll_options_v2",id:39,primary_key:["pollId","optionId"]},{name:"poll_votes_v2",id:40,primary_key:["pollId","optionId","contactId"]},{name:"pinned_messages_v2",id:155,primary_key:["threadKey","messageId"]},{name:"filtered_threads_ranges_v3__generated",id:247,primary_key:["parentThreadKey","minThreadKey","minLastActivityTimestampMs","threadRangeFilter","folderName","secondaryThreadRangeFilter","threadRangeFilterValue"]},{name:"community_folders",id:162,primary_key:["folderId"],indexes:{byFbGroupId:["fbGroupId","folderId"]}},{name:"community_members",id:170,primary_key:["communityId","contactId","source","requestId"],indexes:{communitySource:["communityId","source","requestId","contactId","name"],communityContact:["communityId","contactId","requestId","source","name"]}},{name:"community_members_ranges_v2__generated",id:189,primary_key:["communityId","isAdmin","minName","source","requestId"]},{name:"attachment_conversion",id:164,primary_key:["attachmentFbid"]},{name:"saved_messages",id:165,primary_key:["threadKey","messageId"]},{name:"rtc_rooms_on_threads",id:181,primary_key:["threadKey"]},{name:"ig_thread_info",id:194,primary_key:["threadKey"],indexes:{igThreadID:["igThreadId"]}},{name:"group_invites",id:197,primary_key:["threadKey","inviterId","inviteeId"],indexes:{threadKeyInviterIDInviteeID:["threadKey","inviterId","inviteeId"]}},{name:"inbox_threads_ranges",id:198,primary_key:["syncGroup"]},{name:"community_direct_invites_presets",id:199,primary_key:["communityId","presetType","source"]},{name:"msg_pinned_messages_v2",id:205,primary_key:["threadKey","messageId","pinnedTimestampMs"],indexes:{pinnedMessageDisplayOrder:["threadKey","pinnedTimestampMs","messageId"]}},{name:"filtered_messages_ranges_v2__generated",id:211,primary_key:["threadKey","mailboxType","minTimestampMs","minMessageId","messageRangeFilter"]},{name:"taken_down_threads",id:212,primary_key:["threadKey"]},{name:"participant_list_queries",id:219,primary_key:["threadKey"]},{name:"sync_group_threads_ranges",id:220,primary_key:["syncGroup","parentThreadKey"]},{name:"community_chat_message_seen_count",id:221,primary_key:["threadKey","messageId"]},{name:"community_chat_polls",id:223,primary_key:["pollId"]},{name:"community_chat_poll_options",id:224,primary_key:["pollId","optionId"]},{name:"community_chat_poll_votes",id:225,primary_key:["pollId","optionId","contactId"]},{name:"reactions_v2",id:226,primary_key:["threadKey","messageId","reactionFbid","messageTimestamp"],indexes:{optimistic:["threadKey","messageId","reactionFbid"]}},{name:"reactions_v2_details_users",id:227,primary_key:["reactorId","reactionFbid"]},{name:"reactions_v2_details_users_ranges_v2__generated",id:228,primary_key:["reactorId","reactionFbid","minTimestampMs"]},{name:"reaction_v2_types",id:229,primary_key:["reactionFbid"]},{name:"bots",id:230,primary_key:["threadKey","botId"]},{name:"business_comm_items",id:234,primary_key:["threadKey","entId"]},{name:"group_invitations_pending",id:235,primary_key:["linkHash"]},{name:"business_support_notification_settings",id:236,primary_key:["userId"]},{name:"thread_label_mappings",id:237,primary_key:["threadKey","labelId"]},{name:"inbox_view_state",id:277,primary_key:["interface_","configName"]},{name:"inbox_view_state_v2",id:281,primary_key:["configName"]},{name:"audio_channel_events",id:238,primary_key:["eventId","roomId"]},{name:"reactions_v2_details",id:239,primary_key:["threadId","messageId","reactorId","reactionFbid"]},{name:"reactions_v2_details_ranges_v2__generated",id:243,primary_key:["threadId","messageId","reactionFbid","minTimestampMs"]},{name:"community_chat_poll_votes_ranges_v2__generated",id:244,primary_key:["pollId","optionId","minTimestampMs"]},{name:"discoverable_chat_participants",id:248,primary_key:["threadId","contactId","source"]},{name:"discoverable_chat_participants_ranges_v2__generated",id:249,primary_key:["threadId","source","minName"]},{name:"roll_calls",id:250,primary_key:["rollCallId","threadKey"]},{name:"community_surface_ranges",id:253,primary_key:["surfaceType","communityKey"]},{name:"community_rules",id:254,primary_key:["communityId","ruleId"]},{name:"roll_call_contributions_v2",id:255,primary_key:["rollCallContributionId","rollCallId","messageId","messageTimestampMs","threadKey"],indexes:{optimistic:["rollCallContributionId","rollCallId","messageId","messageTimestampMs"]}},{name:"business_thread_info",id:260,primary_key:["threadKey"]},{name:"thread_creation_status",id:278,primary_key:["taskId"]},{name:"shared_albums",id:279,primary_key:["sharedAlbumId","threadKey"]},{name:"shared_album_contributions",id:280,primary_key:["sharedAlbumId","sharedAlbumContributionId","threadKey","messageId"]},{name:"shared_albums_multimedia_upload_jobs",id:283,primary_key:["offlineThreadingId"]},{name:"shared_albums_multimedia_upload_subjobs_status",id:284,primary_key:["offlineThreadingId","jobId"]},{name:"thread_point_query_ttrc",id:286,primary_key:["threadKey"]},{name:"business_thread_suggestions",id:290,primary_key:["threadKey","suggestionType"]},{name:"community_chat_admin_assist_command_sequences",id:291,primary_key:["commandSequenceId"]},{name:"community_thread_sync_info",id:294,primary_key:["threadKey"]},{name:"thread_bans",id:297,primary_key:["threadKey","contactId"]},{name:"support_translations",id:300,primary_key:["messageId","targetLocale"]},{name:"threads_optimistic_metadata",id:312,primary_key:["threadKey"]}],[{name:"media_send_jobs",id:51,primary_key:["offlineAttachmentId"]}],[{name:"typing_indicator",id:52,primary_key:["threadKey","senderId"]}],[{name:"server_search_results",id:65,primary_key:["query","resultId","globalIndex"]},{name:"server_search_sections",id:66,primary_key:["query","globalIndex"]},{name:"search_queries",id:67,primary_key:["query","surfaceType"]},{name:"universal_search_recent_searches",id:68,primary_key:["resultId"]},{name:"message_search_results",id:69,primary_key:["type_","query","threadKey","globalIndex"]},{name:"message_search_queries",id:70,primary_key:["type_","query","threadKeyV2"]},{name:"participant_search_queries",id:214,primary_key:["query","threadKey"]}],[{name:"cm_search_nullstate_metadata",id:289,primary_key:["threadKey","scoreType"]}],[{name:"ai_bot_search_metadata",id:298,primary_key:["botId"]}],[{name:"contact_upload_settings",id:74,primary_key:["userid"]},{name:"gdpr_settings",id:75,primary_key:["userid"]},{name:"presence_settings",id:187,primary_key:["userId"]},{name:"persistent_menu_items",id:77,primary_key:["threadKey","ctaId"]},{name:"video_chat_links_joining",id:78,primary_key:["url","optimisticClientToken"],indexes:{optimistic:["optimisticClientToken"]}},{name:"video_chat_links_attempted_joiners",id:79,primary_key:["userId","url"]},{name:"cowatch_sessions",id:80,primary_key:["cowatchSessionId"]},{name:"self_profile",id:81,primary_key:["userId"]},{name:"pinned_threads",id:82,primary_key:["threadKey"],indexes:{pinnedTimestamp:["pinnedTimestamp","threadKey"]}},{name:"messaging_settings",id:83,primary_key:["id"]},{name:"reachability_settings",id:148,primary_key:["audience"]},{name:"feature_limits",id:150,primary_key:["type_"]},{name:"emoji_sets",id:151,primary_key:["categoryIdx","emojiIdx","type_"]},{name:"epd_cookie_settings",id:163,primary_key:[]},{name:"cm_community_list",id:166,primary_key:["communityId"]},{name:"cm_channel_list",id:167,primary_key:["communityId","threadId"],indexes:{threadIdCommunityId:["threadId","communityId"]}},{name:"cm_category_list",id:182,primary_key:["communityId","categoryId"]},{name:"notification_settings",id:175,primary_key:["id"]},{name:"encrypted_backups_status_trigger",id:195,primary_key:["pk"],auto_increment:!0},{name:"fb_events",id:200,primary_key:["eventId"]},{name:"cm_channel_events",id:201,primary_key:["eventId","threadId"],indexes:{eventsInThread:["threadId","eventId"]}},{name:"community_events",id:202,primary_key:["eventId","communityId"]},{name:"avatar_settings",id:209,primary_key:["threadId"]},{name:"thread_labels",id:215,primary_key:["labelId"]},{name:"thread_limits",id:287,primary_key:["threadKey"]},{name:"business_support_case_details",id:222,primary_key:["threadId"]},{name:"messaging_privacy_settings",id:288,primary_key:["userId"]},{name:"rtc_call_events",id:245,primary_key:["pk"],auto_increment:!0},{name:"custom_thread_commands",id:296,primary_key:["threadKey","commandId"]}],[{name:"payment_type_paypal",id:85,primary_key:["paymentCredentialId"]},{name:"payment_type_card",id:86,primary_key:["paymentCredentialId"]},{name:"payment_type_bank_v2",id:88,primary_key:["paymentMethodId"]},{name:"payment_method",id:89,primary_key:["paymentMethodId"]},{name:"new_payment_credential_option",id:90,primary_key:["credentialType"]},{name:"paypal_funding_options",id:91,primary_key:["optionId"]},{name:"payments_eligibility",id:92,primary_key:["userId"]},{name:"payments_ofac_blacklisted_countries",id:93,primary_key:["isoCountryCode"]},{name:"p2m_invoice",id:94,primary_key:["orderId"]},{name:"p2m_invoice_attachment",id:95,primary_key:["orderId","productItemId"]},{name:"payment_price_list_item",id:96,primary_key:["orderId","id"]},{name:"p2m_charge",id:97,primary_key:["orderId"]},{name:"payment_p2p_risk_verification",id:98,primary_key:["requestId","transactionId"]},{name:"payment_transaction_v2",id:99,primary_key:["timestampMs","transactionId"],indexes:{optimistic:["optimisticTransactionId"]}},{name:"p2p_request_v2",id:100,primary_key:["timestampMs","transactionId"],indexes:{optimistic:["optimisticTransactionId"]}},{name:"p2p_transfer_v2",id:101,primary_key:["timestampMs","transactionId"],indexes:{optimistic:["optimisticTransactionId"]}},{name:"transaction_history",id:102,primary_key:["transactionId"]},{name:"payments_transaction_details_core",id:103,primary_key:["transactionId"]},{name:"payments_transaction_details_ctas",id:104,primary_key:["transactionId","ctaId"]},{name:"payments_transaction_details_rows",id:105,primary_key:["transactionId","rowOrder"]},{name:"payment_user_auth",id:106,primary_key:["userId"]},{name:"payment_client_auth_token",id:107,primary_key:["userId","deviceId","appId"]},{name:"payment_auth_request_results",id:108,primary_key:["requestId"]},{name:"payment_server_request_results",id:109,primary_key:["requestId"]},{name:"payment_pin_verification_results",id:113,primary_key:["requestId"]}],[{name:"connectivity_status",id:114,primary_key:["statusId"],auto_increment:!0},{name:"user_visible_network_connectivity_error",id:115,primary_key:["statusId"],auto_increment:!0}],[{name:"thread_themes",id:116,primary_key:["fbid"]},{name:"gradient_colors",id:117,primary_key:["themeFbid","gradientIndex"]}],[{name:"in_thread_banner",id:118,primary_key:["threadKey","bannerId"]},{name:"in_thread_banner_ctas",id:119,primary_key:["bannerId","ctaId"]},{name:"in_thread_banner_overflow_menu",id:120,primary_key:["threadKey","bannerId"]}],[{name:"stickers",id:121,primary_key:["stickerId"],indexes:{stickerPackId:["stickerPackId","stickerId"]}},{name:"sticker_packs",id:122,primary_key:["packId"]},{name:"sticker_search_results",id:123,primary_key:["resultIndex","query","type_"]},{name:"sticker_search_queries",id:124,primary_key:["query"]},{name:"sticker_search_featured_tags",id:125,primary_key:["tagIndex"]},{name:"sticker_to_collection",id:126,primary_key:["stickerId","collectionId"]},{name:"sticker_pack_details",id:127,primary_key:["packId"]},{name:"sticker_store_pack_indices",id:128,primary_key:["packId"]}],[{name:"forward_content",id:129,primary_key:["value","type_"]}],[{name:"linked_groups",id:130,primary_key:["id"],indexes:{threadKey:["threadKey"]}}],[{name:"ranking_scores",id:134,primary_key:["contactId","scoreType"],indexes:{scoreTypeContactId:["scoreType","contactId"]}},{name:"ranking_requests",id:135,primary_key:["scoreType"]},{name:"value_model_rules",id:136,primary_key:["product","ruleIndex"]},{name:"value_model_features",id:137,primary_key:["feature"]},{name:"value_model_output",id:138,primary_key:["product","contactId"]}],[{name:"story_buckets",id:53,primary_key:["bucketId"],indexes:{optimistic:["ownerId","bucketType"]}},{name:"stories",id:54,primary_key:["storyId"],indexes:{optimistic:["optimisticClientId"]}},{name:"story_viewers",id:55,primary_key:["storyId","viewerContactId","interactionType"]},{name:"story_reactions",id:56,primary_key:["reactionId"],indexes:{optimistic:["optimisticClientId"]}},{name:"story_ad_unit",id:57,primary_key:["adPosition","clientToken"]},{name:"story_ad_card",id:58,primary_key:["adPosition","clientToken","cardId"]},{name:"story_ad_ctas",id:59,primary_key:["ctaId"]},{name:"story_overlays",id:60,primary_key:["storyId","storyOverlayId"]},{name:"story_buckets_paginated_queries",id:61,primary_key:["queryId"]},{name:"status",id:62,primary_key:["statusId"],indexes:{optimistic:["optimisticClientId"]}},{name:"rooms",id:63,primary_key:["roomId"],indexes:{optimistic:["optimisticClientToken"]}},{name:"room_participants",id:64,primary_key:["roomId","participantId","type_"],indexes:{optimistic:["roomId","participantId"]}}],[{name:"live_location_sharers",id:149,primary_key:["threadKey","userId"]}],[{name:"mi_act_mapping_table",id:173,primary_key:["serverThreadKey","clientThreadPk","jid"],indexes:{fk_threads:["serverThreadKey"],chat_id:["clientThreadPk"],jid:["jid"]}},{name:"media_staging",id:161,primary_key:["offlineAttachmentId"]},{name:"client_accounts",id:272,primary_key:["pk"]},{name:"client_messages",id:273,primary_key:["pk"]},{name:"client_participants",id:274,primary_key:["pk"]},{name:"client_threads",id:276,primary_key:["pk"]}],[{name:"webact_thread",id:262,primary_key:["chatId"],indexes:{jid:["jid"],thread_order:["threadOrder"],deduplication_key:["deduplicationKey"],authoritative_thread_key:["authoritativeThreadKey"]},auto_increment:!0},{name:"webact_group_info",id:263,primary_key:["groupJid"],indexes:{thread_id:["threadId"],corresponding_open_thread_key:["correspondingOpenThreadKey"]}},{name:"webact_group_invite",id:264,primary_key:["inviterJid","invitedParticipantId"],indexes:{inviter_jid:["inviterJid"]}},{name:"webact_xma",id:265,primary_key:["xmaId"],indexes:{external_id:["externalId"],associated_message_id:["associatedMessageId"],favicon_media_id:["faviconMediaId"],header_media_id:["headerMediaId"],target_expiring_at_sec:["targetExpiringAtSec"],default_preview_media_id:["defaultPreviewMediaId"]}},{name:"webact_tasks",id:266,primary_key:["taskName"]},{name:"webact_sync_keys",id:267,primary_key:["id"],indexes:{key_id:["keyId"],key_epoch:["keyEpoch"]}},{name:"webact_reaction",id:268,primary_key:["rowId"],indexes:{reaction_id:["reactionId"],external_id:["externalId"],react_to_msg_id:["reactToMsgId"],thread_jid:["threadJid"],react_to_external_id:["reactToExternalId"]}},{name:"webact_participant",id:269,primary_key:["id"],indexes:{thread_id:["threadId"],user_jid:["userJid"]}},{name:"webact_device_change_alerts",id:270,primary_key:["deviceChangeAlertsId"]},{name:"webact_dyi_batch",id:271,primary_key:["batchId"]}],[{name:"data_trace_meta",id:153,primary_key:["traceId"],indexes:{shouldFlushInitTimestampMsTraceId:["shouldFlush","initTimestampMs","traceId"]}},{name:"data_trace_addon",id:154,primary_key:["addonId"],indexes:{traceIdAddonId:["traceId","addonId"]},auto_increment:!0}],[{name:"ad_context",id:160,primary_key:["adId"]}],[{name:"thread_proactive_warning_settings",id:183,primary_key:["threadKey"]},{name:"client_thread_proactive_warning_settings",id:241,primary_key:["threadPk"]}],[{name:"presence_states",id:186,primary_key:["contactId"],indexes:{statusContactId:["status","contactId"]}}],[{name:"available_reactions",id:188,primary_key:["emojiIdx"]}],[{name:"pending_backups_context_v2",id:177,primary_key:["pk"],indexes:{fk_pending_tasks:["pendingBackupTaskId"]},auto_increment:!0},{name:"secure_encrypted_backups_client_state",id:168,primary_key:["backupId"]},{name:"encrypted_backups_debug_metadata",id:206,primary_key:["backupId"]},{name:"encrypted_backups_epoch_debug_metadata",id:207,primary_key:["epochId"]},{name:"encrypted_backups_debug_metadata_v2",id:217,primary_key:["backupId"]},{name:"encrypted_backups_epoch_debug_metadata_v2",id:218,primary_key:["epochId"]},{name:"secure_encrypted_backups_epochs",id:169,primary_key:["epochId"],indexes:{fk_secure_encrypted_backups_client_state:["backupId","epochId"]}},{name:"encrypted_backups",id:172,primary_key:["pk"],auto_increment:!0},{name:"secure_encrypted_backups_generated_recovery_code",id:174,primary_key:["pk"]},{name:"secure_encrypted_backups_recovery_code_status",id:178,primary_key:["pk"]},{name:"secure_recovery_code_data",id:179,primary_key:["taskId"],indexes:{fk_pending_tasks:["taskId"]}},{name:"secure_encrypted_backups_message_thread_id_context",id:180,primary_key:["taskId","listId"],indexes:{fk_pending_tasks:["taskId"]}},{name:"encrypted_backups_virtual_devices",id:184,primary_key:["pk"],auto_increment:!0},{name:"encrypted_backups_metadata",id:196,primary_key:["backupId"]},{name:"device_metadata",id:185,primary_key:["pk"]},{name:"encrypted_backup_restore_task_payload_context",id:190,primary_key:["taskId"]},{name:"encrypted_backups_dyi_backup_restore_status",id:208,primary_key:["pk"]},{name:"encrypted_backups_message_backup_status",id:213,primary_key:["messagePk"]},{name:"encrypted_backups_client_restore_status",id:231,primary_key:["threadId"]},{name:"third_party_id_store",id:242,primary_key:["platform"]},{name:"secure_get_secrets_context",id:259,primary_key:["deviceRegistrationId"]},{name:"encrypted_backups_otc_devices",id:261,primary_key:["deviceId"]},{name:"experiences_shared_state",id:282,primary_key:["stateKey"]},{name:"encrypted_backups_otc_notification_sending_status",id:285,primary_key:["pk"]},{name:"pending_protobuf_backups_context",id:305,primary_key:["pk"],auto_increment:!0}],[{name:"secure_encrypted_backups_devices",id:191,primary_key:["deviceId"]},{name:"secure_encrypted_backups_device_supported_versions",id:192,primary_key:["deviceId","supportedVersion"],indexes:{fk_secure_encrypted_backups_device_supported_versions_device_id:["deviceId","supportedVersion"]}}],[{name:"e2ee_dummy_table_for_sync",id:171,primary_key:["placeholder"]},{name:"cutover_threads",id:193,primary_key:["openThreadId"]},{name:"occamadillo_most_recent_message_per_thread",id:292,primary_key:["threadKey"]},{name:"offline_queue_thread_status",id:295,primary_key:["threadJid"]}],[{name:"community_messaging_aggregated_user_presence_counts_for_community",id:203,primary_key:["folderId"]},{name:"community_messaging_aggregated_copresence_counts_for_chat",id:204,primary_key:["threadId"]}],[{name:"workrooms_co_presence_states",id:246,primary_key:["userId"],indexes:{userCoPresence:["userId","coPresenceObjectId"]}}],[{name:"persistent_menu_ctas",id:251,primary_key:["threadKey","ctaId"]}],[{name:"workroom_creation_requests",id:252,primary_key:["creationId"]}],[{name:"pake_messages",id:258,primary_key:["sessionId"]}],[{name:"workroom_invites",id:257,primary_key:["inviteId"]}],[{name:"work_genai",id:293,primary_key:["threadKey","messageId"]}],[{name:"local_message_persistence_store",id:301,primary_key:["pk"],auto_increment:!0},{name:"local_message_persistence_store_supplemental",id:302,primary_key:["pk"],auto_increment:!0},{name:"local_message_persistence_store_deleted_messages",id:303,primary_key:["pk"],auto_increment:!0},{name:"local_message_persistence_store_tag_index",id:304,primary_key:["pk"],auto_increment:!0}],[{name:"secure_acs_configurations",id:307,primary_key:["configId"]},{name:"secure_acs_blinded_tokens",id:308,primary_key:["tokenId"],auto_increment:!0},{name:"secure_acs_tokens",id:309,primary_key:["tokenId"]},{name:"acs_request_context",id:310,primary_key:["taskId"]},{name:"anonymous_task_context",id:311,primary_key:["taskId"]}],[{name:"lightspeed_task_context",id:306,primary_key:["taskId"]}]]}),null);
__d("ReStoreMetadata",["ReStoreDefaultValuesMetadata","ReStoreIndexMetadata"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return function(b){var c={},e={},f=-1;for(var g=0;g<b.length;g++){var h=b[g];for(var h=h,i=Array.isArray(h),j=0,h=i?h:h[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var k,l;if(i){if(j>=h.length)break;l=h[j++]}else{j=h.next();if(j.done)break;l=j.value}l=l;k={autoIncrement:(k=l.auto_increment)!=null?k:!1,cascadeUpdates:(k=a[l.name])!=null?k:[],id:parseInt(l.id,10),indexes:(k=l.indexes)!=null?k:{},name:l.name,primaryKeyIds:l.primary_key};c[k.id]=k;e[k.name]=k;k.id>f&&(f=k.id)}}l={autoIncrement:!1,cascadeUpdates:[],id:++f,indexes:{},name:d("ReStoreIndexMetadata").indicesTableName,primaryKeyIds:["tableName","indexName"]};c[l.id]=l;e[l.name]=l;k={autoIncrement:!1,cascadeUpdates:[],id:++f,indexes:{},name:d("ReStoreDefaultValuesMetadata").defaultValuesTableName,primaryKeyIds:["t"]};c[k.id]=k;e[k.name]=k;j={autoIncrement:!1,cascadeUpdates:[],id:++f,indexes:{},name:d("ReStoreDefaultValuesMetadata").schemaVersionTableName,primaryKeyIds:[]};c[j.id]=j;e[j.name]=j;return{tableIds:c,tableNames:e}}}g.getBuildTableData=a}),98);
__d("LSMetadata",["LSDbForeignKeys","LSDbSchema","LSTableSchemas","ReStoreMetadata"],(function(a,b,c,d,e,f,g){"use strict";var h=d("ReStoreMetadata").getBuildTableData(c("LSDbForeignKeys"));function a(a){var b=a.flat().reduce(function(a,b){return Math.max(a,parseInt(b.id,10))},-1);a=h([].concat(a,[d("LSDbSchema").clientSchema.map(function(a,c){return babelHelpers["extends"]({},a,{id:(b+c+1).toString()})})]));var c=a.tableIds;a=a.tableNames;return{tableIds:c,tableNames:a}}b=a(c("LSTableSchemas"));g.buildTableData=h;g.buildMetadata=a;g.metadata=b}),98);/*FB_PKG_DELIM*/
__d("IGDSLocationFilledIcon",["IGDSLocationPanoFilledIcon","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsx(c("IGDSLocationPanoFilledIcon"),babelHelpers["extends"]({},a))}a.displayName=a.name+" [from "+f.id+"]";b=i.memo(a);g["default"]=b}),98);
__d("PolarisPostActionRemovePostFromCollection",["InstagramODS","PolarisAPIEditCollection"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.collectionId,e=a.postId;return function(a){a({collectionId:b,postId:e,type:"REMOVE_POST_FROM_COLLECTION_REQUESTED"});c("InstagramODS").incr("web.unsaveFromCollection.attempt");return d("PolarisAPIEditCollection").editCollection({collectionId:b,postIdsToRemove:[e]}).then(function(){a({collectionId:b,postId:e,type:"REMOVE_POST_FROM_COLLECTION_SUCCEEDED"}),c("InstagramODS").incr("web.unsaveFromCollection.success")})["catch"](function(){a({collectionId:b,postId:e,type:"REMOVE_POST_FROM_COLLECTION_FAILED"}),c("InstagramODS").incr("web.unsaveFromCollection.failure")})}}g.removePostFromCollection=a}),98);
__d("usePolarisMediaSaveToCollectionReduxHandler",["PolarisPostActionAddPostToCollection","PolarisPostActionRemovePostFromCollection","PolarisReactRedux","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useCallback;function a(a){var b=d("PolarisReactRedux").useDispatch();return i(function(c,e){c?b(d("PolarisPostActionRemovePostFromCollection").removePostFromCollection({collectionId:e,postId:a})):b(d("PolarisPostActionAddPostToCollection").addPostToCollection({collectionId:e,postIds:[a]}))},[a,b])}g["default"]=a}),98);
__d("PolarisSponsoredPostCTAFooter.react",["InstagramODS","PolarisClickEventLoggerProvider.react","PolarisPostFooterCTA.react","PolarisPostUtils","PolarisTrackingNodeProvider.react","polarisAdsSelectors","react","usePolarisSponsoredPostCTAFooterDominantColor"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.isMediaRendered,e=a.post;a=a.sidecarIndex;var f=d("polarisAdsSelectors").useFeedAdInfo(e.id,function(a){return a}),g=e.isSidecar;a=g===!0?(g=d("PolarisPostUtils").getCurrentSidecarItemFromPost(e,a))==null?void 0:g.id:e.id;g=c("usePolarisSponsoredPostCTAFooterDominantColor")({isMediaRendered:b,mediaId:a,post:e});b=g.ctaDominantColor;e=g.ctaFooterViewpointRef;if(a==null)return null;g=f==null?void 0:(g=f.ctaItems)==null?void 0:(g=g.get(a))==null?void 0:g.ctaLinkUrl;a=f==null?void 0:(f=f.ctaItems)==null?void 0:(f=f.get(a))==null?void 0:f.ctaLinkText;f=function(){c("InstagramODS").incr("web.ads.feed.link_click")};return g!=null&&a!=null?i.jsx(c("PolarisClickEventLoggerProvider.react"),{children:i.jsx(c("PolarisTrackingNodeProvider.react"),{trackingNode:86,children:i.jsx("div",{ref:e,children:i.jsx(c("PolarisPostFooterCTA.react"),{ctaDominantColor:b,"data-testid":void 0,disableAnimation:!1,externalURL:g,forceBottomBorder:!0,isActive:!0,isForAd:!0,onClick:f,showChevron:!0,text:a})})})}):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisAPILikePost",["PolarisInstapi"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return d("PolarisInstapi").apiPost("/api/v1/web/likes/{media_id}/like/",{path:{media_id:a}})}g.likePost=a}),98);
__d("PolarisPostActionLikePost",["PolarisAPILikePost","PolarisAdsEngagementLogger","PolarisEngagementLogger","PolarisGenericStrings","PolarisLogger","PolarisSentryFeedbackActions","PolarisToastActions"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b,c){return function(e){d("PolarisLogger").logAction("likeAttempt",b);e({postId:a,type:"LIKE_POST_REQUESTED"});return d("PolarisAPILikePost").likePost(a).then(function(){c!=null?d("PolarisAdsEngagementLogger").logAdLike(b,c):d("PolarisEngagementLogger").logOrganicLike(b),e({postId:a,type:"LIKE_POST_SUCCEEDED"})},function(c){var f;d("PolarisLogger").logAction("likeFailure",b);f=((f=c.responseObject)==null?void 0:f.spam)||!1;if(f){var g,i;f=(f=c.responseObject)==null?void 0:f.feedback_title;g=(g=c.responseObject)==null?void 0:g.feedback_message;i=(i=c.responseObject)==null?void 0:i.feedback_url;c=(c=c.responseObject)==null?void 0:c.feedback_action;e(d("PolarisSentryFeedbackActions").showSentryFeedback({action:c,message:g,source:b.source,sourceOfAction:"like_post",title:f,url:i}))}e({postId:a,type:"LIKE_POST_FAILED"});e(d("PolarisToastActions").showToast({actionHandler:function(){return e(h(a,b))},actionText:d("PolarisGenericStrings").RETRY_TEXT,text:d("PolarisGenericStrings").GENERIC_ERROR_MESSAGE}))})}}g.likePost=h}),98);
__d("PolarisAPISavePost",["PolarisInstapi"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return d("PolarisInstapi").apiPost("/api/v1/web/save/{media_id}/save/",{path:{media_id:a}})}g.savePost=a}),98);
__d("PolarisPostActionSavePost",["PolarisAPISavePost","PolarisAdsEngagementLogger","PolarisLogger"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c){return function(e){d("PolarisLogger").logAction("saveAttempt",b);e({postId:a,type:"SAVE_POST_REQUESTED"});return d("PolarisAPISavePost").savePost(a).then(function(){d("PolarisLogger").logAction("saveSuccess",b),e({postId:a,type:"SAVE_POST_SUCCEEDED"}),c!=null&&d("PolarisAdsEngagementLogger").logAdSave(c)},function(){d("PolarisLogger").logAction("saveFailure",b),e({postId:a,type:"SAVE_POST_FAILED"})})}}g.savePost=a}),98);
__d("PolarisAPIUnlikePost",["PolarisInstapi"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return d("PolarisInstapi").apiPost("/api/v1/web/likes/{media_id}/unlike/",{path:{media_id:a}})}g.unlikePost=a}),98);
__d("PolarisPostActionUnlikePost",["PolarisAPIUnlikePost","PolarisAdsEngagementLogger","PolarisEngagementLogger","PolarisGenericStrings","PolarisLogger","PolarisSentryFeedbackActions","PolarisToastActions"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b,c){return function(e){d("PolarisLogger").logAction("unlikeAttempt",b);e({postId:a,type:"UNLIKE_POST_REQUESTED"});return d("PolarisAPIUnlikePost").unlikePost(a).then(function(){c!=null?d("PolarisAdsEngagementLogger").logAdUnlike(b,c):d("PolarisEngagementLogger").logOrganicUnlike(b),e({postId:a,type:"UNLIKE_POST_SUCCEEDED"})},function(c){var f;f=((f=c.responseObject)==null?void 0:f.spam)||!1;if(f){var g,i;f=(f=c.responseObject)==null?void 0:f.feedback_title;g=(g=c.responseObject)==null?void 0:g.feedback_message;i=(i=c.responseObject)==null?void 0:i.feedback_url;c=(c=c.responseObject)==null?void 0:c.feedback_action;e(d("PolarisSentryFeedbackActions").showSentryFeedback({action:c,message:g,source:b.source,sourceOfAction:"unlike_post",title:f,url:i}))}d("PolarisLogger").logAction("unlikeFailure",b);e({postId:a,type:"UNLIKE_POST_FAILED"});e(d("PolarisToastActions").showToast({actionHandler:function(){return e(h(a,b))},actionText:d("PolarisGenericStrings").RETRY_TEXT,text:d("PolarisGenericStrings").GENERIC_ERROR_MESSAGE}))})}}g.unlikePost=h}),98);
__d("PolarisAPIUnsavePost",["PolarisInstapi"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return d("PolarisInstapi").apiPost("/api/v1/web/save/{media_id}/unsave/",{path:{media_id:a}})}g.unsavePost=a}),98);
__d("PolarisPostActionUnsavePost",["PolarisAPIUnsavePost","PolarisAdsEngagementLogger","PolarisLogger"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c){return function(e){d("PolarisLogger").logAction("unsaveAttempt",b);e({postId:a,type:"UNSAVE_POST_REQUESTED"});return d("PolarisAPIUnsavePost").unsavePost(a).then(function(){d("PolarisLogger").logAction("unsaveSuccess",b),e({postId:a,type:"UNSAVE_POST_SUCCEEDED"}),c!=null&&d("PolarisAdsEngagementLogger").logAdUnsave(c)},function(){d("PolarisLogger").logAction("unsaveFailure",b),e({postId:a,type:"UNSAVE_POST_FAILED"})})}}g.unsavePost=a}),98);
__d("PolarisPostFeatures",["FBLogger","PolarisPostConstants","PolarisPostModalRenderingContext","PolarisPostVariants","PolarisReactRedux","PolarisRelationshipTypes","PolarisUA","polarisRelationshipSelectors","usePolarisDisplayProperties","usePolarisViewer"],(function(a,b,c,d,e,f,g){"use strict";var h=[{overrides:{threeLineHeaderEnabled:!0},predicate:"isThreeLineHeaderEnabled"},{overrides:{avatarSize:(b=d("PolarisPostConstants")).AVATAR_SIZE_SMALL,commentsAreStacked:!0},predicate:"isFeed"},{overrides:{avatarSize:b.AVATAR_SIZE_SMALL,commentsAreStacked:!0},predicate:"isWidePhotoOnMediumScreen"},{overrides:{avatarSize:b.AVATAR_SIZE_SMALL,hasThreadedSidebarComments:!0,showPostButton:!0},predicate:"isRichCommentsEnabled"},{overrides:{avatarSize:b.AVATAR_SIZE_SMALL,commentsAreStacked:!0,hasThreadedSidebarComments:!1,showPostButton:!0},predicate:"isStackedScreenSize"},{overrides:{hasPhotosOfYouOption:!0},predicate:"isViewerInUserTags"},{overrides:{showFollowButton:!1},predicate:"isFeedAndOwnerFollowedByViewer"},{overrides:{showFollowButton:!1},predicate:"isModalAndOwnerFollowedByViewer"},{overrides:{canViewerProvideFeedback:!1},predicate:"isOwnerPrivate"},{overrides:{canViewerProvideFeedback:!0},predicate:"isOwnerFollowedByViewer"},{overrides:{canViewerProvideFeedback:!0,showFollowButton:!1},predicate:"isOwnerTheViewer"},{overrides:{showFollowButton:!1},predicate:"isOwnerUnpublished"},{overrides:{showFollowButton:!1},predicate:"isBlocked"},{overrides:{showFollowButton:!1},predicate:"hasFollowHashtagInfo"},{overrides:{canViewerProvideFeedback:!1},predicate:"isLoggedOut"}],i={avatarSize:b.AVATAR_SIZE_LARGE,canViewerProvideFeedback:!0,commentsAreStacked:!1,hasPhotosOfYouOption:!1,hasThreadedSidebarComments:!1,showFollowButton:!0,showPostButton:!1,threeLineHeaderEnabled:!1};function j(a){var b=a.isInModal,c=a.owner,e=a.post,f=a.relationship,g=a.variant,h=a.viewer;a=a.viewportWidth;g=g===d("PolarisPostVariants").VARIANTS.feed;var i=Boolean(h),j=!h,k=(h==null?void 0:h.id)===c.id,l=f.followedByViewer.state===d("PolarisRelationshipTypes").FOLLOW_STATUS_FOLLOWING,m=Boolean(e.followHashtagInfo),n=Boolean(e.location)&&(e.sponsors||[]).length>0;return{hasFollowHashtagInfo:m,isBlocked:f.hasBlockedViewer.state===d("PolarisRelationshipTypes").BLOCK_STATUS_BLOCKED,isFavorited:((m=f.favoritedByViewer)==null?void 0:m.state)===d("PolarisRelationshipTypes").FAVORITE_STATUS_FAVORITED,isFeed:g,isFeedAndOwnerFollowedByViewer:g&&l,isLoggedIn:i,isLoggedOut:j,isModalAndOwnerFollowedByViewer:b&&l,isOwnerFollowedByViewer:l,isOwnerPrivate:Boolean(c.isPrivate),isOwnerTheViewer:k,isOwnerUnpublished:Boolean(c.isUnpublished),isRichCommentsEnabled:!0,isSidecar:(e.sidecarChildren||[]).length>0,isStackedScreenSize:a<d("PolarisPostConstants").SIDEBAR_VARIANT_CUTOFF,isThreeLineHeaderEnabled:n,isViewerInUserTags:i&&(e.usertags||[]).some(function(a){return a.user.id===(h==null?void 0:h.id)}),isWidePhotoOnMediumScreen:Boolean(e.dimensions&&e.dimensions.width/e.dimensions.height>1.5&&a>d("PolarisPostConstants").SIDEBAR_VARIANT_CUTOFF&&a<=d("PolarisPostConstants").MEDIUM_SCREEN_MAX)}}function k(a){var b=j(a);a=b.isBlocked;var d=b.isFavorited,e=b.isLoggedIn,f=b.isSidecar,g=b.isStackedScreenSize;return babelHelpers["extends"]({isBlocked:a,isFavorited:d,isLoggedIn:e,isSidecar:f,isStackedScreenSize:g},h.filter(function(a){a=a.predicate;var d=b[a];if(typeof d!=="boolean")throw c("FBLogger")("instagram_web").mustfixThrow("Could not find predicate %s",a);return d}).reduce(function(a,b){b=b.overrides;return babelHelpers["extends"]({},a,b)},i))}function a(a){var b=a.owner,e=a.path,f=a.post;a=a.variant;var g=d("PolarisReactRedux").useSelector(function(a){return d("polarisRelationshipSelectors").getRelationship(a.relationships,b.id)}),h=c("usePolarisViewer")(),i=c("usePolarisDisplayProperties")(),j=i.viewportHeight;i=i.viewportWidth;var l=d("PolarisPostModalRenderingContext").usePolarisPostModalRenderingContext();l=l.isInModal;l={isInModal:l,isMobile:d("PolarisUA").isMobile(),owner:b,path:e,post:f,relationship:g,variant:a,viewer:h,viewportHeight:j,viewportWidth:i};return k(l)}g.getPostFeatures=k;g.usePolarisPostFeatures=a}),98);
__d("PolarisVideoViewedTimeAction",["convertToViewabilityPercentage","gkx","memoizeStringOnly","polarisVideoEventLogger","polarisVideoUtils"],(function(a,b,c,d,e,f,g){"use strict";var h=c("memoizeStringOnly")(function(a){return new Map()}),i=c("memoizeStringOnly")(function(a){return new Map()}),j=c("memoizeStringOnly")(function(){return new Map()});function k(a){a=a.video;var b=a.getDeclarativeVideoRef();return{lastStartPosition:(b=b==null?void 0:b.getCurrentTime())!=null?b:0,loopCount:a.getLoopCount()}}function l(a){var b=a.adTrackingToken,c=a.context,e=a.initialData,f=a.post;a=a.video;var g=a.getDeclarativeVideoRef();return{adTrackingToken:b,analyticsContext:c,carouselParentId:f.carouselParentId,currentVideoTime:d("polarisVideoUtils").getCurrentVideoTime(g),dashInfo:d("polarisVideoUtils").getDashInfo(f),duration:g==null?void 0:g.getDuration(),id:f.id,isAd:!0,lastStartPosition:e.lastStartPosition,loopCount:a.getLoopCount()-e.loopCount,ownerId:(b=f.owner)==null?void 0:b.id,postedAt:f.postedAt,sequenceNumber:a.getNextSequenceNumber(),timeAtVideoPause:d("polarisVideoUtils").getTimeAtVideoPause(g),trackingToken:f.trackingToken,videoWidth:g==null?void 0:(c=g.getVideo())==null?void 0:c.videoWidth}}function a(a,b,e,f){return function(g){if(b.current==null)return;var m=b.current,n=h(e),o=i(e),p=a.id;g.percentVisible>=.5&&!n.has(p)&&n.set(p,k({video:m}));g.percentVisible>=1&&!o.has(p)&&o.set(p,k({video:m}));var q=n.get(p);q!=null&&g.percentVisible<.5&&(n["delete"](p),d("polarisVideoEventLogger").logVideoViewedTime(l({adTrackingToken:f,context:e,initialData:q,post:a,video:m})));n=o.get(p);n&&g.percentVisible<1&&(o["delete"](p),d("polarisVideoEventLogger").logVideoFullViewedTime(l({adTrackingToken:f,context:e,initialData:n,post:a,video:m})));if(!c("gkx")("464"))return;q=j(e);o=q.get(p);n=c("convertToViewabilityPercentage")(g.percentVisible);g=m.getDeclarativeVideoRef();if(n!==o){q.set(p,n);d("polarisVideoEventLogger").logVideoViewabilityChanged({adTrackingToken:f,analyticsContext:e,carouselParentId:a.carouselParentId,currentVideoTime:d("polarisVideoUtils").getCurrentVideoTime(g),currentViewabilityPercentage:n,dashInfo:d("polarisVideoUtils").getDashInfo(a),duration:g==null?void 0:g.getDuration(),id:a.id,isAd:!0,ownerId:(o=a.owner)==null?void 0:o.id,sequenceNumber:m.getNextSequenceNumber(),trackingToken:a.trackingToken})}}}g.makeVideoViewTimeAction=a}),98);
__d("PolarisAsyncLikedByListContainer",["cr:2693"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:2693")}),98);
__d("PolarisEmbedHashHelpers",["memoize"],(function(a,b,c,d,e,f,g){"use strict";a=c("memoize")(function(){var a=window.location.hash;a=decodeURIComponent(a.substring(a.indexOf("#")+1));try{a=JSON.parse(a)}catch(b){a={}}return{clientId:a.ci,offset:a.os,sdkLoadEnd:a.le,sdkLoadStart:a.ls}});g.getHashPayload=a}),98);
__d("polarisGetEmbedRequestID",["nullthrows"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=c("nullthrows")(document.querySelector(".Embed"));return a.getAttribute("data-request-id")}g["default"]=a}),98);
__d("PolarisEmbedLogger",["PolarisEmbedHashHelpers","PolarisLogger","PolarisLoggerUtils","PolarisPigeonLogger","PolarisQueryParamsHelper","gkx","polarisGetEmbedRequestID"],(function(a,b,c,d,e,f,g){"use strict";function h(a){a=d("PolarisLoggerUtils").trimAndSanitizeUrl(a||window.location.href);var b=c("polarisGetEmbedRequestID")();return b!=null?d("PolarisQueryParamsHelper").appendQueryParams(a,{ig_rid:b}):a}function a(a,b,e){if(!c("gkx")("4952"))return;var f=d("PolarisLogger").getExtra(),g=f.url;f=babelHelpers.objectWithoutPropertiesLoose(f,["url"]);a=babelHelpers["extends"]({client_id:d("PolarisEmbedHashHelpers").getHashPayload().clientId,event_name:a.actionName,is_copyright_blocked:a.isCopyrightBlocked,media_id:a.mediaId,media_type:a.mediaType,owner_id:a.ownerId===""?null:a.ownerId},f);f=babelHelpers["extends"]({obj_id:h(g),obj_type:"url"},e);d("PolarisLogger").logPigeonEvent(d("PolarisPigeonLogger").createEvent("instagram_web_embeds",a,f),b)}function i(a,b,c){var e=d("PolarisLogger").getAnonymousExtra(),f=e.url;e=babelHelpers.objectWithoutPropertiesLoose(e,["url"]);a=babelHelpers["extends"]({client_id:d("PolarisEmbedHashHelpers").getHashPayload().clientId,event_name:a.actionName,is_copyright_blocked:a.isCopyrightBlocked,media_id:a.mediaId,media_type:a.mediaType,owner_id:a.ownerId===""?null:a.ownerId},e);e=babelHelpers["extends"]({obj_id:h(f),obj_type:"url"},c);d("PolarisLogger").logPigeonEvent(d("PolarisPigeonLogger").createEvent("instagram_web_embeds_anonymous",a,e),b)}function b(a){var b=a.isCopyrightBlocked,c=a.mediaId,d=a.mediaType;a=a.ownerId;i({actionName:"view",isCopyrightBlocked:b,mediaId:c,mediaType:d,ownerId:a})}function e(a,b,e){if(!c("gkx")("4952"))return;a=d("PolarisLogger").getExtra(a);var f=a.url;a=babelHelpers.objectWithoutPropertiesLoose(a,["url"]);a=babelHelpers["extends"]({client_id:d("PolarisEmbedHashHelpers").getHashPayload().clientId,parent_url:window.document.referrer},a);f=babelHelpers["extends"]({obj_id:h(f),obj_type:"url"},e);d("PolarisLogger").logPigeonEvent(d("PolarisPigeonLogger").createEvent("instagram_web_embed_perf_events",a,f),b)}g.logEmbedAction=a;g.logEmbedPageView=b;g.logEmbedTimings=e}),98);
__d("PolarisEmbedVideoWatchAgain.react",["cx","fbt","PolarisEmbedLogger","PolarisFastLink.react","PolarisLinkBuilder","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||d("react"),l=i._("__JHASH__WT4Q1op-CT7__JHASH__"),m=i._("__JHASH__IQuGN-11QOS__JHASH__"),n="https://www.instagram.com";function o(a){var b=a.className,d=a.href;a=a.onClick;return k.jsx(c("PolarisFastLink.react"),{"aria-label":l,className:b,href:d,onClick:a,target:"_blank"})}o.displayName=o.name+" [from "+f.id+"]";function a(a){var b=a.post;a=b.code;a=a!=null&&a.length>0?d("PolarisLinkBuilder").buildMediaLink(a):"";var e="utm_source=ig_embed&utm_campaign=embed_video_watch_again";a=""+n+a+"?"+e;e=function(){var a;d("PolarisEmbedLogger").logEmbedAction({actionName:"videoWatchAgainClick",mediaId:b.id,mediaType:"video",ownerId:((a=b.owner)==null?void 0:a.id)||""})};return k.jsxs(k.Fragment,{children:[k.jsx("div",{className:"_aar9",children:k.jsxs("div",{className:"_aara",children:[k.jsx(c("PolarisFastLink.react"),{"aria-label":m,className:"_aarb _9zwu",href:a,onClick:e,target:"_blank"}),k.jsx(c("PolarisFastLink.react"),{"aria-label":m,className:"_aarc",href:a,onClick:e,target:"_blank",children:m})]})}),k.jsx(o,{className:"_aard",href:a,onClick:e})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisVideoHeight",["PolarisSizing"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c,e){Object.assign(e,{height:"100%",position:"absolute",width:"100%"});var f=null;a.dimensions!=null&&(f=d("PolarisSizing").getHeightPercent(a.dimensions));f!=null&&f!==100&&(b&&(f=Math.min(f,d("PolarisSizing").CAPPED_HEIGHT_PERCENT)),Object.assign(c,{paddingBottom:"calc("+f+"% - 1px)"}),Object.assign(e,{height:"calc(100% + 1px)"}))}g.setVideoHeightCompensation=a}),98);
__d("PolarisEmbedVideo.react",["cx","PolarisEmbedLogger","PolarisEmbedVideoWatchAgain.react","PolarisUserTagIndicatorWithSheet.react","PolarisVideoHeight","PolarisVideoPlayButton.react","Run","joinClasses","keyMirror","nullthrows","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k="video/mp4",l=c("keyMirror")({finished:null,paused:null,playing:null}),m="embedVideo";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var c;c=a.call(this,b)||this;c.$1=j.createRef();c.$2=!1;c.$3=null;c.handleVisiblityChange=function(){c.state.playerState!=null&&document.visibilityState&&document.visibilityState==="hidden"&&c.stop()};c.handleBeforeUnload=function(){c.state.playerState===l.playing&&c.stop()};c.handlePlayerPlayEvent=function(){c.setState({playerState:l.playing})};c.handlePlayerPauseEvent=function(){c.pause()};c.handlePlayerEndedEvent=function(){c.stop()};c.handleContainerClick=function(a){c.state.playerState!==l.playing?c.play():c.pause()};b={playerState:null};c.state=b;return c}var e=b.prototype;e.componentDidMount=function(){document.addEventListener("visibilitychange",this.handleVisiblityChange);this.$3=d("Run").onBeforeUnload(this.handleBeforeUnload);var a=c("nullthrows")(this.$1.current);a.addEventListener("play",this.handlePlayerPlayEvent);a.addEventListener("pause",this.handlePlayerPauseEvent);a.addEventListener("ended",this.handlePlayerEndedEvent)};e.componentDidUpdate=function(a){this.props.isVisible===!1&&a.isVisible===!0&&this.pause()};e.componentWillUnmount=function(){this.handleBeforeUnload();document.removeEventListener("visibilitychange",this.handleVisiblityChange);this.$3!=null&&(this.$3.remove(),this.$3=null);var a=c("nullthrows")(this.$1.current);a.removeEventListener("play",this.handlePlayerPlayEvent);a.removeEventListener("pause",this.handlePlayerPauseEvent);a.removeEventListener("ended",this.handlePlayerEndedEvent)};e.play=function(){if(this.state.playerState===l.playing)return;if(this.$2===!1){var a;d("PolarisEmbedLogger").logEmbedAction({actionName:"videoFirstPlayClick",mediaId:this.props.post.id,mediaType:"video",ownerId:((a=this.props.post.owner)==null?void 0:a.id)||""});this.$2=!0}c("nullthrows")(this.$1.current).play()};e.pause=function(){if(this.state.playerState!==l.playing)return;c("nullthrows")(this.$1.current).pause();this.setState({playerState:l.paused})};e.stop=function(){if(this.state.playerState===l.finished)return;var a=c("nullthrows")(this.$1.current);a.pause();a.currentTime=0;this.setState({playerState:l.finished})};e.render=function(){var a=this.props,b=a.className;a=a.post;var e=this.state.playerState,f={},g={};d("PolarisVideoHeight").setVideoHeightCompensation(a,!0,f,g);var h=e===l.finished;e=!e||e===l.paused;return j.jsxs("div",{className:c("joinClasses")(b,"_aand"),style:f,children:[j.jsx("div",{style:g,children:j.jsx("video",{className:"_aane",controls:!1,controlsList:void 0,loop:!1,playsInline:!0,poster:a.src,preload:"none",ref:this.$1,src:a.videoUrl,type:k})}),h?j.jsx(c("PolarisEmbedVideoWatchAgain.react"),{post:a}):j.jsx(c("PolarisVideoPlayButton.react"),{onClick:this.handleContainerClick,showPlayButton:e}),a.usertags&&a.usertags.length>=1&&j.jsx(c("PolarisUserTagIndicatorWithSheet.react"),{analyticsContext:m,mediaId:a.id,post:a,usertags:a.usertags})]})};return b}(j.Component);g["default"]=a}),98);
__d("PolarisPhotoWrapper.react",["InstagramODS","PolarisClickEventLoggerProvider.react","PolarisExternalLink.react","PolarisSponsoredPostContext.react","PolarisTrackingNodeProvider.react","PolarisUA","polarisAdsSelectors","react","usePolarisOffsiteTrackingDataURLParams"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useContext;function k(a){var b=a.children,d=a.externalURL;a=a.wrappedRef;var e=function(){c("InstagramODS").incr("web.ads.feed.link_click")};return i.jsx(c("PolarisClickEventLoggerProvider.react"),{ignoreDoubleClick:!0,children:i.jsx(c("PolarisTrackingNodeProvider.react"),{trackingNode:86,children:i.jsx("div",{ref:a,children:i.jsx(c("PolarisExternalLink.react"),{className:"x4gyw5p",href:d,ignoreDoubleClick:!0,onClick:e,queryParams:c("usePolarisOffsiteTrackingDataURLParams")(d),children:b})})})})}k.displayName=k.name+" [from "+f.id+"]";function a(a,b){var e=a.children;a=a.postId;var f=d("polarisAdsSelectors").useFeedAdInfo(a,function(a){return a}),g=j(d("PolarisSponsoredPostContext.react").PolarisSponsoredPostContext),h=g.carouselImagesAsCta;g=g.singleImageAdAsCta;h=h||g;g=f==null?void 0:(g=f.ctaItems)==null?void 0:(f=g.get(a))==null?void 0:f.ctaLinkUrl;return g!=null&&h&&d("PolarisUA").isDesktop()?i.jsx(c("PolarisTrackingNodeProvider.react"),{trackingNode:12,children:i.jsx("div",{children:i.jsx(k,{externalURL:g,wrappedRef:b,children:e})})}):i.jsx("div",{ref:b,children:e})}a.displayName=a.name+" [from "+f.id+"]";b=i.forwardRef(a);g["default"]=b}),98);
__d("PolarisMedia.react",["PolarisDoubleTappable","PolarisEmbedVideo.react","PolarisFeedSeenStateManagerSingleton","PolarisIGCoreToast","PolarisIsLoggedInDesktop","PolarisLikeAnimation","PolarisMediaVideo.react","PolarisPhoto.react","PolarisPhotoWithIndicator.react","PolarisPhotoWrapper.react","PolarisSensitivityOverlay.react","PolarisSidecarMedia.react","PolarisVideoViewedTimeAction","PolarisViewpointReact.react","nullthrows","polarisVideoUtils","polarisWithRemountOnChange","react","usePolarisMediaSensitivityOverlay"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useState;function a(a){var b=j(!1),e=b[0],f=b[1];b=j(!1);var g=b[0],h=b[1];b=j(0);var k=b[0],l=b[1],m=c("PolarisFeedSeenStateManagerSingleton").get();b=function(){a.onLike&&(a.onLike(),l(k+1))};var n=function(){f(!0)},o=function(){f(!1)},p=function(c,d){var e=a.onMediaRendered,b=a.post;if(b.isVideo===!0)return;e&&e({mediaType:"Photo",resourceName:c,timeTaken:d})},q=function(a){switch(a.state){case"entered":case"updated":a=a.percentVisible>.2;g!==a&&h(a);break;case"exited":h(!1)}},r=function(b,c){if(b===!0&&a.autoplay===!0){if(d("polarisVideoUtils").isFeed(a.analyticsContext))return!1;if(c===0&&d("PolarisIsLoggedInDesktop").isLoggedInDesktop())return!0}return!1},s=a.adInfo,t=a.analyticsContext,u=a.asSidecarChild,v=a.autoplay;a.checkIsSensitivityOverlayDisabledCallback;var w=a.commentsAreStacked,x=a.firstSidecarChildSrc;a.hasViewInsights;var y=a.id;a.initialCarouselIndex;var z=a.isEmbed,A=a.isVisible,B=a.mediaFooter;a.onLike;a.onMediaRendered;var C=a.onSensitivityOverlayCleared;a.onSetModal;var D=a.onSidecarChildIndexChange,E=a.onToastClose,F=a.onVideoFinished,G=a.onVideoLoop,H=a.post,I=a.relationship,J=a.sensitivityOverlayMediaOverlayInfoLoggingProps,aa=a.showToast,K=a.toastString,ba=a.viewer,ca=a.visiblePosition,L=babelHelpers.objectWithoutPropertiesLoose(a,["adInfo","analyticsContext","asSidecarChild","autoplay","checkIsSensitivityOverlayDisabledCallback","commentsAreStacked","firstSidecarChildSrc","hasViewInsights","id","initialCarouselIndex","isEmbed","isVisible","mediaFooter","onLike","onMediaRendered","onSensitivityOverlayCleared","onSetModal","onSidecarChildIndexChange","onToastClose","onVideoFinished","onVideoLoop","post","relationship","sensitivityOverlayMediaOverlayInfoLoggingProps","showToast","toastString","viewer","visiblePosition"]),M=H||{},N=M.dimensions,da=M.displayResources,O=M.upcomingEvent,P=M.id,Q=M.isVideo;Q=Q===void 0?!1:Q;var R=M.mediaPreview,S=M.owner,T=M.sidecarChildren;T=T===void 0?[]:T;var U=M.src;M=M.usertags;var V=T&&T.length>0,W=[];!V&&d("polarisVideoUtils").isFeed(t)&&W.push(function(a){m.addImpressionFromPost(H,a)});var X=!1;C=c("usePolarisMediaSensitivityOverlay")(H,t,C,a.checkIsSensitivityOverlayDisabledCallback);var ea=C.handleHideSensitivityOverlay,Y=C.mediaOverlayCoverInfo;C=C.shouldShowSensitivityOverlay;if(S&&C){C=J||{};J=C.checkIfMediaOverlayInfoImpressionLoggingDisabled;C=C.onLoggedMediaOverlayInfoImpression;J=i.jsx(c("PolarisSensitivityOverlay.react"),{analyticsContext:t,asSidecarChild:u,dimensions:N,disableMediaOverlayInfoImpressionLogging:J!=null?J(P):!1,isPhoto:!Q&&!V,isVisible:A,mediaId:P,mediaOverlayCoverInfo:Y,onLoggedMediaOverlayInfoImpression:C,onShowPostClicked:function(){return ea(H)},ownerId:S.id,previewData:R})}else if(V){if(w===!0)X=!0,Y=a;else{a.mediaFooter;C=babelHelpers.objectWithoutPropertiesLoose(a,["mediaFooter"]);Y=C}J=i.jsx(c("PolarisSidecarMedia.react"),babelHelpers["extends"]({},Y,{onChildIndexChange:D,sidecarChildren:T}))}else if(Q){var Z=g;S=[q];R=i.createRef();s!=null&&s.tracking_token!=null&&S.push(d("PolarisVideoViewedTimeAction").makeVideoViewTimeAction(a.post,R,t,s.tracking_token));J=i.jsx(d("PolarisViewpointReact.react").Viewpoint,{action:[].concat(S,W),id:H.id,children:function(b){return i.jsxs("div",{ref:b,children:[z===!0?i.jsx(c("PolarisEmbedVideo.react"),{className:a.className,isVisible:Z,post:H}):i.jsx(c("PolarisMediaVideo.react"),{adInfo:s,analyticsContext:t,asSidecarChild:u,autoplay:v,className:a.className,firstSidecarChildSrc:x,isVisible:Z,onFinished:F,onLoop:G,post:H,relationship:I,shouldAutoPlay:r(Z,ca),upcomingEventMediaId:y}),aa===!0&&K!=null&&i.jsx(c("PolarisIGCoreToast"),{absolutePosition:!0,duration:3e3,onClose:E,wide:!0,children:K})]})}})}else if(a.post.productType==="text_post")J=i.jsxs(d("PolarisDoubleTappable").DoubleTappable,{onBlur:o,onDoubleClick:b,onFocus:n,role:"button",children:[i.jsx("h1",{style:{fontSize:"20px;",textAlign:"center"},children:a.post.caption}),i.jsx(c("PolarisLikeAnimation"),{likeEventCount:k},k)]});else{V={dimensions:N,likeEventCount:k,onPhotoRendered:p,postId:P,src:c("nullthrows")(U),srcSet:da};var $;M&&M.length>0||O?$=i.jsx(d("PolarisPhotoWithIndicator.react").PhotoWithIndicator,babelHelpers["extends"]({},L,V,{analyticsContext:t,isFocused:e,isVisible:A,upcomingEvent:O,upcomingEventMediaId:y,upcomingEventThumbnailSrc:c("nullthrows")(u===!0?x:U),usertags:M,viewer:ba})):$=i.jsx(c("PolarisPhoto.react"),babelHelpers["extends"]({},L,V,{analyticsContext:t}));w=[].concat(W);C=i.jsx(d("PolarisViewpointReact.react").Viewpoint,{action:w,id:H.id,children:function(a){return i.jsx(c("PolarisPhotoWrapper.react"),{postId:H.id,ref:a,children:$})}});J=i.jsxs(d("PolarisDoubleTappable").DoubleTappable,{onBlur:o,onDoubleClick:b,onFocus:n,role:"button",children:[C,i.jsx(c("PolarisLikeAnimation"),{likeEventCount:k},k)]})}B!=null&&!X&&(J=i.jsxs(i.Fragment,{children:[J,B]}));return J}a.displayName=a.name+" [from "+f.id+"]";function b(a,b){return a.id!==b.id}e=c("polarisWithRemountOnChange")(b)(a);g["default"]=e}),98);
__d("PolarisSidecarChild.react",["IGDSBox.react","PolarisMedia.react","PolarisOrganicImpressionAction","PolarisViewpointReact.react","PolarisVpvdImpressionAction","cr:5000","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var e=a.index,f=a.media,g=a.mediaWidth;a.onChildIndexChange;var h=a.sidecarChildIndex,j=a.sidecarChildren;a=babelHelpers.objectWithoutPropertiesLoose(a,["index","media","mediaWidth","onChildIndexChange","sidecarChildIndex","sidecarChildren"]);var k=a.analyticsContext,l=a.isVisible;a.mediaFooter;var m=a.onMediaRendered,n=a.post;a=babelHelpers.objectWithoutPropertiesLoose(a,["analyticsContext","isVisible","mediaFooter","onMediaRendered","post"]);var o=f.isUpsell===!0&&b("cr:5000")!=null?i.jsx(b("cr:5000"),{upsellSidecarChild:f}):i.jsx(c("PolarisMedia.react"),babelHelpers["extends"]({},a,{accessibilityCaption:f.accessibilityCaption,analyticsContext:k,asSidecarChild:!0,firstSidecarChildSrc:j[0].src,isVisible:h===e?l:!1,onMediaRendered:m,post:f}));return e===0?i.jsx(c("IGDSBox.react"),{position:"relative",width:g,children:o},f.id):i.jsx(d("PolarisViewpointReact.react").Viewpoint,{action:[d("PolarisOrganicImpressionAction").makeCarouselImpressionAction(f,k),d("PolarisVpvdImpressionAction").makeCarouselVpvdImpressionAction(f,j[0],e,n.id,k)],id:f.id,children:function(a){return i.jsx(c("IGDSBox.react"),{containerRef:a,position:"relative",width:g,children:o})}},f.id)}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("usePolarisCarouselAutoplay",["CarouselAutoplayContext","PolarisPostModalRenderingContext","clearTimeout","qex","react","setTimeout","usePolarisIsOnFeedPage","useVisibilityObserver"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useCallback,j=b.useContext,k=b.useEffect,l=b.useMemo,m=b.useRef,n=b.useState,o=0,p=1e3,q=4,r=.5;function s(a){return l(function(){return!a?{delay:q*p,threshold:r}:{delay:(c("qex")._("111")||q)*p,threshold:c("qex")._("358")||r}},[a])}function a(a,b,e){a===void 0&&(a=o);var f=c("usePolarisIsOnFeedPage")(),g=d("PolarisPostModalRenderingContext").usePolarisPostModalRenderingContext(),h=g.isInModal,p=m(),q=m(null);g=n(!1);var r=g[0],t=g[1];a=n((g=a)!=null?g:o);var u=a[0],v=a[1],w=m(null);g=j(c("CarouselAutoplayContext"));a=g.pauseCarouselAutoplay;var x=g.shouldPause,y=l(function(){return f&&!h&&e!==!0&&c("qex")._("385")===!0},[f,h,e]),z=s(y),A=i(function(){if(q.current===!0){var a;(a=w.current)==null?void 0:a.snapToNext()}},[q,w]),B=i(function(a){q.current===!0&&a<b.length-1&&b[a].isVideo===!1&&(p.current=c("setTimeout")(function(){return A()},z.delay))},[q,b,p,A,z]),C=i(function(){c("clearTimeout")(p.current),q.current=!1},[p,q]);g=i(function(a){a!=null&&(w.current=a)},[w]);var D=i(function(a,b){B(b),v(b)},[v,B]),E=c("useVisibilityObserver")({onHidden:function(){x||(q.current=null)},onIntersection:function(a){a=a.entry;a.intersectionRatio>z.threshold&&a.boundingClientRect.bottom<=a.rootBounds.bottom?t(!0):t(!1)},options:{rootMargin:0,thresholdOverride:"MODERATE"}});k(function(){q.current===!0&&(!r||x)&&C(),y&&q.current==null&&r&&w.current&&(q.current=!0,B(u))},[q,r,x,C,y,w,B,u]);return y?{carouselAutoplayRef:E,enableLoop:!1,handleChildIndexChange:D,handleInteract:a,handleSetScrollRef:g,handleVideoLoop:A}:{}}g["default"]=a}),98);
__d("usePolarisSidecarMediaOrUpsell",["PolarisConfig","PolarisUA"],(function(a,b,c,d,e,f,g){"use strict";var h=4,i=2;function a(a){var b=a.post;a=a.sidecarChildren;if(d("PolarisConfig").isLoggedIn()||d("PolarisUA").isDesktop()||a.some(function(a){return a.mediaOverlayInfo!=null})||b.dimensions===null||b.owner===null)return a;a=[].concat(a);var c=a.length>=h?i:null;if(c!=null&&a[c-1].mediaPreview!=null){b={dimensions:b.dimensions,id:"",isUpsell:!0,isVideo:!1,mediaPreview:a[c-1].mediaPreview,owner:b.owner,src:""};a.splice(c,0,b)}return a}g["default"]=a}),98);
__d("PolarisSidecarMedia.react",["PolarisSidecar.react","PolarisSidecarChild.react","react","usePolarisCarouselAutoplay","usePolarisSidecarMediaOrUpsell"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useCallback;function a(a){var b=a.sidecarChildren;a=babelHelpers.objectWithoutPropertiesLoose(a,["sidecarChildren"]);var e=a.initialCarouselIndex,f=a.post,g=babelHelpers.objectWithoutPropertiesLoose(a,["initialCarouselIndex","post"]);a=c("usePolarisCarouselAutoplay")(e,b,((a=g.adInfo)==null?void 0:a.isLuxuryVerticalAd)===!0||((a=g.adInfo)==null?void 0:a.isSensitiveVerticalAd)===!0);var h=a.carouselAutoplayRef,k=a.handleChildIndexChange,l=a.handleInteract,m=a.handleSetScrollRef,n=a.handleVideoLoop;a=j(function(a,b,c){return[g.onChildIndexChange,k].filter(Boolean).forEach(function(d){return d(a,b,c)})},[g.onChildIndexChange,k]);var o=c("usePolarisSidecarMediaOrUpsell")({post:f,sidecarChildren:b});b=function(a,b){return o.map(function(d,e){return i.jsx(c("PolarisSidecarChild.react"),babelHelpers["extends"]({index:e,media:d,mediaWidth:a,onVideoLoop:n,post:f,sidecarChildIndex:b,sidecarChildren:o},g),e)})};var p=o.map(function(a){a=a.dimensions;return a}).filter(Boolean);p=i.jsx(d("PolarisSidecar.react").Sidecar,{dimensions:p,initialCarouselIndex:e,mediaFooter:g.mediaFooter,numSidecarChildren:o.length,onChildIndexChange:a,onInteract:l,onSetScrollRef:m,renderSidecarChildren:b});return h!=null?i.jsx("div",{ref:h,children:p}):p}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisMediaContainer.react",["PolarisMedia.react","PolarisReactRedux","polarisPostSelectors","react"],(function(a,b,c,d,e,f,g){"use strict";var h;h||d("react");function a(a,b){return{onMediaRendered:d("polarisPostSelectors").getOnMediaRendered(a,b.onPostMediaRendered)}}function b(a,b){return{onSidecarChildIndexChange:function(a,c,d){a=b.onPostSidecarChildIndexChange;a&&a(c)}}}function e(a,b,c){c.onPostMediaRendered;c.onPostSidecarChildIndexChange;c=babelHelpers.objectWithoutPropertiesLoose(c,["onPostMediaRendered","onPostSidecarChildIndexChange"]);return babelHelpers["extends"]({},c,a,b)}f=d("PolarisReactRedux").connect(a,b,e)(c("PolarisMedia.react"));g["default"]=f}),98);
__d("PolarisSaveButton.react",["IGDSIconButton.react","IGDSSavePanoFilledIcon","IGDSSavePanoOutlineIcon","JSResourceForInteraction","PolarisIGCoreAnchoredPopover","PolarisIGCorePressable","PolarisPostStrings","PolarisReactRedux","PolarisSavedCollectionPicker.react","PolarisSavedPostsActionRequestNextSavedCollections","PolarisUA","nullthrows","polarisSavedPostsSelectors","react","useIGDSLazyDialog","usePolarisViewer"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useState,k=24,l=-16,m=5;function a(a){var b=a.analyticsContext,e=a.collectionsPostSavedTo,f=a["data-testid"],g=a.isSaved,h=a.onSaveMedia;f=a.onSaveMediaToCollection;var n=a.onShowToast,o=a.padding;o=o===void 0?8:o;var p=a.postId,q=a.thumbnailSrcSet,r=d("PolarisReactRedux").useDispatch(),s=c("usePolarisViewer")(),t=!s,u=d("PolarisReactRedux").useSelector(function(a){if(t)return null;var b=c("nullthrows")(s);return d("polarisSavedPostsSelectors").getAllSavedCollectionsForUser(a,c("nullthrows")(b.id))}),v=d("PolarisReactRedux").useSelector(function(a){if(t)return null;var b=c("nullthrows")(s);return d("polarisSavedPostsSelectors").getSavedCollectionsPaginationForUser(a,c("nullthrows")(b.id))});function w(){if(u==null||v==null)return!1;if(u.length>=m)return!0;var a=1;return!v.moreAvailable&&u.length>a}a=!t&&d("PolarisUA").isDesktop();var x=w()&&a;function y(a){a.preventDefault(),h(!g),!g===!0&&x&&(n!=null&&n(),C(!0))}function z(){if(!t&&!w()&&!c("nullthrows")(v).isFetching){var a=c("nullthrows")(s);r(d("PolarisSavedPostsActionRequestNextSavedCollections").requestInitialSavedCollections(c("nullthrows")(a.id)))}C(!1)}var A=j(!1),B=A[0],C=A[1];A=c("useIGDSLazyDialog")(c("JSResourceForInteraction")("PolarisCreateCollectionWithPostModal.react").__setRef("PolarisSaveButton.react"));var D=A[0];return i.jsx(c("PolarisIGCoreAnchoredPopover"),{content:x?i.jsx(c("PolarisSavedCollectionPicker.react"),{collectionsPostSavedTo:e,hidePopover:B,onSaveMedia:h,onSaveMediaToCollection:f,postId:p,postIsSaved:g,setHidePopover:C,setShowCreateCollectionModal:function(){return D({onSaveChange:h,postId:p,source:b,srcSet:q})}}):null,offsetTop:l,preferredPositionX:"center",preferredPositionY:"top",showOnHover:!0,children:i.jsx(c("PolarisIGCorePressable"),{onMouseEnter:z,onPress:function(){},children:i.jsx(c("IGDSIconButton.react"),{"data-testid":void 0,hover:g||!a?null:i.jsx(c("IGDSSavePanoOutlineIcon"),{alt:d("PolarisPostStrings").SAVE_TEXT,color:"ig-secondary-text",size:k}),onClick:y,padding:o,children:g?i.jsx(c("IGDSSavePanoFilledIcon"),{alt:d("PolarisPostStrings").UNSAVE_TEXT,color:"ig-primary-text",size:k}):i.jsx(c("IGDSSavePanoOutlineIcon"),{alt:d("PolarisPostStrings").SAVE_TEXT,color:"ig-primary-text",size:k})})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisPostFastOptionsButton.react",["fbt","CarouselAutoplayContext","IGDSBox.react","IGDSIconButton.react","IGDSMoreHorizontalPanoOutlineIcon","IGDSMoreVerticalPanoOutline24Icon","InstagramAdActionMenuFalcoEvent","PolarisContainerModuleUtils","PolarisLogger","PolarisPostModalContext.react","PolarisViewpointActionUtils","identityFunction","polarisAdsSelectors","react","usePolarisAnalyticsContext","usePolarisPost","usePolarisViewer"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react")),k=i.useContext,l=h._("__JHASH__cFipUAiTKQi__JHASH__");function m(a){var b=a.color;a=a.orientation;a=a==="horizontal"?c("IGDSMoreHorizontalPanoOutlineIcon"):c("IGDSMoreVerticalPanoOutline24Icon");return j.jsx(c("IGDSBox.react"),{alignItems:"center",height:24,justifyContent:"center",position:"relative",width:24,children:j.jsx(a,{alt:l,color:b})})}m.displayName=m.name+" [from "+f.id+"]";function a(a){var b=a.className,e=a.orientation;e=e===void 0?"horizontal":e;var f=a.padding,g=a.postId,h=d("PolarisPostModalContext.react").useSetPostModal(),i=c("usePolarisAnalyticsContext")(),l=d("PolarisContainerModuleUtils").getContainerModule(i),n=d("usePolarisPost").usePost(g,c("identityFunction")),o=!!n.isVideo;a=c("usePolarisViewer")();var p=a==null?void 0:a.id,q=d("polarisAdsSelectors").useFeedAdInfo(g,function(a){return a==null?void 0:a.ad_id}),r=d("polarisAdsSelectors").useFeedAdInfo(g,function(a){return a==null?void 0:a.tracking_token}),s=d("PolarisViewpointActionUtils").getMPKForFeedMedia(n);a=k(c("CarouselAutoplayContext"));var t=a.pauseCarouselAutoplay;a=function(){t(),d("PolarisLogger").logAction("postOptionsClick",{mediaId:g,source:i,type:o?"video":"photo"}),n.isSponsored===!0&&p!=null&&c("InstagramAdActionMenuFalcoEvent").log(function(){return{ad_id:q,m_pk:s,pigeon_reserved_keyword_module:l,pk:p,source_of_action:l,tracking_token:r}}),h("options")};return j.jsx("div",{className:b,children:j.jsx(c("IGDSIconButton.react"),{"data-testid":void 0,hover:j.jsx(m,{color:"ig-secondary-text",orientation:e}),onClick:a,padding:f,children:j.jsx(m,{color:"ig-primary-text",orientation:e})})})}a.displayName=a.name+" [from "+f.id+"]";b=j.memo(a);g["default"]=b}),98);
__d("PolarisPostFastShareButton.react",["CarouselAutoplayContext","CometPlaceholder.react","IGDContactSearchDialogType.flow","IGDSDirectPanoOutlineIcon","IGDSecureShareSheetDialogPlaceholder.react","JSResourceForInteraction","PolarisConfig","PolarisIGCoreSVGIconButton","PolarisLogger","PolarisPostModalContext.react","PolarisPostStrings","PolarisPostTypeUtils","QPLUserFlow","lazyLoadComponent","qpl","react","useIGDSLazyDialog","useIGDSecureShareSheetInteractionLogger","usePolarisPost","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useCallback,k=b.useContext,l=b.useMemo,m=b.useState,n=c("JSResourceForInteraction")("IGDSecureShareSheetDialog.react").__setRef("PolarisPostFastShareButton.react"),o=c("lazyLoadComponent")(c("JSResourceForInteraction")("IGWebBloksApp").__setRef("PolarisPostFastShareButton.react"));function a(a){var b=a.analyticsContext,e=a["data-testid"],f=a.mediaId,g=a.mediaOverlayInfo;e=a.postId;var h=a.sharingFrictionInfo,p=d("usePolarisPost").usePost(e,function(a){return a});a=k(c("CarouselAutoplayContext"));var q=a.pauseCarouselAutoplay,r=d("PolarisPostModalContext.react").useSetPostModal();e=c("useIGDSLazyDialog")(n,function(a){return i.jsx(c("IGDSecureShareSheetDialogPlaceholder.react"),{onClose:a})});var s=e[0];a=e[1];e=m(!1);var t=e[0],u=e[1],v=(h==null?void 0:h.bloksAppUrl)!=null&&(h==null?void 0:h.shouldHaveSharingFriction)===!0,w=l(function(){var a=g!=null?g:p.mediaOverlayInfo;return babelHelpers["extends"]({},p,{mediaOverlayInfo:a})},[p,g]),x=d("useIGDSecureShareSheetInteractionLogger").useLogShareSheetInteraction();e=j(function(){d("PolarisLogger").logAction("shareClick",{source:b,type:d("PolarisPostTypeUtils").getPostType(p)});c("QPLUserFlow").start(c("qpl")._(379205139,"1723"),{annotations:{string:{source:b}}});q();if(!v)if(!d("PolarisConfig").isLoggedIn())r("share");else{var a=c("uuidv4")();x("igd_sharesheet_open",{flowInstanceId:a,shareType:d("IGDContactSearchDialogType.flow").IGDContactSearchDialogType.SHARESHEET,source:b});s({flowInstanceId:a,post:w})}else u(!0)},[b,q,v,p,r,x,s,w]);var y=l(function(){return{media_id:f,module:b}},[b,f]),z=function(){return!v?null:t&&(h==null?void 0:h.bloksAppUrl)!=null&&i.jsx(c("CometPlaceholder.react"),{fallback:null,children:i.jsx(o,{appId:h==null?void 0:h.bloksAppUrl,bridgeOverrides_DEPRECATED:{onOpenShareSheetClick:function(){u(!1);var a=c("uuidv4")();x("igd_sharesheet_open",{flowInstanceId:a,shareType:d("IGDContactSearchDialogType.flow").IGDContactSearchDialogType.SHARESHEET,source:b});s({flowInstanceId:a,post:w})},onResumeStoryPlayback:function(){u(!1)}},params:y},f)})};return i.jsxs(i.Fragment,{children:[i.jsx(c("PolarisIGCoreSVGIconButton"),{"data-testid":void 0,hover:i.jsx(c("IGDSDirectPanoOutlineIcon"),{alt:d("PolarisPostStrings").SHARE_TEXT,color:"ig-secondary-text",size:24}),onClick:e,ref:a,children:i.jsx(c("IGDSDirectPanoOutlineIcon"),{alt:d("PolarisPostStrings").SHARE_TEXT,color:"ig-primary-text",size:24})}),z()]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisPostOptionsButtonPicker.react",["PolarisPostFastOptionsButton.react","cr:1069","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var d=a.buttonClassName;a=a.mediaPK;return b("cr:1069")!=null?i.jsx("div",{className:d,children:i.jsx(b("cr:1069"),{mediaPK:a})}):i.jsx("div",{className:d,children:i.jsx(c("PolarisPostFastOptionsButton.react"),{postId:a})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisHotKeys.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useContext;b={keyMap:{}};var k=i.createContext(b);function a(a){var b=a.children,c=a.className,d=a.isButton;d=d===void 0?!1:d;var e=a.keyMap;a=j(k).keyMap;var f=function(a){return!(a.ctrlKey||a.altKey||a.metaKey)},g=function(){var a;return((a=document.activeElement)==null?void 0:a.tagName.toLowerCase())!=="textarea"&&((a=document.activeElement)==null?void 0:a.tagName.toLowerCase())!=="input"};a=function(a){if(e[a.key]!=null&&g()&&f(a)){var b=e[a.key];b();a.stopPropagation()}};var h=d?"button":"presentation";d=d?"0":"-1";return i.jsx(k.Provider,{value:{keyMap:e},children:typeof b==="function"?b(a,h,d):i.jsx("div",{className:c,onKeyUp:a,role:h,tabIndex:d,children:b})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisPostFeedbackControls.react",["cx","CarouselAutoplayContext","IGRouter","PolarisCommentButton.react","PolarisFeedActionOpenPostModalForId","PolarisInFeedPostModalContext","PolarisInteractionsLogger","PolarisLikeButton.react","PolarisLinkBuilder","PolarisLogger","PolarisNavigationActions","PolarisPostFastShareButton.react","PolarisPostVariants","PolarisReactRedux","PolarisSaveButton.react","PolarisSponsoredPostContext.react","PolarisTrackingConstants","PolarisUA","XPolarisMobileAllCommentsControllerRouteBuilder","joinClasses","logPolarisPostModalOpen","polarisPostSelectors","react","usePolarisMediaSaveToCollectionReduxHandler","usePolarisPostShowSavedToastHandler","usePolarisSelector"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;var k=b.useCallback,l=b.useContext;function a(a){var b=a.analyticsContext,e=a.canViewerProvideFeedback,f=a.canViewerReshare,g=a.className,h=a.code,i=a.commentsDisabled,m=a.containerRef;a.currSidecarIndex;var n=a.customAlignment,o=a.hideShareButton,p=a.isBlocked,q=a.isLoggedIn,r=a.isSidecar,s=a.isVideo,t=a.likedByViewer,u=a.mediaId;a.numSteps;var v=a.onCommentClick,w=a.onLikeChange,x=a.onSaveChange,y=a.ownerIsPrivate,z=a.ownerUsername,A=a.postId,B=a.savedByViewer,C=a.sharingFrictionInfo,D=a.variant;a=babelHelpers.objectWithoutPropertiesLoose(a,["analyticsContext","canViewerProvideFeedback","canViewerReshare","className","code","commentsDisabled","containerRef","currSidecarIndex","customAlignment","hideShareButton","isBlocked","isLoggedIn","isSidecar","isVideo","likedByViewer","mediaId","numSteps","onCommentClick","onLikeChange","onSaveChange","ownerIsPrivate","ownerUsername","postId","savedByViewer","sharingFrictionInfo","variant"]);var E=a.history,F=d("PolarisReactRedux").useDispatch();a=c("usePolarisSelector")(function(a){return d("polarisPostSelectors").getPostById(a,A)});var G=c("usePolarisSelector")(function(a){return d("polarisPostSelectors").getSavedCollectionsForPost(a,A)}),H=c("usePolarisPostShowSavedToastHandler")(),I=l(d("PolarisSponsoredPostContext.react").PolarisSponsoredPostContext),J=I.canUserSeePersistentCta,K=l(d("PolarisInFeedPostModalContext").InFeedPostModalContext);I=l(c("CarouselAutoplayContext"));var L=I.pauseCarouselAutoplay,M=k(function(a){var b;switch(a){case"comment":b="post_feedback_comment";break;case"direct":b="post_feedback_direct";break;case"like":b="post_feedback_like";break;case"save":default:b="post_feedback_save";break}d("PolarisUA").isDesktop()?F(d("PolarisNavigationActions").openLoginModal("feature_wall",d("PolarisLinkBuilder").buildMediaLink(h),b)):F(d("PolarisNavigationActions").openLoggedOutIntentDialog(b,z))},[h,F,z]);I=k(function(a){q?w(a,"button"):M("like")},[q,w,M]);var N=k(function(a){q?x(a):M("save")},[q,x,M]),O=c("usePolarisMediaSaveToCollectionReduxHandler")(A),P=k(function(){var a=d("PolarisUA").isMobile();d("PolarisLogger").logAction("commentButtonClicked",{isLoggedIn:q,source:b,type:s?"video":"photo"});if(q)if(d("PolarisUA").isDesktop()&&D===d("PolarisPostVariants").VARIANTS.feed)L(),F(d("PolarisFeedActionOpenPostModalForId").openPostModalForId(A)),K(A),c("logPolarisPostModalOpen")(b,d("PolarisInteractionsLogger").getMediaTypeFromPost({isSidecar:r,isVideo:s}),"feed_comment");else if(D===d("PolarisPostVariants").VARIANTS.feed||a){a=c("XPolarisMobileAllCommentsControllerRouteBuilder").buildURL((a={},a[d("PolarisTrackingConstants").ENABLE_PERSISTENT_CTA]=J,a.shortcode=h,a));E.push(a)}else v();else M("comment")},[b,s,q,D,L,F,A,K,r,E,h,v,M,J]);e=!q||e;if(p||!e)return null;p=y!==!0&&Boolean(f);e=j.jsxs(j.Fragment,{children:[j.jsx(c("PolarisLikeButton.react"),{className:"_aamw","data-testid":void 0,isLiked:t,onChange:I}),!i&&j.jsx(c("PolarisCommentButton.react"),{className:"_aamx","data-testid":void 0,onClick:P}),p&&o!==!0&&j.jsx("span",{className:"_aamy",children:j.jsx(c("PolarisPostFastShareButton.react"),{analyticsContext:b,"data-testid":void 0,mediaId:u,mediaOverlayInfo:null,postId:A,sharingFrictionInfo:C})})]});return j.jsxs("section",{className:c("joinClasses")("_aamu"+(n==="left"?" _aamv":""),g),ref:m,children:[e,j.jsx("span",{className:"_aamz",children:j.jsx(c("PolarisSaveButton.react"),{analyticsContext:b,collectionsPostSavedTo:(y=G)!=null?y:[],"data-testid":void 0,isSaved:B,onSaveMedia:N,onSaveMediaToCollection:O,onShowToast:H,postId:A,thumbnailSrcSet:a.displayResources})})]})}a.displayName=a.name+" [from "+f.id+"]";e=d("IGRouter").withIGRouter(a);g["default"]=e}),98);
__d("PolarisPostFooter.react",["IGDSBox.react","PolarisBoostUtils","PolarisPostBoostButton.react","PolarisPostViewInsights.react","nullthrows","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.analyticsContext,e=a.bloksAppId,f=a.boostedStatus,g=a.boostUnavailableIdentifier,h=a.boostUnavailableReason,j=a.className,k=a.hasViewInsights,l=a.mediaId,m=a.productType;a=a.viewerId;var n=d("PolarisBoostUtils").useGetEligibilityTypeForBoostAdEntries({useCaseIsEligibleForBoostAd:f!=null&&a!=null})!==d("PolarisBoostUtils").BoostEligibilityEnum.INELIGIBLE;return!k&&!n?null:i.jsx("section",{className:j,children:i.jsxs(c("IGDSBox.react"),{alignItems:"center",direction:"row",justifyContent:k?"between":"end",paddingX:4,paddingY:3,position:"relative",children:[k&&i.jsx(c("PolarisPostViewInsights.react"),{bloksAppId:e,mediaId:l}),n&&m!=="ad"&&i.jsx(c("PolarisPostBoostButton.react"),{analyticsContext:b,boostedStatus:c("nullthrows")(f),boostUnavailableIdentifier:g,boostUnavailableReason:h,isOrganicMediaArchived:!1,mediaId:l,productType:c("nullthrows")(m),viewerId:c("nullthrows")(a)})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisPostLikers.react",["IGDSBox.react","IGDSText.react","IGRouter","PolarisConfig","PolarisFacepile.react","PolarisLikedByListActions","PolarisLikedByListButton.react","PolarisLikedByText.react","PolarisLinkBuilder","PolarisLogger","PolarisNavigationActions","PolarisPostUtils","PolarisReactRedux","PolarisUA","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");b=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var c;c=a.call(this,b)||this;c.$2=function(){c.props.onLike()};c.$3=function(a){c.$1(),!c.props.viewer&&c.props.inModal!==!0?(a.preventDefault(),c.props.onGoToLoginModal(c.props.code)):d("PolarisUA").isDesktop()&&(a.preventDefault(),c.props.onViewLikedByList(c.props.mediaId),c.props.onLikeCountClick(a))};return c}var e=b.prototype;e.$1=function(){d("PolarisLogger").logAction("likeCountClick")};e.render=function(){var a=d("PolarisPostUtils").getOrderedUsersForLikedByList(this.props.users,this.props.viewer).map(function(a){return a.id}),b=i.jsx(c("PolarisFacepile.react"),{avatarSize:this.props.avatarSize,border:"transparent",userIds:a}),e=!!this.props.viewer;return i.jsxs(c("IGDSBox.react"),{direction:"row",flex:"grow",position:"relative",children:[a.length>0&&e===!0&&i.jsx(c("IGDSBox.react"),{alignItems:"start",direction:"column",justifyContent:"start",marginEnd:1,position:"relative",children:i.jsx(c("PolarisLikedByListButton.react"),{code:this.props.code,inModal:this.props.inModal,onClick:this.$3,children:b})}),i.jsx(c("IGDSBox.react"),{alignItems:"start",direction:"column",flex:"grow",margin:"auto",position:"relative",wrap:!0,children:i.jsx(c("IGDSText.react"),{zeroMargin:!0,children:i.jsx(c("PolarisLikedByText.react"),{code:this.props.code,hideCounts:this.props.hideCounts,inModal:!!this.props.inModal,onClick:this.$3,onLike:this.$2,topLikers:this.props.topLikers,totalCount:this.props.totalCount,users:this.props.users})})})]})};return b}(i.Component);function a(a){return{onGoToLoginModal:function(b){b=d("PolarisLinkBuilder").buildMediaLink(b);a(d("PolarisNavigationActions").openLoginModal("content_wall",b,null,null,b));return},onLoggedOutIntentClickLoginModal:function(b,c){var e=d("PolarisUA").isDesktop()||d("PolarisConfig").isLoggedOutFRXEligible()?"feature_wall":"content_wall";a(d("PolarisNavigationActions").openLoginModal(e,b,c,null,b))},onViewLikedByList:function(b){return a(d("PolarisLikedByListActions").requestNativeLikedByList(b))}}}e=d("IGRouter").withIGRouter(d("PolarisReactRedux").connect(null,a)(b));g["default"]=e}),98);
__d("PolarisPostSocialProof.react",["PolarisPanavisionQEHelpers","PolarisPostLikers.react","PolarisPostVariants","PolarisPostViews.react","PolarisShouldHideLikeCountsWithControls","PolarisUA","nullthrows","polarisGetPostFromGraphMediaInterface","react","usePolarisIsOnAdsActivityPage","usePolarisIsOnFeedPage"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.analyticsContext,e=a.canLike,f=a.className,g=a.code,h=a.containerRef,j=a.inModal,k=a.likeAndViewCountsDisabled,l=a.likedByViewer,m=a.likers,n=a.mediaId,o=a.numPreviewLikes,p=a.onLikeChange,q=a.onLikeCountClick,r=a.productType,s=a.topLikers,t=a.variant,u=a.videoViews,v=a.viewer;a=a.viewerIsOwner;var w=u!=null&&u>0,x=o!==0,y=c("usePolarisIsOnFeedPage")(),z=c("usePolarisIsOnAdsActivityPage")();t===d("PolarisPostVariants").VARIANTS.feed?t=x||w:t=x||w||e;x=d("PolarisShouldHideLikeCountsWithControls").shouldHideLikeCountsWithControls(v==null?void 0:v.hideLikeAndViewCounts,k,a);e=w&&!x&&!d("polarisGetPostFromGraphMediaInterface").isClipsProductType(r);if(!t)return null;k=(y||z)&&j!==!0&&d("PolarisUA").isDesktop()&&d("PolarisPanavisionQEHelpers").hasFamiliarFeed();return i.jsx("section",{className:f,ref:h,children:e?i.jsx(c("PolarisPostViews.react"),{analyticsContext:b,likeCount:o,viewCount:c("nullthrows")(u)}):i.jsx(c("PolarisPostLikers.react"),{avatarSize:k?"micro":void 0,code:g,hideCounts:x,inModal:!!j,likedByViewer:l,mediaId:n,onLike:function(){p(!0,"beTheFirstPrompt")},onLikeCountClick:q,topLikers:s,totalCount:o,users:m,viewer:v})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisPostDetailsSection.react",["cx","IGDSBox.react","IGDSLocationFilledIcon","IGDSText.react","PolarisAsyncCommentLikedByListContainer","PolarisAsyncLikedByListContainer","PolarisConfig","PolarisFeedPageConstants","PolarisGenericStrings","PolarisHotKeys.react","PolarisInteractionsLogger","PolarisLikedByListVariant","PolarisLocationLink.react","PolarisPanavisionQEHelpers","PolarisPendingCommentState","PolarisPoliticalContextButton.react","PolarisPostCaptionTranslationPrompt.react","PolarisPostCommentInputPicker.react","PolarisPostConstants","PolarisPostFeatures","PolarisPostFeedbackControls.react","PolarisPostFooter.react","PolarisPostModalRenderingContext","PolarisPostPreviewCommentsPicker.react","PolarisPostSocialProof.react","PolarisPostTimestamp.react","PolarisPostVariants","PolarisReactRedux","PolarisUA","isStringNullOrEmpty","nullthrows","polarisAdsSelectors","qex","react","usePolarisDisplayProperties","usePolarisIsOnAdsActivityPage","usePolarisIsOnFeedPage","usePrevious"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;var k=b.useEffect,l=b.useRef,m=b.useState;function a(a){var b=a.analyticsContext,e=a.bloksAppId,f=a.currSidecarIndex,g=a.currSidecarItem,h=a.handleLikeChange,i=a.handleSaveChange,n=a.hasDenserFeedRedesign,o=a.hasSidebarInRedesign,p=a.hasViewInsights,q=a.initialCommentsQuery,r=a.owner,s=a.permalinkedCommentId,t=a.permalinkedReplyId,u=a.post,v=a.postAuthorId,w=a.postAuthorUsername,x=a.postFeedbackControlsRef,y=a.postHeader,z=a.redesignWithoutSidebar,A=a.redesignWithSidebar,B=a.showDetailsAsSidebar,C=a.variant,D=a.viewer,E=!d("PolarisUA").isDesktop();a=m(null);var F=a[0],G=a[1];a=m(!1);var aa=a[0],H=a[1];a=m(!1);var ba=a[0],I=a[1];a=c("usePolarisDisplayProperties")();var ca=a.viewportWidth,J=l(null),K=function(){return u.commentsDisabled!==!0&&u.commentingDisabledForViewer!==!0&&(ba||ca>=d("PolarisPostConstants").SIDEBAR_VARIANT_CUTOFF)};a=d("PolarisReactRedux").useSelector(function(a){return(a=a.pendingComments[u.id])!=null?a:d("PolarisPendingCommentState").EMPTY_PENDING_COMMENT});var L=a.committing,M=c("usePrevious")(L);a=d("PolarisPostModalRenderingContext").usePolarisPostModalRenderingContext();var N=a.isInModal,O=function(){I(!0),J.current&&J.current.focusAndScroll()},da=function(){H(!1)},ea=function(a){H(!0)},fa=function(){G(null)},ga=function(a){G(a)};a=D?{c:function(){u.commentsDisabled!==!0&&O()}}:{};var P=c("usePrevious")(u);k(function(){P!=null&&u!=null&&P!==u&&(G(null),H(!1))},[u,P]);k(function(){M===!0&&L===!1&&I(!1)},[L,M]);var Q=d("PolarisPostFeatures").usePolarisPostFeatures({owner:r,post:u,variant:C}),R=Q.canViewerProvideFeedback,S=Q.commentsAreStacked,T=Q.hasThreadedSidebarComments,U=Q.isBlocked,V=Q.isLoggedIn,W=Q.isSidecar,ha=Q.isStackedScreenSize,ia=Q.showPostButton,X=d("polarisAdsSelectors").useFeedAdInfo(u==null?void 0:u.id,function(a){return a}),Y=X==null?void 0:(Q=X.political_context)==null?void 0:Q.byline_text;Q=c("usePolarisIsOnFeedPage")();var Z=c("usePolarisIsOnAdsActivityPage")();Q=(Q||Z)&&N!==!0&&d("PolarisUA").isDesktop();var $=Q&&d("PolarisPanavisionQEHelpers").hasFamiliarFeed(),ja=!V&&u.location!==null&&((Z=u.location)==null?void 0:Z.hasPublicPage)===!0&&u.isVideo===!0&&u.hasAudio===!0&&c("qex")._("296")===!0;Q=j.jsx(c("IGDSBox.react"),{flex:A?"grow":"none",position:"relative",children:j.jsx(c("PolarisHotKeys.react"),{keyMap:a,children:function(a,k,l){return j.jsxs("div",{className:(!N===!0?"_ae1h":"")+(C===d("PolarisPostVariants").VARIANTS.feed?" _ae1i":"")+(B&&!N===!0?" _ae1j":"")+(N?" _ae1k":"")+(!N===!0&&n?" _ae1l":"")+(z?" _ae1m":"")+(N===!0?" _ae2q":"")+(A?" _ae2r":""),onKeyUp:a,role:k,tabIndex:l,children:[(N===!0?o:!S)?y:null,j.jsxs("div",{className:"_ae2s"+(B?" _ae3v":"")+(T?" _ae3w":"")+(p?" _ae3x":"")+($?" _aggd":""),children:[j.jsx(c("PolarisPostFooter.react"),{analyticsContext:b,bloksAppId:e,boostedStatus:u.boostedStatus,boostUnavailableIdentifier:u.boostUnavailableIdentifier,boostUnavailableReason:u.boostUnavailableReason,className:(d("PolarisUA").isMobile()?"_alfb":"")+(d("PolarisUA").isMobile()?"":" _ae3y")+(o?"":" _ae3z")+(S&&W?" _ae3-":""),hasViewInsights:p,mediaId:u.id,productType:u.productType,viewerId:D==null?void 0:D.id}),j.jsx(c("PolarisPostFeedbackControls.react"),{analyticsContext:b,canViewerProvideFeedback:R,canViewerReshare:u.viewerCanReshare,className:"_ae3_"+(n?" _ae40":"")+(n&&T?" _ae41":"")+(B?" _ae47":"")+(T?" _ae48":"")+($?" _agge":""),code:c("nullthrows")(u.code),commentsDisabled:!!u.commentsDisabled,containerRef:x,currSidecarIndex:f,hideShareButton:u.igMediaSharingDisabled===!0,isBlocked:U,isLoggedIn:V,isSidecar:W,isVideo:!!u.isVideo,likedByViewer:!!u.likedByViewer,mediaId:g!=null?g.id:u.id,numSteps:(a=u.sidecarChildren)==null?void 0:a.length,onCommentClick:O,onLikeChange:h,onSaveChange:i,ownerIsPrivate:r.isPrivate,ownerUsername:r.username,postId:u.id,savedByViewer:!!u.savedByViewer,sharingFrictionInfo:g!=null?g.sharingFrictionInfo:u.sharingFrictionInfo,variant:C}),Y!=null&&j.jsx(c("PolarisPoliticalContextButton.react"),{className:"_ae52"+(T?" _ae5k":"")+(n&&T?" _ae5l":""),text:Y}),u.code!=null&&j.jsx(c("PolarisPostSocialProof.react"),{analyticsContext:b,canLike:!U&&R,className:"_ae5m"+(B?" _ae5n":"")+(T?" _ae5o":"")+(n&&T?" _ae5p":"")+($?" _agge":""),code:c("nullthrows")(u.code),inModal:N,likeAndViewCountsDisabled:u.likeAndViewCountsDisabled,likedByViewer:!!u.likedByViewer,likers:u.likers||[],mediaId:u.id,numPreviewLikes:u.numPreviewLikes||0,onLikeChange:h,onLikeCountClick:ea,productType:u.productType,topLikers:u.topLikers,variant:C,videoViews:u.videoViews,viewer:D,viewerIsOwner:v===(D==null?void 0:D.id)}),j.jsx(c("PolarisPostPreviewCommentsPicker.react"),{analyticsContext:b,caption:u.caption,captionCreatedAt:u.captionCreatedAt,captionHasTranslation:u.captionHasTranslation,captionId:u.captionCommentId,captionIsEdited:u.captionIsEdited,className:"_ae5q"+(E?"":" _akdn")+(E?" _akdo":"")+(B?" _ae5r":"")+(T?" _ae5s":"")+(n&&T?" _ae5t":"")+($?" _agge":""),code:u.code,commentingDisabledForViewer:(k=u.commentingDisabledForViewer)!=null?k:!1,commentsAreStacked:S,commentsDisabled:u.commentsDisabled,commentsQuery:null,hasRankedComments:u.hasRankedComments===!0,id:u.id,initialCommentsQuery:q,inModal:N,mediaType:d("PolarisInteractionsLogger").getMediaTypeFromPost(u),onLikeCountClick:ga,owner:r,ownerId:v,permalinkedCommentId:s,permalinkedReplyId:t,postedAt:c("nullthrows")(u.postedAt),postId:u.id,showCommentOptionsInline:!0,title:u.title,variant:C}),!$&&j.jsxs("div",{className:(E?"":"_ae5u")+(E?" _akdp":"")+(B?" _ae5v":"")+(T?" _ae5w":"")+(n&&T?" _ae5x":""),children:[u.location!==null&&ja&&j.jsxs(c("IGDSBox.react"),{alignItems:"center",direction:"row",marginBottom:1,children:[j.jsx(c("IGDSBox.react"),{alignItems:"center",direction:"row",marginEnd:1,children:j.jsx(c("IGDSLocationFilledIcon"),{alt:"location icon",color:"ig-secondary-icon",size:10})}),j.jsx(c("PolarisLocationLink.react"),{className:"_aaqk",hasAudio:u.hasAudio,isVideo:u.isVideo,location:c("nullthrows")(u.location)})]}),u.isSponsored===!0?null:j.jsxs(c("IGDSBox.react"),{alignItems:"center",direction:"row",position:"relative",children:[j.jsx(c("PolarisPostTimestamp.react"),{code:c("nullthrows")(u.code),postedAt:c("nullthrows")(u.postedAt)}),b===d("PolarisFeedPageConstants").FEED_PAGE_ANALYTICS_CONTEXT&&j.jsx(c("IGDSBox.react"),{marginStart:2,position:"relative",children:j.jsx(c("PolarisPostCaptionTranslationPrompt.react"),{inFeed:!0,postId:u.id})})]})]}),(d("PolarisConfig").isIOS()||K())&&j.jsx(c("PolarisPostCommentInputPicker.react"),{adInfo:X,analyticsContext:b,canViewerProvideFeedback:R,className:"_ae5y"+(B?" _ae5z":"")+(n?" _ae5_":"")+(n&&T?" _ae60":"")+(K()?"":" _ae61")+(ha?"":" _ae62"),hasPostButton:ia,id:u.id,inModal:N,isLoggedIn:V,isRevampVersion:!1,isVideo:u.isVideo,ownerId:r.id,ref:J},u.id),!K()&&d("PolarisUA").isDesktop()&&u.commentsDisabled!==!0&&u.commentingDisabledForViewer===!0&&j.jsx("div",{className:"_ae63"+(n?" _ae64":"")+($?" _agnb":""),children:j.jsx(c("IGDSText.react"),{color:"tertiaryText",textAlign:"center",children:d("PolarisGenericStrings").COMMENTING_LIMITED})})]}),aa&&j.jsx(c("PolarisAsyncLikedByListContainer"),{display:c("PolarisLikedByListVariant").Modal,isOwnerTheViewer:(D==null?void 0:D.id)===v,likeAndViewCountsDisabled:u.likeAndViewCountsDisabled,likeCount:u.numLikes||0,mediaId:u.id,onClose:da,ownerUsername:w,productType:(l=u.productType)!=null?l:"",shortcode:c("nullthrows")(u.code),viewCount:u.videoViews}),!c("isStringNullOrEmpty")(F)&&j.jsx(c("PolarisAsyncCommentLikedByListContainer"),{commentId:F,display:c("PolarisLikedByListVariant").Modal,onClose:fa})]})}})});return A?j.jsx("div",{className:"_ae65",children:Q}):Q}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisPostHeaderFavoritedIconButton.react",["IGDSBox.react","IGDSIconButton.react","IGDSStarPanoFilledGradientIcon","PolarisFavoritesStrings","PolarisLogger","PolarisPostModalContext.react","react","usePolarisAnalyticsContext"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){a=a.isFavorited;var b=d("PolarisPostModalContext.react").useSetPostModal(),e=c("usePolarisAnalyticsContext")();return a&&(e==="feedPage"||e==="postPage")?i.jsx(c("IGDSIconButton.react"),{onClick:function(){d("PolarisLogger").logAction("favoriteIconInPostHeaderClick"),b("favorites")},children:i.jsx(c("IGDSBox.react"),{marginEnd:2,position:"relative",children:i.jsx(c("IGDSStarPanoFilledGradientIcon"),{alt:d("PolarisFavoritesStrings").FAVORITED_ICON_ALT,size:16})})}):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisUnsaveFromCollectionDialog.react",["fbt","IGCoreDialog","PolarisGenericStrings","PolarisUA","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=a.onClose,c=a.onUnsaveFromAll;a=a.onUnsaveFromCollection;return j.jsxs(d("IGCoreDialog").IGCoreDialog,{body:a?h._("__JHASH__HVkWD3QgXEe__JHASH__"):h._("__JHASH__Gl54JxLo7Pe__JHASH__"),onModalClose:b,title:h._("__JHASH__CSnwTDU3-Jd__JHASH__"),children:[a&&j.jsx(d("IGCoreDialog").IGCoreDialogItem,{color:"ig-error-or-destructive",onClick:a,children:h._("__JHASH__x0m8qdE4Y2N__JHASH__")}),j.jsx(d("IGCoreDialog").IGCoreDialogItem,{color:d("PolarisUA").isDesktop()?"ig-error-or-destructive":"ig-primary-button",onClick:c,children:h._("__JHASH__e0klumbklCI__JHASH__")}),j.jsx(d("IGCoreDialog").IGCoreDialogItem,{onClick:b,children:d("PolarisGenericStrings").CANCEL_TEXT})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisPost.react",["cx","IGDSBox.react","PolarisCarouselAutoplayProvider.react","PolarisErrorBoundary.react","PolarisGroupProfileUtils","PolarisHeroPageletLogger","PolarisHotKeys.react","PolarisIGCoreConstants","PolarisInsightsUtils","PolarisInteractionsLogger","PolarisLogger","PolarisMediaContainer.react","PolarisOrganicImpressionAction","PolarisPanavisionQEHelpers","PolarisPostActionLikePost","PolarisPostActionRemovePostFromCollection","PolarisPostActionSavePost","PolarisPostActionUnlikePost","PolarisPostActionUnsavePost","PolarisPostConstants","PolarisPostDetailsSection.react","PolarisPostFeatures","PolarisPostHeader.react","PolarisPostHeaderFavoritedIconButton.react","PolarisPostModalContext.react","PolarisPostModalRenderingContext","PolarisPostOptionsButtonPicker.react","PolarisPostOverlayInfoFooterCTA.react","PolarisPostPageRouteReferrerContext.react","PolarisPostSidecarIndexHelpers","PolarisPostSuggestedHeader.react","PolarisPostToast.react","PolarisPostToastProvider.react","PolarisPostUtils","PolarisPostVariants","PolarisReactRedux","PolarisSavedPostsActionEditCollection","PolarisSavedPostsTypes","PolarisSponsoredPostCTAFooter.react","PolarisTrackingNodeProvider.react","PolarisUA","PolarisUnsaveFromCollectionDialog.react","PolarisViewpointActionUtils","PolarisViewpointReact.react","PolarisVpvdImpressionAction","browserHistory","gkx","hero-tracing","joinClasses","nullthrows","polarisAdsSelectors","polarisDeveloperSettings","polarisPostModalHelpers","polarisPostSelectors","polarisRelationshipSelectors","polarisUserSelectors","polarisWithPPRLogging","qex","react","useMergeRefs","usePolarisDisplayProperties","usePolarisGetActiveKeyboardShortcutsPost","usePolarisIsOnFeedPage","usePolarisPostSetURLSidecarIndex","usePolarisShowFooterCTA","usePolarisViewer","usePrevious"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));e=i;var k=e.useContext,l=e.useEffect,aa=e.useRef,m=e.useState;function a(a){var b=a.adImpressionRefs,e=a.analyticsContext,f=a.autoplay,g=a.className,h=a.id;a.imageMediaActsAsCta;var i=a.initialCarouselIndex,n=a.initialCommentsQuery,o=a.isSponsored;o=o===void 0?!1:o;var ba=a.isVisible,ca=a.lightLetterbox,p=a.onMediaRendered,da=a.permalinkedCommentId,ea=a.permalinkedReplyId,q=a.position,r=a.shortcode,s=a.testid;s=s===void 0?"post":s;s=a.variant;var t=s===void 0?d("PolarisPostVariants").VARIANTS.flexible:s;s=a.viewpointActionsForSponsoredPost;var fa=a.visiblePosition,ga=a.willScrollTo,u=d("PolarisReactRedux").useDispatch(),v=d("PolarisReactRedux").useSelector(function(a){return d("polarisPostSelectors").getPostById(a,h)}),w=c("nullthrows")(v.owner).id;a=(a=v.group)==null?void 0:a.id;var ha=(a=a)!=null?a:w;a=k(c("PolarisPostPageRouteReferrerContext.react"));a=a.referrerTracePolicy;var x=d("PolarisReactRedux").useSelector(function(a){return d("polarisUserSelectors").getUserById(a,w)}),y=d("PolarisReactRedux").useSelector(function(a){return d("polarisUserSelectors").getUserById(a,ha)}),ia=d("PolarisReactRedux").useSelector(function(a){return d("polarisRelationshipSelectors").getRelationship(a.relationships,ha)}),z=c("usePolarisViewer")(),A=!!(z==null?void 0:z.canSeeOrganicInsights),B=!!v.canSeeInsightsAsBrand,C=d("polarisAdsSelectors").useFeedAdInfo(v==null?void 0:v.id,function(a){return a}),D=c("usePolarisDisplayProperties")(),ja=D.viewportHeight;D=D.viewportWidth;var E=d("PolarisPostModalRenderingContext").usePolarisPostModalRenderingContext(),F=E.isInModal,G=(i=(E=i)!=null?E:d("PolarisPostUtils").getInitialSidecarIndexFromPost(v))!=null?i:0;v.isSidecar===!0&&(G<0||v.sidecarChildren!=null&&G>=v.sidecarChildren.length)&&(G=0);E=m(G);var H=E[0],ka=E[1];i=m({});var I=i[0],la=i[1];E=m(!1);i=E[0];var ma=E[1];E=m({});var J=E[0],na=E[1];E=m(!1);var oa=E[0],K=E[1];E=m(!1);var pa=E[0],qa=E[1];E=m(null);var ra=E[0],sa=E[1];E=aa(null);var ta=c("usePolarisPostSetURLSidecarIndex")();l(function(){ga==="top"&&window.setTimeout(function(){window.scrollTo(0,0)})},[ga]);var L=c("usePrevious")(v);l(function(){L!=null&&v.id!==L.id&&(la({}),na({}))},[v,L]);l(function(){r!=null&&v.isSidecar===!0&&d("PolarisPostSidecarIndexHelpers").shouldHaveIndexableUrls()&&ta(H+1)},[H,v.isSidecar,ta,r]);var ua=function(a){ma(!0),p!=null&&p(v.id,a)},va=function(a){ka(a)},M=function(a,b){var c;c={mediaAuthorId:(c=v.owner)==null?void 0:c.id,mediaId:v.id,source:e,sourceOfLike:b,trackingToken:v.trackingToken};b=null;(C==null?void 0:C.ad_id)!=null&&(C==null?void 0:C.tracking_token)!=null&&Y!=null&&(b={adId:C==null?void 0:C.ad_id,adTrackingToken:C==null?void 0:C.tracking_token,viewerId:Y});a?v.likedByViewer!==!0&&u(d("PolarisPostActionLikePost").likePost(v.id,c,b)):u(d("PolarisPostActionUnlikePost").unlikePost(v.id,c,b))},wa=function(){M(!0,"double_tap_media")},xa=function(a){var b={source:e},c=null;if((C==null?void 0:C.ad_id)!=null&&(C==null?void 0:C.tracking_token)!=null&&Y!=null){var f;c={adId:C==null?void 0:C.ad_id,adTrackingToken:C==null?void 0:C.tracking_token,analyticsContext:e,followStatus:d("PolarisViewpointActionUtils").getFollowStatus(ia),mediaPk:d("PolarisViewpointActionUtils").getMPKForFeedMedia(v),mediaType:d("PolarisInteractionsLogger").getMediaTypeFromPost(v),ownerId:(f=v.owner)==null?void 0:f.id,viewerId:Y}}a?v.savedByViewer!==!0&&u(d("PolarisPostActionSavePost").savePost(v.id,b,c)):v.savedByViewer===!0&&(v.savedByViewerToCollection===!0?(d("PolarisLogger").logAction("removeSavedItemFromCollectionDialogShown"),K(!0)):u(d("PolarisPostActionUnsavePost").unsavePost(v.id,b,c)))},ya=function(){d("PolarisLogger").logAction("removeSavedItemFromCollectionDialogCancelled"),K(!1)},za=function(){K(!1),u(d("PolarisPostActionUnsavePost").unsavePost(v.id,{source:e})),d("PolarisLogger").logAction("removeSavedItemFromCollectionDialogAccepted")},Aa=function(){var b={source:e};K(!1);var a=d("browserHistory").browserHistory.location.pathname;a=d("polarisPostModalHelpers").getCollectionIdFromPath(a);a!=null&&z!=null&&(u(d("PolarisPostActionRemovePostFromCollection").removePostFromCollection({collectionId:a,postId:v.id})),u(d("PolarisSavedPostsActionEditCollection").editCollection({collectionId:a,postIdsToRemove:[v.id],source:b.source,userId:c("nullthrows")(z==null?void 0:z.id)})))},Ba=function(a){Da(a)&&Fa(a.id)},Ca=function(a){Ga(a)},Da=function(a){return I[a.id]===!0},Ea=function(a){return J[a]===!0},Fa=function(a){var b=babelHelpers["extends"]({},I);b[a]=!0;la(b)},Ga=function(a){var b=babelHelpers["extends"]({},J);b[a]=!0;na(b)},N=function(a){qa(!0),sa(a)},Ha=function(){qa(!1)},O=d("browserHistory").browserHistory.location.pathname,P=d("PolarisPostFeatures").usePolarisPostFeatures({owner:y,path:O,post:v,variant:t}),Q=P.commentsAreStacked,Ia=P.hasPhotosOfYouOption,Ja=P.hasThreadedSidebarComments,R=P.isFavorited,Ka=P.isSidecar,La=P.isStackedScreenSize;P=P.showFollowButton;O=d("polarisPostModalHelpers").getCollectionIdFromPath(O);var Ma=O!=null&&O!==d("PolarisSavedPostsTypes").SAVED_COLLECTION_TYPE.ALL_MEDIA_AUTO_COLLECTION;O=!!P&&(!v.coauthorProducers||v.coauthorProducers.length===0)&&!o;var S=D>=d("PolarisPostConstants").SIDEBAR_VARIANT_CUTOFF,Na=S&&F===!0,T=!S&&F===!0,Oa=F===!0?S:!Q;P=c("usePolarisIsOnFeedPage")();var U=e==="adsActivityFeed",V=(P||U)&&F!==!0&&d("PolarisUA").isDesktop(),W=(P||U)&&F!==!0&&d("PolarisUA").isDesktop()&&d("PolarisPanavisionQEHelpers").hasFamiliarFeed(),Pa=d("PolarisPostUtils").getCurrentSidecarItemFromPost(v,H),Qa=j.jsxs("div",{className:"_aasi"+(V?" _aasj":"")+(T?" _aask":"")+(W?" _ai9a":""),children:[v.inventorySource==="mixed_unconnected"&&P&&!F&&j.jsx(c("PolarisPostSuggestedHeader.react"),{postId:v.id,title:(U=v.explore)==null?void 0:U.title}),j.jsxs(c("IGDSBox.react"),{alignItems:"center",direction:"row",display:"flex",justifyContent:"between",position:"relative",children:[j.jsx(c("PolarisPostHeader.react"),{analyticsContext:e,clipsAttributionInfo:v.clipsAttributionInfo,clipsAudioAttributionInfo:v.clipsMusicAttributionInfo,coauthorProducers:v.coauthorProducers,followHashtagInfo:v.followHashtagInfo,headerAvatarSize:c("PolarisIGCoreConstants").AVATAR_SIZES.small,inModal:F,isAffiliate:v.isAffiliate===!0,isOwnerGroupProfile:d("PolarisGroupProfileUtils").getIsUserGroupProfile(y),isPaidPartnership:v.isPaidPartnership===!0,isSharedToCloseFriends:v.audience==="MediaAudience.BESTIES",isSponsored:v.isSponsored===!0,isVideo:!!v.isVideo,location:v.location,mediaId:v.id,onDisabledClipsAudioAttributionClick:N,owner:y,postAuthor:x,postedAt:v.postedAt,shouldShowFollowButton:O,showVerifiedBadge:!0,sidebarVariantOptionsButton:Ja,sponsoredLabel:C==null?void 0:C.label,sponsors:v.sponsors,viewer:z},v.id),j.jsx(c("PolarisPostHeaderFavoritedIconButton.react"),{isFavorited:R}),j.jsx(c("PolarisPostOptionsButtonPicker.react"),{buttonClassName:"_aasm"+(V?" _aasn":"")+(W?" _agh1":""),mediaPK:v.id})]})]});P=d("PolarisInsightsUtils").getViewInsightsInfo(z,w,v,B,A);var Ra=P.bloksAppId,X=P.hasViewInsights,Y=z==null?void 0:z.id;N=c("usePolarisGetActiveKeyboardShortcutsPost")({postId:v.id,postIsLiked:(U=v.likedByViewer)!=null?U:!1,toggleLike:function(){M(!v.likedByViewer,"keyboard_shortcuts")}});O=N.feedbackControlsRef;R=N.postContainerRef;var Sa=N.postIsFullyVisibleHandler;B=o&&s!=null?s:[d("PolarisOrganicImpressionAction").makePostImpressionAction(v,e,a,q),d("PolarisVpvdImpressionAction").makePostVpvdImpressionAction(v,e)];A=function(a){a.percentVisible===1&&Sa()};P=c("gkx")("8378");P&&(B=[].concat(B,[A]));U=d("PolarisViewpointReact.react").useViewpoint({action:B,id:"viewpoint"+v.id});s=[U].concat((N=b)!=null?N:[]);P&&s.push(R);var Ta=c("useMergeRefs").apply(void 0,s),Ua=z?{l:function(){M(!v.likedByViewer,"button")},s:function(){xa(!v.savedByViewer)}}:{};a=c("usePolarisShowFooterCTA")(v,H,I,o);var Z=null;o?Z=j.jsx(c("PolarisSponsoredPostCTAFooter.react"),{isMediaRendered:i,post:v,sidecarIndex:H}):(a||!F)&&(Z=j.jsx(d("PolarisPostOverlayInfoFooterCTA.react").PolarisPostOverlayInfoFooterCTA,{analyticsContext:e,currentSidecarIndex:H,dynamicFooterRef:E,idsWithClearedBlurOverlays:I,idsWithDisabledMediaOverlayInfoImpressionLogging:J,onLogOverlayImpression:function(a){return Ca(a)},rootPost:v}));A=Z!=null;var $=d("polarisPostModalHelpers").getMediaContainerProps({dimensions:v.dimensions,footerHeight:A?(B=E.current)==null?void 0:B.offsetHeight:void 0,hasFooter:A,hasSidebarInRedesign:S,viewportHeight:ja,viewportWidth:D}),Va=!1,Wa={border:v.isSeen===!0?"2px solid green":"2px solid red"};return j.jsx(c("PolarisCarouselAutoplayProvider.react"),{children:j.jsx(d("PolarisPostToastProvider.react").PostToastProvider,{ref:O,children:function(a){return j.jsx(d("PolarisPostModalContext.react").PostModalContext,{post:v,children:j.jsx(d("hero-tracing").HeroPagelet,{name:d("PolarisHeroPageletLogger").getHeroPageletLogName(d("PolarisHeroPageletLogger").PageletLogName.POST,q),ref:Ta,children:function(b,h){return j.jsx(c("PolarisHotKeys.react"),{keyMap:Ua,children:function(i,k,l){return j.jsx(c("PolarisTrackingNodeProvider.react"),{trackingNode:301,children:j.jsxs("article",{className:c("joinClasses")(g,"_aatb"+(t===d("PolarisPostVariants").VARIANTS.feed?" _aatc":"")+(La?" _aatd":"")+(La?"":" _aate")+(Q?" _aatf":"")+(Oa?" _aatg":"")+(Ka?" _aath":"")+(Ja?" _aati":"")+(X?" _aatj":"")),"data-testid":void 0,onKeyUp:i,ref:b,role:k,style:Va?Wa:{},tabIndex:l,children:[j.jsxs(c("IGDSBox.react"),{alignSelf:T?"center":void 0,direction:(F===!0?S:!Q)?"row":"column",display:"flex",justifyContent:"center",maxHeight:"inherit",maxWidth:T&&($==null?void 0:$.style)!=null?$.style.maxWidth:"inherit",position:"relative",children:[(F===!0?!S:Q)?Qa:null,j.jsx("div",babelHelpers["extends"]({},F===!0?$:{},{className:"_aatk"+(F===!0?" _aatl":"")+(Na&&v.dimensions!=null&&v.dimensions.width>=v.dimensions.height?" _aatm":"")+(ca===!0?" _aatn":"")+(W?" _aiao":""),children:j.jsx(c("PolarisMediaContainer.react"),{accessibilityCaption:v.accessibilityCaption,adInfo:C,analyticsContext:e,autoplay:f,checkIsSensitivityOverlayDisabledCallback:function(a){return Da(a)},className:"_aato",commentsAreStacked:Q,hasPhotosOfYouOption:Ia,hasViewInsights:X,id:v.id,initialCarouselIndex:G,inModal:F,isVisible:ba,mediaFooter:Z,onLike:z?wa:null,onPostMediaRendered:ua,onPostSidecarChildIndexChange:va,onSensitivityOverlayCleared:Ba,onToastClose:Ha,position:q,post:v,relationship:ia,sensitivityOverlayMediaOverlayInfoLoggingProps:{checkIfMediaOverlayInfoImpressionLoggingDisabled:function(a){return Ea(a)},onLoggedMediaOverlayInfoImpression:function(a){return Ca(a)}},showToast:pa,toastString:ra,viewer:z,visiblePosition:fa})})),j.jsx(c("PolarisPostDetailsSection.react"),{analyticsContext:e,bloksAppId:Ra,currSidecarIndex:H,currSidecarItem:Pa,handleLikeChange:M,handleSaveChange:xa,hasDenserFeedRedesign:V,hasSidebarInRedesign:S,hasViewInsights:X,initialCommentsQuery:n,owner:y,permalinkedCommentId:da,permalinkedReplyId:ea,post:v,postAuthorId:w,postAuthorUsername:x==null?void 0:x.username,postFeedbackControlsRef:a,postHeader:Qa,redesignWithoutSidebar:T,redesignWithSidebar:Na,showDetailsAsSidebar:Oa,variant:t,viewer:z}),oa&&j.jsx(c("PolarisUnsaveFromCollectionDialog.react"),{onClose:ya,onUnsaveFromAll:za,onUnsaveFromCollection:Ma&&d("PolarisUA").isDesktop()?Aa:null}),j.jsx(c("PolarisPostToast.react"),{isFeedVariant:t===d("PolarisPostVariants").VARIANTS.feed,isModal:(i=F)!=null?i:!1,isSidecar:Ka})]}),j.jsx(h,{})]})})}})}})},v.id)}})})}a.displayName=a.name+" [from "+f.id+"]";var n=c("polarisWithPPRLogging")(a);function o(){d("PolarisLogger").logAction("feedUnitFailure")}function b(a){return j.jsx(c("PolarisErrorBoundary.react"),{errorRenderer:function(a){return null},onError:o,children:j.jsx(n,babelHelpers["extends"]({},a))})}b.displayName=b.name+" [from "+f.id+"]";h=c("qex")._("511")===!0?j.memo(b):b;e=h;g["default"]=e}),98);/*FB_PKG_DELIM*/
__d("LSDeleteThread",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[],e;return b.seq([function(d){return b.seq([function(d){return b.db.table(9).fetch([[[a[0]]]]).next().then(function(a,d){var f=a.done;a=a.value;return f?(f=[b.i64.cast([0,0]),e],c[0]=f[0],c[1]=f[1],f):(d=a.item,f=[d.parentThreadKey,d.disappearingThreadKey],c[0]=f[0],c[1]=f[1],f)})},function(a){return b.ct(b.db.table(9).fetch([[[c[0]]],"parentThreadKeyLastActivityTimestampMs"])).then(function(a){return c[3]=a})},function(d){return a[1]&&b.i64.neq(c[0],b.i64.cast([0,0]))&&b.i64.eq(c[3],b.i64.cast([0,1]))?b.seq([function(d){return b.fe(b.db.table(9).fetch([[[a[0]],[c[0]]]]),function(a){return a["delete"]()})},function(a){return b.i64.neq(c[1],e)?0:0}]):b.seq([function(c){return b.fe(b.db.table(9).fetch([[[a[0]]]]),function(a){return a["delete"]()})},function(a){return b.i64.neq(c[1],e)?0:0}])}])},function(a){return b.resolve(d)}])}b=a;f["default"]=b}),66);
__d("LSMoveThreadToArchivedFolder",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(9).fetch([[[a[0]]]]).next().then(function(c,d){d=c.done;c=c.value;return d?0:(c.item,b.fe(b.db.table(9).fetch([[[a[0]]]]),function(a){var c=a.update;a.item;return c({folderName:"",parentThreadKey:b.i64.cast([-1,4294967286])})}))})},function(a){return b.resolve(c)}])}b=a;f["default"]=b}),66);
__d("LSOptimisticRemoveThread",["LSDeleteThread","LSIssueNewTaskAndGetTaskID","LSMoveThreadToArchivedFolder"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.seq([function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?d[0]=c.i64.cast([0,1]):(b=a.item,d[4]=b.syncGroup,c.i64.neq(d[4],f)?d[3]=d[4]:d[3]=c.i64.cast([0,1]),d[0]=d[3])})},function(d){return c.i64.eq(a[1],c.i64.cast([0,1]))?c.sp(b("LSMoveThreadToArchivedFolder"),a[0]):c.sp(b("LSDeleteThread"),a[0],!1)},function(e){return c.sp(b("LSIssueNewTaskAndGetTaskID"),c.i64.to_string(a[0]),c.i64.cast([0,146]),"",f,f,c.i64.cast([0,0]),c.i64.cast([0,0]),d[0],f,c.i64.cast([0,0]),c.i64.cast([0,0])).then(function(a){return a=a,d[2]=a[0],a})},function(b){return c.db.table(32).add({taskId:d[2],threadKey:a[0],removeType:a[1],syncGroup:d[0]})}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSOptimisticRemoveThreadStoredProcedure",["LSOptimisticRemoveThread"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.threadKey;d[1]=b.removeType;return c("LSOptimisticRemoveThread").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("CDSDialogGradientContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext({xstyle:null});g["default"]=b}),98);
__d("CDSDialogGradient.react",["CDSDialogGradientContext","CDSGradient.react","Locale","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react")),k=i.useContext,l=d("Locale").isRTL(),m={fixPositioned:{position:"xixxii4",$$css:!0},gradient:{backgroundColor:"x2bj2ny",bottom:"x1ey2m1c",maxWidth:"x1n7qst7",start:"xtzzx4i",left:null,right:null,top:"x13vifvy",transform:"xuuh30",width:"xh8yej3",$$css:!0},gradientContainer:{bottom:"x1ey2m1c",clipPath:"x3vj7og",end:"xds687c",left:null,right:null,position:"x10l6tqk",start:"x17qophe",top:"x13vifvy",$$css:!0},hidden:{opacity:"xg01cxk",transitionTimingFunction:"x1dhq9h",$$css:!0},rtl:{end:"x8cgc45",left:null,right:null,start:"x1v47v4w",$$css:!0},shadow:{boxShadow:"x15e8x56",clipPath:"x16hzegn",pointerEvents:"x47corl",transitionDuration:"x1k90msu",transitionProperty:"x19991ni",transitionTimingFunction:"xls3em1",$$css:!0}};function a(a){var b=a.fixPositioned;b=b===void 0?!0:b;var d=a.hidden;d=d===void 0?!1:d;var e=a.withShadow;e=e===void 0?!1:e;a=a.xstyle;d=d&&m.hidden;var f=k(c("CDSDialogGradientContext"));f=f.xstyle;e=e?j.jsx("div",{className:(h||(h=c("stylex")))([m.gradientContainer,m.shadow,d])}):null;return j.jsxs(j.Fragment,{children:[j.jsxs("div",{className:(h||(h=c("stylex")))([m.gradientContainer,d]),children:[j.jsx(c("CDSGradient.react"),{xstyle:[m.gradient,l&&m.rtl,b&&m.fixPositioned,f,a]})," "]}),e]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CDSDialogHeaderFooterContainerContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext({inline:!1,isInner:!1,isNarrow:!1,isPlaceholder:!1,isSticky:!1,showBackground:!1,xstyle:null});g["default"]=b}),98);
__d("CDSDialogHeaderContainer.react",["CDSDialogGradient.react","CDSDialogHeaderFooterContainerContext","FocusInertRegion.react","focusScopeQueries","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react")),k=i.useContext,l={header:{alignItems:"x6s0dn4",display:"x78zum5",end:"xds687c",left:null,right:null,flexShrink:"x2lah0s",height:"x1peatla",justifyContent:"x1qughib",position:"x10l6tqk",start:"x17qophe",top:"x13vifvy",zIndex:"x1vjfegm","@media (max-width: 679px)_position":"xv7j57z",$$css:!0}};function a(a){var b=a.children;a=a.xstyle;var e=k(c("CDSDialogHeaderFooterContainerContext")),f=e.inline,g=e.isPlaceholder,i=e.showBackground;e=e.xstyle;return j.jsxs("div",{"aria-hidden":g===!0,className:(h||(h=c("stylex")))([l.header,a,e]),children:[j.jsx(c("CDSDialogGradient.react"),{fixPositioned:!f,hidden:!i,withShadow:!0}),j.jsx(c("FocusInertRegion.react"),{disabled:!g,focusQuery:d("focusScopeQueries").tabbableScopeQuery,children:b})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CDSDialogHeader.react",["fbt","CDSDialogHeaderContainer.react","CDSDialogHeaderFooterContainerContext","CDSIcon.react","CDSIconButton.react","CDSText.react","Locale","MetaBrandCaretLeftOutline24.svg.react","MetaBrandCaretRightOutline24.svg.react","MetaBrandXFilled24.svg.react","MetaLockupPrimary.react","emptyFunction","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;var k=b.useContext,l=b.useMemo,m=c("Locale").isRTL();function a(a){var b=a.addOnEnd,d=a.backTestID,e=d===void 0?"back-button":d;d=a.closeTestID;var f=d===void 0?"close-button":d;d=a.disabled;d=d===void 0?!1:d;var g=a.withBackButton;g=g===void 0?!1:g;var i=a.withCloseButton;i=i===void 0?!0:i;var n=a.withCompanyLogo;n=n===void 0?!1:n;var o=a.onClose;o=o===void 0?c("emptyFunction"):o;var p=a.onBack;p=p===void 0?c("emptyFunction"):p;a=a.title;var q=Boolean(a);q=q?j.jsx("div",{children:j.jsx(c("CDSText.react"),{textStyle:"headline3",children:a})}):null;a=k(c("CDSDialogHeaderFooterContainerContext"));var r=a.isPlaceholder;a=l(function(){return r===!0?{}:{testid:e}},[e,r]);var s=l(function(){return r===!0?{}:{testid:f}},[f,r]),t=j.jsx("div",{className:"x1vqgdyp x100vrsf"}),u=i&&!n?t:null,v=b!=null?t:null,w=g||n?t:null;t=g||n?t:null;return j.jsxs(c("CDSDialogHeaderContainer.react"),{children:[j.jsxs("div",{className:"x78zum5 x1i64zmx x1emribx",children:[n?j.jsx("div",{className:"x6s0dn4 x78zum5 x16n37ib xq8finb",children:j.jsx(c("MetaLockupPrimary.react"),{size:12})}):g?j.jsx(c("CDSIconButton.react"),babelHelpers["extends"]({"aria-label":h._("__JHASH__sqTeJmgA5ut__JHASH__"),disabled:d,onPress:p},a,{children:j.jsx(c("CDSIcon.react"),{color:"primary",icon:m?c("MetaBrandCaretRightOutline24.svg.react"):c("MetaBrandCaretLeftOutline24.svg.react"),size:24})})):u,v]}),j.jsx("div",{className:"x78zum5 x1iyjqo2 xl56j7k",children:q}),j.jsxs("div",{className:"x78zum5 x1i64zmx x1emribx",children:[b!=null?b:t,i?j.jsx(c("CDSIconButton.react"),babelHelpers["extends"]({"aria-label":h._("__JHASH__tnRfHlva-bL__JHASH__"),disabled:d,onPress:o},s,{children:j.jsx(c("CDSIcon.react"),{color:"primary",icon:c("MetaBrandXFilled24.svg.react"),size:24})})):w]})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("BaseScrollRegionObserver.react",["intersectionObserverEntryIsIntersecting","react","stylex","useIntersectionObserver"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react")),k=i.useMemo,l={end:{bottom:"x1ey2m1c",$$css:!0},start:{top:"x13vifvy",$$css:!0},target:{end:"xds687c",left:null,right:null,opacity:"xg01cxk",position:"x10l6tqk",start:"x17qophe",zIndex:"x8knxv4",$$css:!0}};function a(a){var b=a.end,c=a.rootRef;a=a.start;a=a?j.jsx(m,{callback:a.callback,rootRef:c,xstyle:[l.target,l.start,a.heightXStyle]}):null;c=b?j.jsx(m,{callback:b.callback,rootRef:c,xstyle:[l.target,l.end,b.heightXStyle]}):null;return j.jsxs(j.Fragment,{children:[a,c]})}a.displayName=a.name+" [from "+f.id+"]";function m(a){var b=a.callback,d=a.rootRef;a=a.xstyle;var e=k(function(){return{root:function(){return d==null?void 0:d.current},rootMargin:{bottom:0,left:0,right:0,top:0},threshold:0}},[d]);e=c("useIntersectionObserver")(function(a){a=c("intersectionObserverEntryIsIntersecting")(a);b(a)},e);return j.jsx("div",{className:(h||(h=c("stylex")))(a),ref:e})}m.displayName=m.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CDSMiniToastContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext({activeToasts:{},add:function(){return""},remove:function(){}});g["default"]=b}),98);
__d("CDSMiniToastIDContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext("");g["default"]=b}),98);
__d("CDSMiniToastProvider.react",["BasePortal.react","CDSMiniToastContext","CDSMiniToastIDContext","CometPlaceholder.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useCallback,k=b.useMemo,l=b.useRef,m=b.useState;function a(a){a=a.children;var b=l(1),d=m({}),e=d[0],f=d[1],g=j(function(a){var c="minitoast-"+b.current++;f(function(b){return babelHelpers["extends"]({},b,(b={},b[c]=a,b))});return c},[]),h=j(function(a){f(function(b){b=babelHelpers["extends"]({},b);delete b[a];return b})},[]);d=k(function(){return{activeToasts:e,add:g,remove:h}},[e,g,h]);return i.jsxs(c("CDSMiniToastContext").Provider,{value:d,children:[a,Object.keys(e).length>0&&i.jsx(c("BasePortal.react"),{hidden:Object.keys(e).length===0,target:document.body,xstyle:n.root,children:Object.keys(e).map(function(a){return i.jsx(c("CometPlaceholder.react"),{fallback:null,children:i.jsx(c("CDSMiniToastIDContext").Provider,{value:a,children:e[a]})},a)})})]})}a.displayName=a.name+" [from "+f.id+"]";var n={root:{alignItems:"x6s0dn4",bottom:"x1ey2m1c",display:"x78zum5",end:"xds687c",left:null,right:null,flexDirection:"xdt5ytf",justifyContent:"xl56j7k",pointerEvents:"x47corl",position:"xixxii4",start:"x17qophe",top:"x13vifvy",zIndex:"x1ladpmw",$$css:!0}};g["default"]=a}),98);
__d("CDSDialogPage.react",["BaseHeadingContextWrapper.react","BaseScrollRegionObserver.react","BaseScrollableArea.react","CDSDialogGradient.react","CDSDialogHeaderFooterContainerContext","CDSMiniToastProvider.react","FocusInertRegion.react","focusScopeQueries","react","useEventHandler","useMatchViewport","useMergeRefs","useWindowEvent"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useEffect,k=b.useLayoutEffect,l=b.useMemo,m=b.useRef,n=b.useState,o={container:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",paddingBottom:"xx6bls6",paddingTop:"x889kno",$$css:!0},inert:{pointerEvents:"x47corl",userSelect:"x87ps6o",$$css:!0},placeholder:{opacity:"xg01cxk",pointerEvents:"x47corl",position:"x1n2onr6",$$css:!0},root:{borderTopStartRadius:"x1o1ewxj",borderTopEndRadius:"x3x9cwd",borderBottomEndRadius:"x1e5q0jg",borderBottomStartRadius:"x13rtm0m",display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",maxHeight:"x1yr2tfi",position:"x1n2onr6","@media (max-width: 679px)_maxHeight":"x1jxyteu",$$css:!0},scrollableArea:{flexGrow:"x1iyjqo2",overscrollBehaviorY:"xy5w88m",$$css:!0},scrollSectionObserver:{height:"x1ycjhwn",$$css:!0}};function a(a,b){var e=a.children,f=a.footer,g=a.header,h=a.inline,p=h===void 0?!1:h;h=a.isContentInert;h=h===void 0?!1:h;var q=a.isFooterSticky,r=a.onScroll,s=a.onScrollBottom;a=a.testid;var t=c("useMatchViewport")("max","width",679),u=m(null);k(function(){u.current=window.innerHeight},[]);var v=c("useEventHandler")(function(){s&&s()}),w=c("useEventHandler")(function(){r&&r()}),x=c("useEventHandler")(function(a){w();u.current!=null&&window.pageYOffset>=((a=(a=document.body)==null?void 0:a.offsetHeight)!=null?a:0)-u.current&&v()});a=c("useEventHandler")(function(a){var b;u.current=Math.max((b=u.current)!=null?b:0,window.innerHeight);x(a)});j(function(){var a;if(window.innerWidth>679)return;u.current!=null&&window.pageYOffset>=((a=(a=document.body)==null?void 0:a.offsetHeight)!=null?a:0)-u.current&&v()},[v]);c("useWindowEvent")("scroll",x);c("useWindowEvent")("resize",a);a=function(){if(window.innerWidth<=679)return;v()};var y=function(){if(window.innerWidth<=679)return;w()},z=n(!1),A=z[0],B=z[1];z=n(!1);var C=z[0],D=z[1];z=m(null);b=c("useMergeRefs")(z,b);var E=m(null),F=l(function(){return{inline:p,showBackground:A}},[p,A]),G=l(function(){return{isPlaceholder:!0,xstyle:o.placeholder}},[]);G=!t&&i.jsx(c("CDSDialogHeaderFooterContainerContext").Provider,{value:G,children:g});var H=l(function(){return{inline:p,isInner:!1,isNarrow:t,isSticky:q,showBackground:C}},[p,t,q,C]),I=l(function(){return{isInner:!1,isNarrow:t,isPlaceholder:!0,isSticky:q,xstyle:o.placeholder}},[q,t]);I=i.jsx(c("CDSDialogHeaderFooterContainerContext").Provider,{value:I,children:f});var J=l(function(){return{inline:p,isInner:!0,isNarrow:t,isSticky:q,showBackground:C}},[p,t,q,C]),K=l(function(){return{isInner:!0,isNarrow:t,isPlaceholder:!0,isSticky:q,xstyle:o.placeholder}},[q,t]);K=i.jsx(c("CDSDialogHeaderFooterContainerContext").Provider,{value:K,children:f});var L={callback:function(a){B(!a)},heightXStyle:o.scrollSectionObserver},M={callback:function(a){D(!a)},heightXStyle:o.scrollSectionObserver};return i.jsx(c("CDSMiniToastProvider.react"),{children:i.jsxs("div",{className:"x1o1ewxj x3x9cwd x1e5q0jg x13rtm0m x78zum5 xdt5ytf x1iyjqo2 x1yr2tfi x1n2onr6 x1jxyteu","data-testid":void 0,ref:b,children:[i.jsx(c("BaseScrollRegionObserver.react"),{end:t?M:null,start:t?L:null}),i.jsx(c("CDSDialogGradient.react"),{fixPositioned:!p}),i.jsx(c("CDSDialogHeaderFooterContainerContext").Provider,{value:F,children:g}),i.jsx(c("BaseHeadingContextWrapper.react"),{children:i.jsxs(c("BaseScrollableArea.react"),{contentRef:E,hideScrollbar:!1,horizontal:!1,onScroll:y,onScrollBottom:a,vertical:!0,withBottomShadow:f!=null,withTopShadow:g!=null,xstyle:[o.scrollableArea,h&&o.inert],children:[i.jsx(c("BaseScrollRegionObserver.react"),{end:t?null:M,rootRef:z,start:t?null:L}),G,i.jsx(c("FocusInertRegion.react"),{disabled:!h,focusQuery:d("focusScopeQueries").tabbableScopeQuery,children:i.jsxs("div",{className:"x78zum5 xdt5ytf x1iyjqo2 xx6bls6 x889kno",ref:E,children:[e,K]})}),i.jsx(c("CDSDialogHeaderFooterContainerContext").Provider,{value:J,children:f}),I]})}),i.jsx(c("CDSDialogHeaderFooterContainerContext").Provider,{value:H,children:f})]})})}a.displayName=a.name+" [from "+f.id+"]";e=i.forwardRef(a);g["default"]=e}),98);
__d("ReStoreDbClosedError",["ClientConsistencyEventEmitter","MAWCurrentUser"],(function(a,b,c,d,e,f,g){"use strict";var h="LS DB closed";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var e;b=(b=b)!=null?b:h;e=a.call(this,b)||this;e.message=b;switch(d("MAWCurrentUser").getAppID()){case 772021112871879:c("ClientConsistencyEventEmitter").emit("hardRefresh","ls_forced_refresh");break;default:c("ClientConsistencyEventEmitter").emit("softRefresh","ls_forced_refresh")}return e}return b}(babelHelpers.wrapNativeSuper(Error));g["default"]=a}),98);
__d("MAWAbPropsTypes",[],(function(a,b,c,d,e,f){"use strict";a={noyb_opt_out_flag:[3488,"bool",!1,!1],service_improvement_opt_out_flag:[3664,"bool",!1,!1],msgrw_test_bool:[704,"bool",!1,!1],msgrw_test_int:[705,"int",0,0],msgrw_test_string:[706,"string","test_string","test_string"],msgrw_test_float:[707,"float",1,1],msgrw_icdc_alert_trigger_failure_count:[1233,"int",8,8],msgrw_icdc_cooldown_interval_in_minutes:[1234,"int",35,35],msgrw_icdc_interval_in_minutes:[1236,"int",1500,1500],msgrw_logger_entries:[1298,"int",0,0],msgrw_max_keys:[2453,"int",812,812],msgrw_job_manager_conf:[2667,"string",'{"maxConcurrency": 5,"bestEffortWaitTimeoutSec": 300,"highPriorityQuota":5,"lowPriorityQuota":1}','{"maxConcurrency": 5,"bestEffortWaitTimeoutSec": 300,"highPriorityQuota":5,"lowPriorityQuota":1}'],client_group_participants_limit:[618,"int",257,257],client_group_name_length_limit:[1200,"int",25,25]};f.ABPropConfigs=a}),66);
__d("MAWAbPropsToUI",["MAWAbPropsTypes"],(function(a,b,c,d,e,f,g){"use strict";var h=["client_group_participants_limit","client_group_name_length_limit"];function a(a){var b=a!=null?a:{},c={};h.forEach(function(a){b[a]!=null?c[a]=b[a]:c[a]=d("MAWAbPropsTypes").ABPropConfigs[a][2]});return c}g.prepareAbPropsForUI=a}),98);
__d("MAWDbContact",[],(function(a,b,c,d,e,f){"use strict";a=0;b=1;c=2;d=3;f.NON_CONTACT=a;f.ONE_WAY_CONTACT=b;f.REVERSED_ONE_WAY_CONTACT=c;f.TWO_WAY_CONTACT=d}),66);
__d("MAWDbMedia",[],(function(a,b,c,d,e,f){"use strict";b="Image";c="Video";d="Ptt";e="Gif";var g="Sticker",h="DocumentFile",i={DOCUMENT_FILE:h,GIF:e,IMAGE:b,PTT:d,STICKER:g,VIDEO:c};function a(a){return a}f.IMAGE=b;f.VIDEO=c;f.PTT=d;f.GIF=e;f.STICKER=g;f.DOCUMENT_FILE=h;f.MEDIA_TYPE=i;f.convertNumberToMediaId=a}),66);
__d("WAStanzaUtils",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a}f.toStanzaId=a}),66);
__d("WAExternalIdFromRandomHex",["WAHex","WAStanzaUtils"],(function(a,b,c,d,e,f,g){function a(a){a=new Uint8Array(d("WAHex").parseHex(a));var b=new Uint8Array(a.length+1),c=0;for(var e=0;e<a.length;e++)c^=a[e],b[e]=a[e];b[a.length]=c;return d("WAStanzaUtils").toStanzaId(d("WAHex").toHex(b))}g.externalIdFromRandomHex=a}),98);
__d("isMobileExternalIdFormatEnabled",["qex"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("qex")._("302")===!0}g["default"]=a}),98);
__d("MAWExternalId",["I64","Random","WAExternalIdFromRandomHex","WAHex","WAStanzaUtils","isMobileExternalIdFormatEnabled"],(function(a,b,c,d,e,f,g){"use strict";var h,i=4194303;function j(a){return Math.floor(c("Random").random()*a)}function a(){return!c("isMobileExternalIdFormatEnabled")()?d("WAExternalIdFromRandomHex").externalIdFromRandomHex(d("WAHex").randomHex(7)):d("WAStanzaUtils").toStanzaId((h||(h=d("I64"))).to_string(h.and_(h.or_(h.lsl_(h.of_float(Date.now()),22),h.and_(h.of_float(j(i)),h.of_float(i))),h.max_int)))}g.generateExternalId=a}),98);
__d("WABaseGlobals",["WAErr"],(function(a,b,c,d,e,f,g){"use strict";var h=null;function a(a){h=a}function i(){if(h==null)throw c("WAErr")("Trying to access WAGlobals before being set");return h}function b(a){var b=i();b.myJids=a}function d(){var a;a=(a=i().myJids)==null?void 0:a.deviceJid;if(a==null)throw c("WAErr")("Trying to access myDeviceJid, but it's not set");return a}function e(){var a;a=(a=i().myJids)==null?void 0:a.userJid;if(a==null)throw c("WAErr")("Trying to access myUserJid, but it's not set");return a}function f(){return i().db}function j(){return i().jidUtils}function k(){return i().config}function l(){return i().qpl}function m(a,b){return i().runInTransaction(a,b)}g.setGlobals=a;g.setMyJids=b;g.getMyDeviceJid=d;g.getMyUserJid=e;g.getDbImpls=f;g.getJidUtilsApi=j;g.getConfig=k;g.getQplConfig=l;g.runInTransaction=m}),98);
__d("WAGlobals",["WABaseGlobals","WAErr","WAJids","WALogger"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["WAOneQueue is not defined"]);h=function(){return a};return a}var i=null;function a(a){i=a,d("WABaseGlobals").setGlobals(a)}function j(){if(i==null)throw c("WAErr")("WaMsgr api called before set");return i}function b(a,b){var d=j();if(d.myJids!=null)throw c("WAErr")("Trying to set UserJid and DeviceJid but they are already set");d.myJids={userJid:a,deviceJid:b}}function k(){var a;a=(a=j().myJids)==null?void 0:a.deviceJid;if(a==null)throw c("WAErr")("Trying to access myDeviceJid, but it's not set");return a}function e(){var a;a=(a=j().myJids)==null?void 0:a.userJid;if(a==null)throw c("WAErr")("Trying to access myUserJid, but it's not set");return a}function f(){return j().db}function l(a){return d("WAJids").extractUserJid(a)===d("WAJids").extractUserJid(k())}function m(){return j().jidUtils}function n(){return j().crypto.manager}function o(){return j().crypto.storage}function p(){return j().config}function q(){return j().dependencies}function r(a,b,c){return j().runInTransaction(a,b,c)}function s(){var a=j().waOneQueue;a==null&&d("WALogger").ERROR(h());return a}g.setGlobals=a;g.setMyJids=b;g.getMyDeviceJid=k;g.getMyUserJid=e;g.getDbImpls=f;g.isPeerDevice=l;g.getJidUtilsApi=m;g.getCryptoManager=n;g.getInMemorySignal=o;g.getConfig=p;g.getDependencies=q;g.runInTransaction=r;g.getWaOneQueue=s}),98);
__d("WAJobDefinitions",["WAGlobals"],(function(a,b,c,d,e,f,g){"use strict";function h(a){if(a==null)return;return{priority:a.priority,maxTimeoutMs:a.maxTimeoutMs,jobId:a.jobId}}b=function(){return{queryGroups:function(a,b){var c;b=h(b);a==null?c={type:"all"}:c={type:"single",group:a};return{type:"queryGroups",args:c,scheduleConfig:(a=b)!=null?a:void 0}},computeAndUploadICDCInfo:function(a,b,c,d){d=h(d);return{type:"computeAndUploadICDCInfo",args:{reason:a,sequence:c,caller:b},scheduleConfig:(a=d)!=null?a:void 0}},syncdSyncAllCollections:function(a){a=h(a);return{type:"syncdSyncAllCollections",args:{},scheduleConfig:(a=a)!=null?a:void 0}},requestAllSyncdMissingKeys:function(a){a=h(a);return{type:"requestAllSyncdMissingKeys",args:{},scheduleConfig:(a=a)!=null?a:void 0}}}};c=b();function i(a,b){var c=b.scheduleConfig,e=babelHelpers.objectWithoutPropertiesLoose(b,["scheduleConfig"]);c={type:a,args:{},scheduleConfig:c};b.externalIdJob&&(c.args.externalId=d("WAGlobals").getDependencies().generateExternalId());c.args=babelHelpers["extends"]({},c.args,e);b.uniqueJob&&(c.uniqKey=a);return c}function a(a,b){return i(a,b)}g.serializeJobScheduledConfig=h;g.createJobSerializers=b;g.jobSerializers=c;g.createStartJobInfoGeneric=i;g.createStartJobInfo=a}),98);
__d("MAWJobDefinitions",["MAWExternalId","WAJobDefinitions"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return a}function b(a){return a}e=d("WAJobDefinitions").createJobSerializers();f=babelHelpers["extends"]({},e,{acceptGroupInvite:function(a,b,c,e,f,g){g=d("WAJobDefinitions").serializeJobScheduledConfig(g);return{args:{chatId:a,inviteCode:e,invitedParticipantUserId:c,inviteExpirationTs:f,inviterUserId:b},scheduleConfig:(a=g)!=null?a:void 0,type:"acceptGroupInvite"}},addGroupParticipants:function(a,b,c){c=d("WAJobDefinitions").serializeJobScheduledConfig(c);return{args:{group:a,users:b},scheduleConfig:(a=c)!=null?a:void 0,type:"addGroupParticipants"}},deleteGroups:function(a,b){b=d("WAJobDefinitions").serializeJobScheduledConfig(b);return{args:{groups:a},scheduleConfig:(a=b)!=null?a:void 0,type:"deleteGroups"}},deleteMsgsForMe:function(a,b){b=d("WAJobDefinitions").serializeJobScheduledConfig(b);return{args:{msgIds:a},scheduleConfig:(a=b)!=null?a:void 0,type:"deleteMsgsForMe"}},demoteGroupParticipants:function(a,b,c){c=d("WAJobDefinitions").serializeJobScheduledConfig(c);return{args:{group:a,users:b},scheduleConfig:(a=c)!=null?a:void 0,type:"demoteGroupParticipants"}},downloadAndHandleMedia:function(a,b,c,e,f,g,h){h=d("WAJobDefinitions").serializeJobScheduledConfig(h);return{args:{hash:b,metricInstanceKeys:g,msgType:e,protocolMsgId:a,protocolMsgIdForLogging:f,qplEntryPoint:c},scheduleConfig:(b=h)!=null?b:void 0,type:"downloadAndHandleMedia"}},forwardMsg:function(a,b,c,e,f,g,h){g=d("WAJobDefinitions").serializeJobScheduledConfig(g);return{args:{args:h,chatJid:a,ephemeralSetting:c,externalId:(h=e)!=null?h:d("MAWExternalId").generateExternalId(),isFirstMsg:f,protocolMsgId:b},scheduleConfig:(a=g)!=null?a:void 0,type:"forwardMsg"}},getCurrentUserDeviceList:function(a){a=d("WAJobDefinitions").serializeJobScheduledConfig(a);return{args:void 0,scheduleConfig:(a=a)!=null?a:void 0,type:"getCurrentUserDeviceList"}},getSpams:function(a){a=d("WAJobDefinitions").serializeJobScheduledConfig(a);return{args:void 0,scheduleConfig:(a=a)!=null?a:void 0,type:"getSpams"}},handleFutureproofMsg:function(a){a=d("WAJobDefinitions").serializeJobScheduledConfig(a);return{args:{},scheduleConfig:(a=a)!=null?a:void 0,type:"handleFutureproofMsg"}},handleSpamMsg:function(a){a=d("WAJobDefinitions").serializeJobScheduledConfig(a);return{args:void 0,scheduleConfig:(a=a)!=null?a:void 0,type:"handleSpamMsg"}},leaveGroups:function(a,b){b=d("WAJobDefinitions").serializeJobScheduledConfig(b);return{args:{groups:a},scheduleConfig:(a=b)!=null?a:void 0,type:"leaveGroups"}},linkReactionsToMsgs:function(a,b){b=d("WAJobDefinitions").serializeJobScheduledConfig(b);return{args:{externalIds:a},scheduleConfig:(a=b)!=null?a:void 0,type:"linkReactionsToMsgs"}},markThreadAsRead:function(a,b,c,e){e=d("WAJobDefinitions").serializeJobScheduledConfig(e);return{args:{chatJid:a,isReadReceiptsDisabled:c,upTo:b},scheduleConfig:(a=e)!=null?a:void 0,type:"markThreadAsRead",uniqKey:b==null?void 0:b.externalId}},postBackupWriteCompletionHook:function(a){return{args:{traceIdArray:a},type:"postBackupWriteCompletionHook"}},promoteGroupParticipants:function(a,b,c){c=d("WAJobDefinitions").serializeJobScheduledConfig(c);return{args:{group:a,users:b},scheduleConfig:(a=c)!=null?a:void 0,type:"promoteGroupParticipants"}},removeGroupParticipants:function(a,b,c){c=d("WAJobDefinitions").serializeJobScheduledConfig(c);return{args:{group:a,users:b},scheduleConfig:(a=c)!=null?a:void 0,type:"removeGroupParticipants"}},reportUserSpam:function(a,b,c,e,f,g,h,i,j,k){j=d("WAJobDefinitions").serializeJobScheduledConfig(j);return{args:{chatJid:c,context:g,frxParams:h,frxTags:f,isIgd:e,openMsgs:k,reportedMessageId:i,spamFlow:b,userJid:a},scheduleConfig:(c=j)!=null?c:void 0,type:"reportUserSpam"}},requestReuploadMedia:function(a,b,c){c=d("WAJobDefinitions").serializeJobScheduledConfig(c);return{args:{hash:b,protocolMsgId:a},scheduleConfig:(b=c)!=null?b:void 0,type:"requestReuploadMedia"}},resendWrittenAppData:function(a,b){b=d("WAJobDefinitions").serializeJobScheduledConfig(b);return{args:{appDataExternalId:a},scheduleConfig:(a=b)!=null?a:void 0,type:"resendWrittenAppData"}},restoreMessagesFromEncryptedBackups:function(a,b,c,e,f,g,h,i,j,k,l,m,n){n=d("WAJobDefinitions").serializeJobScheduledConfig(n);return{args:{hasMoreAfter:f,hasMoreBefore:e,instanceKey:k,isPointQuery:g,messages:c,minMsgId:h,optimisticMsgs:l,startSortKey:j,taskSource:m,threadId:b,traceId:i,transportKey:a},scheduleConfig:(f=n)!=null?f:void 0,type:"restoreMessagesFromEncryptedBackups"}},restoreProtobufsFromEncryptedBackups:function(a,b,c,e,f,g,h,i,j,k,l){l=d("WAJobDefinitions").serializeJobScheduledConfig(l);return{args:{hasMoreAfter:f,hasMoreBefore:e,instanceKey:k,isPointQuery:g,messages:c,minMsgId:h,referenceTimestamp:j,requestId:i,threadId:b,transportKey:a},scheduleConfig:(f=l)!=null?f:void 0,type:"restoreProtobufsFromEncryptedBackups"}},restoreThreadsFromEncryptedBackups:function(a,b,c){c=d("WAJobDefinitions").serializeJobScheduledConfig(c);return{args:{threads:b,transportKey:a},scheduleConfig:(b=c)!=null?b:void 0,type:"restoreThreadsFromEncryptedBackups"}},reuploadMedia:function(a,b,c,e,f,g){g=d("WAJobDefinitions").serializeJobScheduledConfig(g);return{args:{chatJid:c,encIv:f,encProto:e,externalId:a,receiver:b},scheduleConfig:(c=g)!=null?c:void 0,type:"reuploadMedia"}},revokeMsgs:function(a,b){b=d("WAJobDefinitions").serializeJobScheduledConfig(b);return{args:{msgIds:a},scheduleConfig:(a=b)!=null?a:void 0,type:"revokeMsgs"}},sendAppData:function(a,b,c){c=d("WAJobDefinitions").serializeJobScheduledConfig(c);return{args:{args:a,externalId:(a=b)!=null?a:d("MAWExternalId").generateExternalId()},scheduleConfig:(b=c)!=null?b:void 0,type:"sendAppData"}},sendEphemeralSettingMsg:function(a,b,c,e){e=d("WAJobDefinitions").serializeJobScheduledConfig(e);return{args:{args:b,chatJid:a,externalId:(b=c)!=null?b:d("MAWExternalId").generateExternalId()},scheduleConfig:(a=e)!=null?a:void 0,type:"sendEphemeralSettingMsg"}},sendGroupInviteMsg:function(a,b,c){c=d("WAJobDefinitions").serializeJobScheduledConfig(c);return{args:{args:a,externalId:(a=b)!=null?a:d("MAWExternalId").generateExternalId()},scheduleConfig:(b=c)!=null?b:void 0,type:"sendGroupInviteMsg"}},sendMediaMsg:function(a,b,c,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u){q=d("WAJobDefinitions").serializeJobScheduledConfig(q);return{args:{args:{duration:i,ephemeralSetting:k,filename:s,height:f,isFirstMsg:o,isForwarded:n,isPtt:j,jpegThumbnail:c,jpegThumbnailHeight:h,jpegThumbnailWidth:g,offlineAttachmentId:t,openMessageOtid:m,quote:l,s2sInstanceKey:u,source:r,width:e},chatJid:a,externalId:(i=p)!=null?i:d("MAWExternalId").generateExternalId(),file:b},scheduleConfig:(k=q)!=null?k:void 0,type:"sendMediaMsg"}},sendMsg:function(a,b,c,e){e=d("WAJobDefinitions").serializeJobScheduledConfig(e);return{args:{args:b,chatJid:a,externalId:(b=c)!=null?b:d("MAWExternalId").generateExternalId()},scheduleConfig:(a=e)!=null?a:void 0,type:"sendMsg"}},sendRavenActionMsg:function(a,b,c,e){e=d("WAJobDefinitions").serializeJobScheduledConfig(e);return{args:{args:b,chatJid:a,externalId:(b=c)!=null?b:d("MAWExternalId").generateExternalId()},scheduleConfig:(a=e)!=null?a:void 0,type:"sendRavenActionMsg"}},sendReactionMsg:function(a,b,c,e,f,g,h){g=d("WAJobDefinitions").serializeJobScheduledConfig(g);return{args:{args:{groupingKey:"",reaction:e,reactToAuthor:c,reactToProtocolMsgId:b,source:h},chatJid:a,externalId:(e=f)!=null?e:d("MAWExternalId").generateExternalId()},scheduleConfig:(c=g)!=null?c:void 0,type:"sendReactionMsg"}},sendWrittenAppData:function(a,b){b=d("WAJobDefinitions").serializeJobScheduledConfig(b);return{args:{appDataExternalId:a},scheduleConfig:(a=b)!=null?a:void 0,type:"sendWrittenAppData"}},sendWrittenMsg:function(a,b,c,e,f){c===void 0&&(c="message");f=d("WAJobDefinitions").serializeJobScheduledConfig(f);return{args:{gotDevicesBeforeSending:e,protocolMsgId:a,s2sInstanceKey:b,type:c},scheduleConfig:(e=f)!=null?e:void 0,type:"sendWrittenMsg"}},sendXMAShareMsg:function(a,b,c,e,f,g,h,i,j,k){k=d("WAJobDefinitions").serializeJobScheduledConfig(k);return{args:{args:g,associatedMsgContent:f,associatedMsgContentExternalId:(g=i)!=null?g:d("MAWExternalId").generateExternalId(),chatJid:a,faviconFile:e,headerFile:c,previewFile:b,xmaArgs:j,xmaMsgExternalId:(f=h)!=null?f:d("MAWExternalId").generateExternalId()},scheduleConfig:(i=k)!=null?i:void 0,type:"sendXMAShareMsg"}},setGroupSubject:function(a,b,c){c=d("WAJobDefinitions").serializeJobScheduledConfig(c);return{args:{group:a,subject:b},scheduleConfig:(a=c)!=null?a:void 0,type:"setGroupSubject"}},updateBackupEntFbidForMedia:function(a,b,c,e){e=d("WAJobDefinitions").serializeJobScheduledConfig(e);return{args:{backupEntFbid:b,deliveryObjectId:a,traceId:c},scheduleConfig:(b=e)!=null?b:void 0,type:"updateBackupEntFbidForMedia"}},uploadMessagesBackup:function(a,b,c,e,f,g,h,i){i=d("WAJobDefinitions").serializeJobScheduledConfig(i);return{args:{messageIds:a,oldTraceIdMap:g,pendingStanzaIds:c,reactionIds:e,threadIds:b,xmaIds:f},scheduleConfig:(a=i)!=null?a:void 0,type:"uploadMessagesBackup",uniqKey:h}},uploadRetroactiveMessageBatch:function(a,b,c,d){return{args:{chatId:d,dbMsgArray:a,includeOffset:b,msgOffset:c},type:"uploadRetroactiveMessageBatch"}},uploadRetroactiveThreadsAndMessages:function(a){a=d("WAJobDefinitions").serializeJobScheduledConfig(a);return{args:void 0,scheduleConfig:(a=a)!=null?a:void 0,type:"uploadRetroactiveThreadsAndMessages"}}});function c(a,b){return d("WAJobDefinitions").createStartJobInfoGeneric(a,b)}g.toThreadJidPrimaryId=a;g.toEncodedEchoMessage=b;g.jobSerializers=f;g.createStartJobInfo=c}),98);
__d("WAJobOrchestratorTypes",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum")({SKIP:"SKIP_PRIORITIZATION",UI_ACTION:"UI_ACTION",LOW:"LOW",HIGH:"HIGH",OFFLINE:"OFFLINE",HISTORY_SYNC:"HISTORY_SYNC",BEST_EFFORT:"BEST_EFFORT"});c=1;d=a.LOW;e=10*1e3;f.JOB_PRIORITY=a;f.DEFAULT_CONCURRENCY=c;f.DEFAULT_JOB_PRIORITY=d;f.DEFAULT_JOB_TIMEOUT_MS=e}),66);
__d("MAWUIJob",["MAWBridge","WAJobOrchestratorTypes"],(function(a,b,c,d,e,f,g){"use strict";var h={priority:d("WAJobOrchestratorTypes").JOB_PRIORITY.UI_ACTION};a={fireAndForget:function(a){d("MAWBridge").getBridge().fireAndForget("backend","runJobFireAndForget",babelHelpers["extends"]({},a,{scheduleConfig:(a=a.scheduleConfig)!=null?a:h}))},waitUntilCompleted:function(a){a=d("MAWBridge").getBridge().sendAndReceive("backend","runJobWaitUntilCompleted",babelHelpers["extends"]({},a,{scheduleConfig:(a=a.scheduleConfig)!=null?a:h}));return a},waitUntilPersisted:function(a){a=d("MAWBridge").getBridge().sendAndReceive("backend","runJobWaitUntilPersisted",babelHelpers["extends"]({},a,{scheduleConfig:(a=a.scheduleConfig)!=null?a:h}));return a}};g.UIJobStarters=a}),98);
__d("MAWContactRelationshipType",["I64","LSContactBitOffset","MAWDbContact"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var b=d("LSContactBitOffset").hasWithDefault(64,a,!0);a=(h||(h=d("I64"))).ge(a.contactViewerRelationship,h.of_string("2"));if(a&&b)return d("MAWDbContact").ONE_WAY_CONTACT;else if(!a&&!b)return d("MAWDbContact").REVERSED_ONE_WAY_CONTACT;else if(a&&!b)return d("MAWDbContact").TWO_WAY_CONTACT;return d("MAWDbContact").NON_CONTACT}g.getContactRelationshipType=a}),98);
__d("MAWImageUtils",["Promise","err"],(function(a,b,c,d,e,f,g){"use strict";var h,i="image/jpeg";e=100;function j(a,d){d===void 0&&(d=!0);var e;return new(h||(h=b("Promise")))(function(b,f){e=new Image();var g=/^(?:data|blob):/.test(a);d&&!g&&e.setAttribute("crossOrigin","anonymous");e.onload=b;e.onabort=function(){f(function(){throw c("err")("Error loading image from provided URL")})};e.onerror=function(){f(function(){throw c("err")("Wrong blob type")})};e.src=a}).then(function(){return e})}function k(a,c,d,e){d===void 0&&(d=!1);var f=40*1024;if(a.toBlob)return new(h||(h=b("Promise")))(function(b){var d=e==null?void 0:e/100;a.toBlob(b,c,d)}).then(function(e){return d&&e.size>=f?new(h||(h=b("Promise")))(function(b){a.toBlob(b,c,f/e.size)}):e});else return(h||(h=b("Promise"))).resolve(window.dataURLtoBlob(a.toDataURL(c))).then(function(e){return d&&e.size>=f?(h||(h=b("Promise"))).resolve(window.dataURLtoBlob(a.toDataURL(c,f/e.size))):e})}function a(a,d,e){return j(a).then(function(a){var b=document.createElement("canvas");b.width=a.naturalWidth;b.height=a.naturalHeight;var c=b.getContext("2d");m(b);c.drawImage(a,0,0);return k(b,d,!1,e).then(function(b){return{blob:b,height:a.naturalHeight,width:a.naturalWidth}})})["catch"](function(a){return(h||(h=b("Promise"))).reject(function(){throw c("err")(a)})})}function d(a,b){return j(a).then(function(a){var c=document.createElement("canvas"),d=a.naturalWidth,e=a.naturalHeight,f=c.getContext("2d");e=n(e,d,b);c.width=e.width;c.height=e.height;var g=c.width,h=c.height;l(c);f.drawImage(a,0,0,g,h);return k(c,i,!0).then(function(a){return a.arrayBuffer().then(function(a){return{height:h,jpegThumbnail:a,width:g}})})})}function l(a){var b=a.getContext("2d");b.fillStyle="rgb(247,247,247)";b.fillRect(0,0,a.width,a.height)}function m(a){var b=a.getContext("2d");b.fillStyle="rgb(255,255,255)";b.fillRect(0,0,a.width,a.height)}function n(a,b,c){b=b!=null?b:c;a=a!=null?a:c;b>a?b>c&&(a*=c/b,b=c):a>c&&(b*=c/a,a=c);return{height:Math.max(a,1),width:Math.max(b,1)}}g.TYPE_JPEG=i;g.IMG_THUMB_MAX_EDGE=e;g.canvasToBlob=k;g.urlToFile=a;g.urlToThumbnail=d;g.boundHeightWidth=n}),98);
__d("MAWMiActOnActThreadReadyQueue",["FBLogger","I64","MAWWebWorkerInstance","WALoggerDeferred","asyncToGeneratorRuntime","clearTimeout","promiseDone","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["[MiActMapping] Executed "," out of "," actions on ACT thread\n    ready for threadKey: ",""]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["[MiActMapping] Executing queued action on ACT thread ready: "," for threadKey: ",""]);j=function(){return a};return a}var k=new Map(),l=3e4;function a(a,b,e,f,g){var i=(h||(h=d("I64"))).to_string(a);a=(a=k.get(i))!=null?a:[];var j=c("setTimeout")(function(){c("FBLogger")("messenger_e2ee_web").mustfix("[MiActMapping] Took longer than %s ms to execute: %s in threadState: %s for threadKey: %s, onActThreadReady, isWorkerAlive: %s",l,f,g,i,d("MAWWebWorkerInstance").doesWorkerExist()),e()},l);a.push({callback:b,description:f,threadState:g,timeoutId:j});k.set(i,a)}function e(a,b,c){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e){var f=(h||(h=d("I64"))).to_string(a),g=k.get(f);if(g==null||g.length===0)return;var l=g.length,m=0;while(g.length!==0){var n=g.shift(),o=n.callback,p=n.description,q=n.threadState;n=n.timeoutId;try{c("promiseDone")(d("WALoggerDeferred").LOG(j(),p,f)),yield o(a,b,e),c("clearTimeout")(n),m++}catch(a){c("clearTimeout")(n),c("FBLogger")("messenger_e2ee_web").catching(a).mustfix("[MiActMapping] Error executing callback on ACT thread ready: %s, original threadState: %s, threadKey: %s",p,q,f)}}k["delete"](f);c("promiseDone")(d("WALoggerDeferred").LOG(i(),m,l,f))});return m.apply(this,arguments)}g.enqueueByThreadKey=a;g.processQueueOnActThreadReady=e}),98);
__d("MAWMiActOnActThreadReady",["FBLogger","I64","MAWMiActGetThreadLifecycleState","MAWMiActOnActThreadReadyQueue","MAWMiActThreadLifecycleState","WALoggerDeferred","asyncToGeneratorRuntime","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["[MiActMapping] Executing thread action: ",", threadState: ",", threadKey: "," on act thread ready"]);i=function(){return a};return a}function a(a,b,c,d,e){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f,g){a=(yield d("MAWMiActGetThreadLifecycleState").getThreadLifecycleStateByThreadKey(a,b,e));switch(a.type){case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.MI_AND_ACT_THREAD_COMPLETE:case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.OPTIMISTIC_THREAD_WITH_ACT:case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.ACT_THREAD_ONLY:c("promiseDone")(d("WALoggerDeferred").LOG(i(),e,a.type,(h||(h=d("I64"))).to_string(b)));return f(b,a.chatId,a.jid);case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.THREAD_KEY_ONLY:case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.AUTHORITATIVE_THREAD_MISSING_MAPPING_ROW:case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.OPTIMISTIC_THREAD_NO_ACT:case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.AUTHORITATIVE_THREAD_ONLY:case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.CLIENT_PARTIAL_MI_THREAD:case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.SERVER_PARTIAL_MI_THREAD:return d("MAWMiActOnActThreadReadyQueue").enqueueByThreadKey(b,f,(f=g)!=null?f:function(){},e,a.type);case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.ACT_THREAD_ONLY_BY_CHAT_ID:case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.ACT_THREAD_ONLY_BY_JID:case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.JID_MISSING_MI_THREAD:case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.JID_MISSING_MAPPING_ROW:throw c("FBLogger")("messenger_e2ee_web").mustfixThrow("[MiActMapping] Unhandled onActThreadReady for threadKey:\n        %s, thread action: %s",(h||(h=d("I64"))).to_string(b),e);default:a.type;throw c("FBLogger")("messenger_e2ee_web").mustfixThrow("[MiActMapping] Unreachable miActThreadState.type: %s",a.type)}});return j.apply(this,arguments)}g.onActThreadReady=a}),98);
__d("LSInitSyncCompleteSubscription",["I64","LSIntEnum","Promise","ReQL"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(a,c){return new(j||(j=b("Promise")))(function(b,e){var f=d("ReQL").fromTableAscending(a.table("sync_groups")).getKeyRange(c).subscribe(function(a,c){if(c.operation==="delete")return;if((h||(h=d("I64"))).equal(c.value.syncStatus,(i||(i=d("LSIntEnum"))).ofNumber(2))){f();return b()}})})}function a(a,b){return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.table("sync_groups")).getKeyRange(b)).then(function(c){if(c!=null&&(h||(h=d("I64"))).equal(c.syncStatus,(i||(i=d("LSIntEnum"))).ofNumber(2)))return;return k(a,b)})}function c(a){return k(a,(i||(i=d("LSIntEnum"))).ofNumber(1))}g.maybeWaitForSyncGroup=a;g.use=c}),98);
__d("MAWTrackPendingOccamadilloThreads",["LSDatabaseSingleton","LSInitSyncCompleteSubscription","LSIntEnum","MAWTTRC","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=new Set(),k=new Set(),l=new Set();function a(a){d("MAWTTRC").markEvent("occamadillo_thread_mapping_start"),k.add(a),j.add(a),d("MAWTTRC").addIntAnnotation("occamadilloThreadCount",j.size)}function e(a){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=(yield i||(i=c("LSDatabaseSingleton")));yield d("LSInitSyncCompleteSubscription").maybeWaitForSyncGroup(b,(h||(h=d("LSIntEnum"))).ofNumber(95));d("MAWTTRC").markEvent("occamadillo_sync_group_complete");k["delete"](a);l.add(a);d("MAWTTRC").addIntAnnotation("occamadilloCompleteThreadCount",l.size);n()});return m.apply(this,arguments)}function n(){k.size===0&&(d("MAWTTRC").addIntAnnotation("occamadilloThreadCount",j.size),d("MAWTTRC").markEvent("occamadillo_thread_mapping_end"))}g.addPendingThread=a;g.removePendingThread=e;g.maybeEndOccamadilloThreadMapping=n}),98);
__d("MAWBridgeUIEventDataValidation",["FBLogger","I64"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){try{return(h||(h=d("I64"))).of_string(a)}catch(b){c("FBLogger")("mpf_web_foundations").catching(b).mustfix("Cannot convert string to i64: %s",a)}}g.stringToI64Opt=a}),98);
__d("MAWFetchNicknames",["ReQL"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c){return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.table("participants")).getKeyRange(c,b)).then(function(a){return a==null?void 0:a.nickname})}g["default"]=a}),98);
__d("LSContactIdType",[],(function(a,b,c,d,e,f){a=Object.freeze({UNKNOWN:0,FBID:1,SMS_LOCAL_ID:2});f["default"]=a}),66);
__d("LSContactType",[],(function(a,b,c,d,e,f){a=Object.freeze({UNKNOWN:0,USER:1,PAGE:2,PAGE_PERSONA:3});f["default"]=a}),66);
__d("LSContactViewerRelationship",[],(function(a,b,c,d,e,f){a=Object.freeze({UNKNOWN:0,NOT_CONTACT:1,CONTACT_OF_VIEWER:2,FACEBOOK_FRIEND:3,SOFT_CONTACT:4});f["default"]=a}),66);
__d("LSContactWorkForeignEntityType",[],(function(a,b,c,d,e,f){a=Object.freeze({UNKNOWN:0,FOREIGN:1,NOT_FOREIGN:2,NOT_FOREIGN_LIMITED:3});f["default"]=a}),66);
__d("MAWSubscribeToContactNames",["fbt","$InternalEnum","CurrentUser","Env","I64","LSAuthorityLevel","LSContactBlockedByViewerStatus","LSContactGender","LSContactIdType","LSContactType","LSContactViewerRelationship","LSContactWorkForeignEntityType","LSFactory","LSVerifyContactRowExistsStoredProcedure","MAWBridgeUIEventDataValidation","MAWFetchNicknames","Promise","ReQL","Run","SubscriptionsHandler","asyncToGeneratorRuntime","gkx","isStringNullOrEmpty","promiseDone"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=b("$InternalEnum").Mirrored(["FIRST_NAME","FULL_NAME"]),m=new Map(),n=Boolean((k||(k=c("Env"))).isMessengerDotComOnComet)?"Messenger":c("gkx")("1902661")?"Instagram":"Facebook";function o(){return h._("__JHASH__qNfUY0OKWF7__JHASH__",[h._param("Platform Name",n)]).toString()}function a(a,b){return(a=a.get(b))!=null?a:o()}function p(a,b){b=b===l.FULL_NAME?a==null?void 0:a.name:a==null?void 0:a.firstName;return(b=b)!=null?b:a==null?void 0:a.name}function q(a,b,e,f){var g=d("ReQL").fromTableAscending(a.table("contacts")).getKeyRange(b).subscribe(function(a,b){if(b.operation==="delete")return;a=p(b.value,e);if(a==null||a==="")return;c("promiseDone")(f(a),g)});return g}function r(a,c){return(j||(j=b("Promise"))).all(c.map(function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){var c=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.table("contacts")).getKeyRange(b)));return c==null||c.name===""?b:null});return function(a){return c.apply(this,arguments)}}())).then(function(a){return a.filter(Boolean)})}function s(a,b,c,d,e){return t.apply(this,arguments)}function t(){t=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f,g){g===void 0&&(g=!1);if(!g&&f!=null){g=(yield c("MAWFetchNicknames")(a,b,f));if(g!=null)return g}f=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.table("contacts")).getKeyRange(b)));return p(f,e)});return t.apply(this,arguments)}function u(a,b){return c("LSVerifyContactRowExistsStoredProcedure")(c("LSFactory")(a),{authorityLevel:(i||(i=d("I64"))).of_int32(c("LSAuthorityLevel").OPTIMISTIC),blockedByViewerStatus:i.of_int32(c("LSContactBlockedByViewerStatus").UNBLOCKED),contactIdType:i.of_int32(c("LSContactIdType").FBID),contactType:i.of_int32(c("LSContactType").USER),contactViewerRelationship:i.of_int32(c("LSContactViewerRelationship").UNKNOWN),gender:i.of_int32(c("LSContactGender").UNKNOWN),id:b,isBlocked:!1,isMemorialized:!1,isSelf:b===c("CurrentUser").getID(),workForeignEntityType:i.of_int32(c("LSContactWorkForeignEntityType").UNKNOWN)})}function v(a,b){return w.apply(this,arguments)}function w(){w=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c){c=(yield r(a,c));yield (j||(j=b("Promise"))).all(c.map(function(b){return u(a,b)}))});return w.apply(this,arguments)}function x(a){var b=function(){var b=m.get(a);b==null?(b=new(c("SubscriptionsHandler"))(),m.set(a,b)):(b.release(),b.engage());return b}(),e=d("Run").onBeforeUnload(function(){m.forEach(function(a){return a.release()}),m.clear()},!1);return{add:function(a){b.addSubscriptions({unsubscribe:a})},release:function(){e.remove(),b.release(),m["delete"](a)}}}function y(a){return z.apply(this,arguments)}function z(){z=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var e=a.contactIDs,f=a.db,g=a.nameMode,h=g===void 0?l.FIRST_NAME:g,k=a.onResolve;g=a.subscriptionKey;var m=a.txn,n=a.threadKey,p=a.nicknameOnlyForFirstParticipant,r=p===void 0?!1:p;p=a.skipNickname;var t=p===void 0?!1:p,u=[],w=[];e.forEach(function(a){var b=d("MAWBridgeUIEventDataValidation").stringToI64Opt(a);b!=null?u.push(b):w.push(a)});yield v(m,u);var y=new Map(),z=x(g),A=function(a,b){b=(b=y.get(b))!=null?b:o();return[(i||(i=d("I64"))).to_string(a),b]},B=(yield (j||(j=b("Promise"))).all(u.map(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e){var g=(yield s(m,a,h,n,r&&e>0||t));if(!c("isStringNullOrEmpty")(g)){y.set(e,g);return[(i||(i=d("I64"))).to_string(a),g]}if(k!=null){var j=q(f,a,h,function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){j(),y.set(e,a),y.size===u.length&&(z.release(),yield k(new Map(u.map(A))))});return function(b){return a.apply(this,arguments)}}());z.add(j)}return[(i||(i=d("I64"))).to_string(a),o()]});return function(b,c){return a.apply(this,arguments)}}())));w.forEach(function(a){B.push([a,o()])});return new Map(B)});return z.apply(this,arguments)}function e(a){var b=a.contactIDs,c=a.onResolve;a=babelHelpers.objectWithoutPropertiesLoose(a,["contactIDs","onResolve"]);var d=function(a){return b.map(function(b){return(b=a.get(b))!=null?b:o()})},e=function(){return c==null?void 0:function(a){return c(d(a))}}();return y(babelHelpers["extends"]({},a,{contactIDs:b,onResolve:e})).then(d)}g.ContactNameMode=l;g.getUnknownUser=o;g.getContactNameFromLookup=a;g.getContactNameFromContactID=s;g.genContacts=y;g.getContactNamesFromContactIDs=e}),98);
__d("MAWAbPropsClient",["MAWAbPropsToUI"],(function(a,b,c,d,e,f,g){"use strict";var h={contents:d("MAWAbPropsToUI").prepareAbPropsForUI()};function a(a){h.contents=a}function b(){return h.contents}g.rewrite=a;g.getAbProps=b}),98);
__d("IGDBundleResource",["IGDAWMainWebWorkerResource"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("IGDAWMainWebWorkerResource")}),98);
__d("MessengerIntent",["WebStorage","gkx","justknobx"],(function(a,b,c,d,e,f,g){"use strict";var h,i="mw_sent_message",j="mw_worker_ready";function k(){return c("gkx")("9852")?c("justknobx")._("1630"):c("justknobx")._("1041")}function l(){return c("justknobx")._("1309")}function a(){(h||(h=c("WebStorage"))).setItemGuarded(h.getLocalStorage(),j,String(Date.now()))}function b(){var a=(h||(h=c("WebStorage"))).getLocalStorage();return Date.now()-Number(a==null?void 0:a.getItem(j))<k()}function m(){if(!c("gkx")("1371"))return!1;var a=(h||(h=c("WebStorage"))).getLocalStorage();return(a==null?void 0:a.getItem(j))!=null}function d(){(h||(h=c("WebStorage"))).setItemGuarded(h.getLocalStorage(),i,String(Date.now()))}function e(){var a=(h||(h=c("WebStorage"))).getLocalStorage();return Date.now()-Number(a==null?void 0:a.getItem(i))<k()}function f(){if(!c("gkx")("1371"))return!1;if(!m())return!1;var a=(h||(h=c("WebStorage"))).getLocalStorage();a=a==null?void 0:a.getItem(i);return a==null?!0:Date.now()-Number(a)>l()}g.markWorkerReady=a;g.isMAWWorkerFresh=b;g.isMAWWorkerInstalledOnProfile=m;g.sentMessage=d;g.hasSentMessagesRecently=e;g.hasNegativeSentIntent=f}),98);
__d("MWLSLogSend",["CometHeroLogging","I64","LSIntEnum","LSMessagingInitiatingSource","MWChatInteraction","MessengerIntent"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j={};function k(a){var b={mw_version:(h||(h=d("I64"))).to_string(a.mwVersion),thread_type:h.to_string(a.threadType)},e=a.initiatingSource;if(e!=null){var f=(h||(h=d("I64"))).equal(e,(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessagingInitiatingSource").FACEBOOK_CHAT));e=h.equal(e,i.ofNumber(c("LSMessagingInitiatingSource").FACEBOOK_INBOX));f?b.entrypoint="chat":e&&(b.entrypoint="inbox")}a.isMessageRequest!=null&&(b.isMessageRequest=a.isMessageRequest?"true":"false");a.isCommunityEvent!=null&&(b.is_community_event=a.isCommunityEvent?"true":"false");return b}function a(a,b,e){var f=c("CometHeroLogging").genHeroInteractionUUIDAndMarkStart(a.getTraceId());d("MWChatInteraction").set(b,f);f=k(e);Object.entries(f).forEach(function(b){var c=b[0];b=b[1];a.addMetadata(c,String(b))});d("MessengerIntent").sentMessage();return a.onComplete(function(){delete d("MWChatInteraction").interactions[b]})}function b(a){return j[a]}function e(a,b){j[a]=b}g.getMessageSendAnnotations=k;g.logSentHeroInteraction=a;g.getS2sKeyFromOfflineMessageId=b;g.setS2sKeyForOfflineMessageId=e}),98);
__d("MainPageUrl",["ExecutionEnvironment","FBLogger","SimpleHook"],(function(a,b,c,d,e,f,g){"use strict";var h,i=new URL("http://undefined"),j=new(d("SimpleHook").SimpleHook)();function k(){var a;return(h||(h=c("ExecutionEnvironment"))).isInBrowser&&(i==null?void 0:(a=i.searchParams)==null?void 0:a.get("workerlog"))==="debug"}function a(a){try{k()&&c("FBLogger")("worker").debug("received url "+a);var b=new URL(a,i.href||"http://undefined");i.href!==b.href?(i.href=b.href,j.call(i)):k()&&c("FBLogger")("worker").debug("ignoring url: path didn't change in "+a)}catch(a){c("FBLogger")("worker").catching(a).warn("invalid url")}}typeof window==="object"&&typeof window.location==="object"&&typeof window.location.href==="string"&&a(window.location.href);g.mainPageUrl=i;g.onMainPageUrlChange=j;g.isWorkerLogEnabled=k;g.updateMainPageUrl=a}),98);
__d("tweetnacl",["tweetnacl-1.0.3"],(function(a,b,c,d,e,f){e.exports=b("tweetnacl-1.0.3")()}),null);
__d("WAPromiseCallSync",["Promise"],(function(a,b,c,d,e,f){var g;function a(a,c){try{for(var d=arguments.length,e=new Array(d>2?d-2:0),f=2;f<d;f++)e[f-2]=arguments[f];return(g||(g=b("Promise"))).resolve(a.apply(c,e))}catch(a){return(g||(g=b("Promise"))).reject(a)}}f.promiseCallSync=a}),66);
__d("WABase64",["WAErr","WALogger"],(function(a,b,c,d,e,f,g){function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["Found unexpected character code while decoding B64 at index ",", length ",": ",""]);h=function(){return a};return a}var i=43,j=47,k=61,l=45,m=95,n=3e3,o="data:image/jpeg;base64,",p=function(a){return typeof a==="string"&&/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(a)};function q(a){return r(a,i,j,!0)}function a(a,b){b===void 0&&(b=!1);return r(a,l,m,b)}function r(a,b,c,d){a=Array.isArray(a)||a instanceof ArrayBuffer?new Uint8Array(a):a;if(a.length<=n)return s(a,b,c,d);else{var e=[];for(var f=0;f<a.length;f+=n)e.push(s(a.subarray(f,f+n),b,c,d));return e.join("")}}function s(a,b,c,d){var e=Math.ceil(a.length*4/3),f=4*Math.ceil(a.length/3),g=new Array(f);for(var h=0,i=0;h<f;h+=4,i+=3){var j=a[i]<<16|a[i+1]<<8|a[i+2];g[h]=j>>18;g[h+1]=j>>12&63;g[h+2]=j>>6&63;g[h+3]=j&63}for(j=0;j<e;j++){a=g[j];a<26?g[j]=65+a:a<52?g[j]=71+a:a<62?g[j]=a-4:a===62?g[j]=b:g[j]=c}for(h=e;h<f;h++)g[h]=61;i=String.fromCharCode.apply(String,g);return d?i:i.substring(0,e)}function t(a,b,c,e){var f=a.length,g=new Int32Array(f+f%4);for(var i=0;i<f;i++){var j=a.charCodeAt(i);if(65<=j&&j<=90)g[i]=j-65;else if(97<=j&&j<=122)g[i]=j-71;else if(48<=j&&j<=57)g[i]=j+4;else if(j===b)g[i]=62;else if(j===c)g[i]=63;else if(j===e){f=i;break}else{self.ERROR!=null&&d("WALogger").ERROR(h(),i,f,j);return null}}j=g.length/4;for(b=0,c=0;b<j;b++,c+=4)g[b]=g[c]<<18|g[c+1]<<12|g[c+2]<<6|g[c+3];e=Math.floor(f*3/4);i=new Uint8Array(e);a=0;b=0;for(;b+3<=e;a++,b+=3){j=g[a];i[b]=j>>16;i[b+1]=j>>8&255;i[b+2]=j&255}switch(e-b){case 2:i[b]=g[a]>>16;i[b+1]=g[a]>>8&255;break;case 1:i[b]=g[a]>>16}return i}function b(a){a=t(a,i,j,k);if(a)return a.buffer;else throw c("WAErr")("Base64.decode given invalid string")}function e(a,b){b===void 0&&(b=!1);a=t(a,l,m,b?k:-1);if(a)return a.buffer;else throw c("WAErr")("Base64.decode given invalid string")}function f(a){a=a instanceof ArrayBuffer?new Uint8Array(a):t(a,i,j,k);return a&&Array.from(a)}function u(a){return Math.floor(a.length*3/4)}function v(a){a=new Uint8Array(a);self.crypto.getRandomValues(a);return q(a)}g.BASE64_DATA_URL_SCHEME=o;g.isBase64=p;g.encodeB64=q;g.encodeB64UrlSafe=a;g.decodeB64=b;g.decodeB64UrlSafe=e;g.decodeB64ToJsArray=f;g.sizeWhenB64Decoded=u;g.randomBase64=v}),98);
__d("WAPromiseManagement",["WAPromiseCallSync"],(function(a,b,c,d,e,f,g){function a(a){var b=null,c=function(){b||(b=d("WAPromiseCallSync").promiseCallSync(a)["finally"](function(){b=null}));return b};c.isPending=function(){return!!b};return c}function b(a,b){var c=new Map();return function(d){var e=a(d),f=c.get(e);if(f)return f;try{f=Promise.resolve(b(d))}catch(a){f=Promise.reject(a)}d=f["finally"](function(){return void c["delete"](e)});c.set(e,d);return d}}var h=new Set();function c(a){h.add(a),a["finally"](function(){h["delete"](a)})}g.nullaryCacheWhilePending=a;g.cacheWhilePending=b;g.preventGarbageCollection=c}),98);
__d("LSGroupParticipantJoinState",[],(function(a,b,c,d,e,f){a=Object.freeze({MEMBER:0,PENDING:1,INVITED:2});f["default"]=a}),66);
__d("LSHotEmojiSize",[],(function(a,b,c,d,e,f){a=Object.freeze({NONE:0,SMALL:1,MEDIUM:2,LARGE:3});f["default"]=a}),66);
__d("LSQuickReplyType",[],(function(a,b,c,d,e,f){a=Object.freeze({NONE:0,HORIZONTAL:1,VERTICAL:2});f["default"]=a}),66);
__d("LSReplyMessageAttachmentType",[],(function(a,b,c,d,e,f){a=Object.freeze({OTHER:0,PHOTO:1,VIDEO:2,GIF:3,STICKER:4,LINK:5,MULTIPHOTO:6,PERMANENT_RAVEN_PHOTO:7,PERMANENT_RAVEN_VIDEO:8,SOUND_BITE:9,AUDIO:10,ROLL_CALL_PHOTO_CONTRIBUTION:11,ROLL_CALL_VIDEO_CONTRIBUTION:12,FEED_POST:13,POWER_UP:14,XMA:15});f["default"]=a}),66);
__d("LSReplyMessageStatus",[],(function(a,b,c,d,e,f){a=Object.freeze({UNKNOWN:0,VALID:1,DELETED:2,TEMPORARY_UNAVAILABLE:3,EXPIRED:4});f["default"]=a}),66);
__d("LSThreadRemoveType",[],(function(a,b,c,d,e,f){a=Object.freeze({DELETE_THREAD:0,ARCHIVE_THREAD:1});f["default"]=a}),66);
__d("MNLSXMALayoutType",[],(function(a,b,c,d,e,f){a=Object.freeze({SINGLE:0,HSCROLL:1,XCENTER:2,PORTRAIT:4,LAYERED:5,PLACEHOLDER:6,EXPIRED_PLACEHOLDER:7,PILE_PROMPT:8,STACK:9,SHARED_STACK:10,STACK_CARD:11,STANDARD_DXMA:12,DXMA_PLACEHOLDER:13,THREAD_SHORTCUT:14,LIST_DXMA:15});f["default"]=a}),66);
__d("MNXMAPreviewImageDecorationType",[],(function(a,b,c,d,e,f){a=Object.freeze({DEFAULT:0,COLLAGE:1,VIDEO:2,MESSENGER_ICON:3,INSTAGRAM_ICON:4,SHOPPING:5,UPCOMING_EVENT:6,LIVE:7,REEL:8,IGTV:9,YOUTUBE_VIDEO:10,YOUTUBE_SHORTS:11,COMMENT:12});f["default"]=a}),66);
__d("MessagingFolderTag",[],(function(a,b,c,d,e,f){a=Object.freeze({INBOX:"inbox",OTHER:"other",SPAM:"spam",PENDING:"pending",MONTAGE:"montage",HIDDEN:"hidden",LEGACY:"legacy",DISABLED:"disabled",PAGE_BACKGROUND:"page_background",PAGE_DONE:"page_done",BLOCKED:"blocked",COMMUNITY:"community",RESTRICTED:"restricted",BC_PARTNERSHIP:"bc_partnership",E2EE_CUTOVER:"e2ee_cutover",INTEROP:"interop",ARCHIVED:"archived",UNKNOWN:""});f["default"]=a}),66);
__d("RavenMessagingState",[],(function(a,b,c,d,e,f){a=Object.freeze({PERMANENT:0,UNSEEN:1,SEEN:2,REPLAYED:3,EXPIRED:4});f["default"]=a}),66);
__d("MAWThreadCutover",["I64","LSContactBitOffset","LSDatabaseSingleton","MAWJidUtils","MWEncryptedBackupsLocalStorageEntryEnum","MWEncryptedBackupsSharedState","MWPActor.react","MWPreloadableQueries","ReQL","ReQLSuspense","asyncToGeneratorRuntime","gkx","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function a(a){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=(yield j||(j=c("LSDatabaseSingleton"))),e=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(b.table("mi_act_mapping_table")).getKeyRange(a)));if(e==null)return!1;a=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(b.table("cutover_threads")).filter(function(a){return(h||(h=d("I64"))).equal(a.armadilloThreadId,e.jid)})));return a!=null});return k.apply(this,arguments)}function l(a){var b=(i||(i=c("useReStore")))();return d("ReQLSuspense").useFirst(function(){return d("MWPreloadableQueries").getCutoverThreadByThreadKey(b,a)},[b,a],f.id+":56")!=null}function e(a){var b,e=(i||(i=c("useReStore")))();b=(b=d("ReQLSuspense").useFirst(function(){return c("gkx")("1983")&&a?d("MWPreloadableQueries").getCutoverThreadByThreadKey(e,a):d("ReQL").empty()},[e,a],f.id+":67"))==null?void 0:b.showOpenMessageHistory;return b===!1}function m(a){var b=(i||(i=c("useReStore")))(),e=d("ReQLSuspense").useFirst(function(){return a==null?d("ReQL").empty():d("ReQL").fromTableAscending(b.table("mi_act_mapping_table")).getKeyRange(a)},[b,a],f.id+":82");return d("ReQLSuspense").useFirst(function(){return e==null?d("ReQL").empty():d("ReQL").fromTableAscending(b.table("cutover_threads")).filter(function(a){return(h||(h=d("I64"))).equal(a.armadilloThreadId,e.jid)})},[b,e],f.id+":91")}function n(a){var b=(i||(i=c("useReStore")))(),e=m(a);return d("ReQLSuspense").useFirst(function(){return e==null?d("ReQL").empty():d("ReQL").fromTableAscending(b.table("threads")).getKeyRange(e.openThreadId)},[b,e],f.id+":106")}function o(a){a=m(a);if(a!=null)return a.openThreadId}function p(a){return m(a)!=null}function q(a,b){b=d("MAWJidUtils").threadIdForChatJid(b);return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.table("cutover_threads")).getKeyRange((h||(h=d("I64"))).of_string(b))).then(function(a){return a!=null})}function r(){var a=(i||(i=c("useReStore")))(),b=d("MWPActor.react").useActor();a=d("ReQLSuspense").first(d("ReQL").fromTableAscending(a.table("contacts")).getKeyRange(b),f.id+":145");return a!=null&&((b=d("LSContactBitOffset").has(75,a))!=null?b:!1)}function s(){var a=(i||(i=c("useReStore")))(),b=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(a.table("experiences_shared_state")).getKeyRange(c("MWEncryptedBackupsLocalStorageEntryEnum").ENCRYPTED_BACKUPS_RESTORED_SUCCESSFULLY)},[a],f.id+":160");b=d("MWEncryptedBackupsSharedState").getEntryValue({db:a,sharedStateRow:b,stateKey:c("MWEncryptedBackupsLocalStorageEntryEnum").ENCRYPTED_BACKUPS_RESTORED_SUCCESSFULLY});return b!=null}function t(a){var b=(i||(i=c("useReStore")))(),e=(h||(h=d("I64"))).of_string(a),g=l(e);return d("ReQLSuspense").useFirst(function(){if(g)return d("ReQL").fromTableAscending(b.table("mi_act_mapping_table")).filter(function(a){return(h||(h=d("I64"))).equal(a.jid,e)}).map(function(a){return(h||(h=d("I64"))).to_string(a.serverThreadKey)});else return d("ReQL").empty()},[b,e,g],f.id+":181")}function u(a){if(a!=null)return t(a)}g.isCutoverThreadKey=a;g.useIsCutoverOpenThread=l;g.useIsDualThreadCutoverOpenThread=e;g.useGetCutoverMapping=m;g.useCutoverOpenThread=n;g.useGetCutoverOpenThreadKey=o;g.useIsCutoverSecureThread=p;g.isCutoverSecureThreadFromChatJid=q;g.useIsCurrentUserCutoverUser=r;g.useGetHasUserRestoredBefore=s;g.useGetCutoverSecureThreadKey=t;g.useMaybeGetCutoverSecureThreadKey=u}),98);/*FB_PKG_DELIM*/
__d("URLMatcherConfig",[],(function(a,b,c,d,e,f){e.exports={tlds:"(?:\\.(com|\ud55c\uad6d|\uc0bc\uc131|\ub2f7\ucef4|\ub2f7\ub137|\u9999\u6e2f|\u9999\u683c\u91cc\u62c9|\u9910\u5385|\u98df\u54c1|\u98de\u5229\u6d66|\u96fb\u8a0a\u76c8\u79d1|\u96c6\u56e2|\u901a\u8ca9|\u8d2d\u7269|\u8c37\u6b4c|\u8bfa\u57fa\u4e9a|\u8054\u901a|\u7f51\u7edc|\u7f51\u7ad9|\u7f51\u5e97|\u7f51\u5740|\u7ec4\u7ec7\u673a\u6784|\u79fb\u52a8|\u73e0\u5b9d|\u70b9\u770b|\u6fb3\u9580|\u6e38\u620f|\u6de1\u9a6c\u9521|\u673a\u6784|\u66f8\u7c4d|\u65f6\u5c1a|\u65b0\u95fb|\u65b0\u52a0\u5761|\u653f\u5e9c|\u653f\u52a1|\u624b\u8868|\u624b\u673a|\u6211\u7231\u4f60|\u6148\u5584|\u5fae\u535a|\u5e7f\u4e1c|\u5de5\u884c|\u5bb6\u96fb|\u5a31\u4e50|\u5929\u4e3b\u6559|\u5927\u62ff|\u5927\u4f17\u6c7d\u8f66|\u5728\u7ebf|\u5609\u91cc\u5927\u9152\u5e97|\u5609\u91cc|\u5546\u6807|\u5546\u5e97|\u5546\u57ce|\u53f0\u7063|\u53f0\u6e7e|\u516c\u76ca|\u516c\u53f8|\u516b\u5366|\u5065\u5eb7|\u4fe1\u606f|\u4f5b\u5c71|\u4f01\u4e1a|\u4e2d\u6587\u7f51|\u4e2d\u570b|\u4e2d\u56fd|\u4e2d\u4fe1|\u4e16\u754c|\u30dd\u30a4\u30f3\u30c8|\u30d5\u30a1\u30c3\u30b7\u30e7\u30f3|\u30bb\u30fc\u30eb|\u30b9\u30c8\u30a2|\u30b3\u30e0|\u30b0\u30fc\u30b0\u30eb|\u30af\u30e9\u30a6\u30c9|\u307f\u3093\u306a|\u10d2\u10d4|\u0e44\u0e17\u0e22|\u0e04\u0e2d\u0e21|\u0dbd\u0d82\u0d9a\u0dcf|\u0d2d\u0d3e\u0d30\u0d24\u0d02|\u0cad\u0cbe\u0cb0\u0ca4|\u0c2d\u0c3e\u0c30\u0c24\u0c4d|\u0b9a\u0bbf\u0b99\u0bcd\u0b95\u0baa\u0bcd\u0baa\u0bc2\u0bb0\u0bcd|\u0b87\u0bb2\u0b99\u0bcd\u0b95\u0bc8|\u0b87\u0ba8\u0bcd\u0ba4\u0bbf\u0baf\u0bbe|\u0b2d\u0b3e\u0b30\u0b24|\u0aad\u0abe\u0ab0\u0aa4|\u0a2d\u0a3e\u0a30\u0a24|\u09ad\u09be\u09f0\u09a4|\u09ad\u09be\u09b0\u09a4|\u09ac\u09be\u0982\u09b2\u09be|\u0938\u0902\u0917\u0920\u0928|\u092d\u093e\u0930\u094b\u0924|\u092d\u093e\u0930\u0924\u092e\u094d|\u092d\u093e\u0930\u0924|\u0928\u0947\u091f|\u0915\u0949\u092e|\u0680\u0627\u0631\u062a|\u067e\u0627\u06a9\u0633\u062a\u0627\u0646|\u0647\u0645\u0631\u0627\u0647|\u0645\u0648\u0642\u0639|\u0645\u0648\u0628\u0627\u064a\u0644\u064a|\u0645\u0644\u064a\u0633\u064a\u0627|\u0645\u0635\u0631|\u0643\u0648\u0645|\u0643\u0627\u062b\u0648\u0644\u064a\u0643|\u0642\u0637\u0631|\u0641\u0644\u0633\u0637\u064a\u0646|\u0639\u0645\u0627\u0646|\u0639\u0631\u0628|\u0639\u0631\u0627\u0642|\u0634\u0628\u0643\u0629|\u0633\u0648\u0631\u064a\u0629|\u0633\u0648\u062f\u0627\u0646|\u062a\u0648\u0646\u0633|\u0628\u06be\u0627\u0631\u062a|\u0628\u064a\u062a\u0643|\u0628\u0627\u0632\u0627\u0631|\u0628\u0627\u0631\u062a|\u0627\u06cc\u0631\u0627\u0646|\u0627\u0645\u0627\u0631\u0627\u062a|\u0627\u0644\u0645\u063a\u0631\u0628|\u0627\u0644\u0639\u0644\u064a\u0627\u0646|\u0627\u0644\u0633\u0639\u0648\u062f\u064a\u0629|\u0627\u0644\u062c\u0632\u0627\u0626\u0631|\u0627\u0644\u0627\u0631\u062f\u0646|\u0627\u0631\u0627\u0645\u0643\u0648|\u0627\u062a\u0635\u0627\u0644\u0627\u062a|\u0627\u0628\u0648\u0638\u0628\u064a|\u05e7\u05d5\u05dd|\u0570\u0561\u0575|\u049b\u0430\u0437|\u0443\u043a\u0440|\u0441\u0440\u0431|\u0441\u0430\u0439\u0442|\u0440\u0444|\u0440\u0443\u0441|\u043e\u0440\u0433|\u043e\u043d\u043b\u0430\u0439\u043d|\u043c\u043e\u0441\u043a\u0432\u0430|\u043c\u043e\u043d|\u043c\u043a\u0434|\u043a\u043e\u043c|\u043a\u0430\u0442\u043e\u043b\u0438\u043a|\u0435\u044e|\u0434\u0435\u0442\u0438|\u0431\u0435\u043b|\u0431\u0433|\u03b5\u03bb|zw|zuerich|zone|zm|zippo|zip|zero|zara|zappos|za|yun|yt|youtube|you|yokohama|yoga|yodobashi|ye|yandex|yamaxun|yahoo|yachts|xyz|xxx|xperia|xn--zfr164b|xn--ygbi2ammx|xn--yfro4i67o|xn--y9a3aq|xn--xkc2dl3a5ee0h|xn--xkc2al3hye2a|xn--xhq521b|xn--wgbl6a|xn--wgbh1c|xn--w4rs40l|xn--w4r85el8fhu5dnra|xn--vuq861b|xn--vhquv|xn--vermgensberatung-pwb|xn--vermgensberater-ctb|xn--unup4y|xn--tiq49xqyj|xn--tckwe|xn--t60b56a|xn--ses554g|xn--s9brj9c|xn--rvc1e0am3e|xn--rovu88b|xn--rhqv96g|xn--qxam|xn--qcka1pmc|xn--q9jyb4c|xn--pssy2u|xn--pgbs0dh|xn--pbt977c|xn--p1ai|xn--p1acf|xn--ogbpf8fl|xn--o3cw4h|xn--nyqy26a|xn--nqv7fs00ema|xn--nqv7f|xn--node|xn--ngbrx|xn--ngbe9e0a|xn--ngbc5azd|xn--mxtq1m|xn--mk1bu44c|xn--mix891f|xn--mgbx4cd0ab|xn--mgbtx2b|xn--mgbt3dhd|xn--mgbpl2fh|xn--mgbi4ecexp|xn--mgbgu82a|xn--mgberp4a5d4ar|xn--mgbca7dzdo|xn--mgbc0a9azcg|xn--mgbbh1a71e|xn--mgbbh1a|xn--mgbb9fbpob|xn--mgbayh7gpa|xn--mgbai9azgqp6j|xn--mgbab2bd|xn--mgbaam7a8h|xn--mgbaakc7dvf|xn--mgba7c0bbn0a|xn--mgba3a4f16a|xn--mgba3a3ejt|xn--mgb9awbf|xn--lgbbat1ad8j|xn--l1acc|xn--kput3i|xn--kpu716f|xn--kpry57d|xn--kprw13d|xn--kcrx77d1x4a|xn--jvr189m|xn--jlq61u9w7b|xn--j6w193g|xn--j1amh|xn--j1aef|xn--io0a7i|xn--imr513n|xn--i1b6b1a6a2e|xn--hxt814e|xn--h2brj9c8c|xn--h2brj9c|xn--h2breg3eve|xn--gk3at1e|xn--gecrj9c|xn--gckr3f0f|xn--g2xx48c|xn--fzys8d69uvgm|xn--fzc2c9e2c|xn--fpcrj9c3d|xn--flw351e|xn--fjq720a|xn--fiqz9s|xn--fiqs8s|xn--fiq64b|xn--fiq228c5hs|xn--fhbei|xn--fct429k|xn--estv75g|xn--efvy88h|xn--eckvdtc9d|xn--e1a4c|xn--d1alf|xn--d1acj3b|xn--czru2d|xn--czrs0t|xn--czr694b|xn--clchc0ea0b2g2a9gcd|xn--cg4bki|xn--cck2b3b|xn--c2br7g|xn--c1avg|xn--bck1b9a5dre4c|xn--b4w605ferd|xn--9krt00a|xn--9et52u|xn--9dbq2a|xn--90ais|xn--90ae|xn--90a3ac|xn--8y0a063a|xn--80aswg|xn--80asehdb|xn--80aqecdr1a|xn--80ao21a|xn--80adxhks|xn--6qq986b3xl|xn--6frz82g|xn--5tzm5g|xn--5su34j936bgsg|xn--55qx5d|xn--55qw42g|xn--54b7fta0cc|xn--4gbrim|xn--45q11c|xn--45brj9c|xn--45br5cyl|xn--42c2d9a|xn--3pxu8k|xn--3oq18vl8pn36a|xn--3hcrj9c|xn--3e0b707e|xn--3ds443g|xn--3bst00m|xn--30rr7y|xn--2scrj9c|xn--1qqw23a|xn--1ck2e1b|xn--11b4c3d|xin|xihuan|xfinity|xerox|xbox|wtf|wtc|ws|wow|world|works|work|woodside|wolterskluwer|wme|winners|wine|windows|win|williamhill|wiki|wien|whoswho|wf|weir|weibo|wedding|wed|website|weber|webcam|weatherchannel|weather|watches|watch|warman|wanggou|wang|walter|walmart|wales|vuelos|vu|voyage|voto|voting|vote|volvo|volkswagen|vodka|vn|vlaanderen|vivo|viva|vistaprint|vista|vision|visa|virgin|vip|vin|villas|viking|vig|video|viajes|vi|vg|vet|versicherung|verm\xf6gensberatung|verm\xf6gensberater|verisign|ventures|vegas|ve|vc|vanguard|vana|vacations|va|uz|uy|us|ups|uol|uno|university|unicom|uk|ug|uconnect|ubs|ubank|ua|tz|tw|tvs|tv|tushu|tunes|tui|tube|tt|trv|trust|travelersinsurance|travelers|travelchannel|travel|training|trading|trade|tr|toys|toyota|town|tours|total|toshiba|toray|top|tools|tokyo|today|to|tn|tmall|tm|tl|tkmaxx|tk|tjx|tjmaxx|tj|tirol|tires|tips|tiffany|tienda|tickets|tiaa|theatre|theater|thd|th|tg|tf|teva|tennis|temasek|telefonica|telecity|tel|technology|tech|team|tdk|td|tci|tc|taxi|tax|tattoo|tatar|tatamotors|target|taobao|talk|taipei|tab|sz|systems|symantec|sydney|sy|sx|swiss|swiftcover|swatch|sv|suzuki|surgery|surf|support|supply|supplies|sucks|su|style|study|studio|stream|store|storage|stockholm|stcgroup|stc|statoil|statefarm|statebank|starhub|star|staples|stada|st|srt|srl|sr|spreadbetting|spot|sport|spiegel|space|soy|sony|song|solutions|solar|sohu|software|softbank|social|soccer|so|sncf|sn|smile|smart|sm|sling|sl|skype|sky|skin|ski|sk|sj|site|singles|sina|silk|si|shriram|showtime|show|shouji|shopping|shop|shoes|shiksha|shia|shell|shaw|sharp|shangrila|sh|sg|sfr|sexy|sex|sew|seven|ses|services|sener|select|seek|security|secure|seat|search|se|sd|scot|scor|scjohnson|science|schwarz|schule|school|scholarships|schmidt|schaeffler|scb|sca|sc|sbs|sbi|sb|saxo|save|sas|sarl|sapo|sap|sanofi|sandvikcoromant|sandvik|samsung|samsclub|salon|sale|sakura|safety|safe|saarland|sa|ryukyu|rwe|rw|run|ruhr|rugby|ru|rsvp|rs|room|rogers|rodeo|rocks|rocher|ro|rmit|rip|rio|ril|rightathome|ricoh|richardli|rich|rexroth|reviews|review|restaurant|rest|republican|report|repair|rentals|rent|ren|reliance|reit|reisen|reise|rehab|redumbrella|redstone|red|recipes|realty|realtor|realestate|read|re|raid|radio|racing|qvc|quest|quebec|qpon|qa|py|pwc|pw|pub|pt|ps|prudential|pru|protection|property|properties|promo|progressive|prof|productions|prod|pro|prime|press|praxi|pramerica|pr|post|porn|politie|poker|pohl|pnc|pn|pm|plus|plumbing|playstation|play|place|pl|pk|pizza|pioneer|pink|ping|pin|pid|pictures|pictet|pics|piaget|physio|photos|photography|photo|phone|philips|phd|pharmacy|ph|pg|pfizer|pf|pet|pe|pccw|pay|passagens|party|parts|partners|pars|paris|panerai|panasonic|page|pa|ovh|ott|otsuka|osaka|origins|organic|org|orange|oracle|open|ooo|onyourside|online|onl|onion|ong|one|omega|om|ollo|oldnavy|olayangroup|olayan|okinawa|office|off|observer|obi|nz|nyc|nu|ntt|nrw|nra|nr|np|nowtv|nowruz|now|norton|northwesternmutual|nokia|no|nl|nissay|nissan|ninja|nikon|nike|nico|ni|nhk|ngo|ng|nfl|nf|nexus|nextdirect|next|news|newholland|new|neustar|network|netflix|netbank|net|nec|ne|nc|nba|navy|natura|nationwide|name|nagoya|nadex|nab|na|mz|my|mx|mw|mv|mutual|museum|mu|mtr|mtn|mt|msd|ms|mr|mq|mp|movistar|movie|mov|motorcycles|moto|moscow|mortgage|mormon|mopar|monster|money|monash|mom|moi|moe|moda|mobily|mobile|mobi|mo|mn|mma|mm|mls|mlb|ml|mk|mitsubishi|mit|mint|mini|mil|microsoft|miami|mh|mg|metlife|merckmsd|meo|menu|men|memorial|meme|melbourne|meet|media|med|me|md|mckinsey|mc|mba|mattel|maserati|marshalls|marriott|markets|marketing|market|map|mango|management|man|makeup|maison|maif|madrid|macys|ma|ly|lv|luxury|luxe|lupin|lundbeck|lu|ltda|ltd|lt|ls|lr|lplfinancial|lpl|love|lotto|lotte|london|lol|loft|locus|locker|loans|loan|lk|llc|lixil|living|live|lipsy|link|linde|lincoln|limo|limited|lilly|like|lighting|lifestyle|lifeinsurance|life|lidl|liaison|li|lgbt|lexus|lego|legal|lefrak|leclerc|lease|lds|lc|lb|lawyer|law|latrobe|latino|lat|lasalle|lanxess|landrover|land|lancome|lancia|lancaster|lamer|lamborghini|ladbrokes|lacaixa|la|kz|kyoto|ky|kw|kuokgroup|kred|krd|kr|kpn|kpmg|kp|kosher|komatsu|koeln|kn|km|kiwi|kitchen|kindle|kinder|kim|kia|ki|kh|kg|kfh|kerryproperties|kerrylogistics|kerryhotels|ke|kddi|kaufen|juniper|juegos|jprs|jpmorgan|jp|joy|jot|joburg|jobs|jo|jnj|jmp|jm|jll|jlc|jio|jewelry|jetzt|jeep|je|jcp|jcb|java|jaguar|iwc|iveco|itv|itau|it|istanbul|ist|ismaili|iselect|is|irish|ir|iq|ipiranga|io|investments|intuit|international|intel|int|insure|insurance|institute|ink|ing|info|infiniti|industries|inc|in|immobilien|immo|imdb|imamat|im|il|ikano|ifm|ieee|ie|id|icu|ice|icbc|ibm|hyundai|hyatt|hughes|hu|ht|hsbc|hr|how|house|hotmail|hotels|hoteles|hot|hosting|host|hospital|horse|honeywell|honda|homesense|homes|homegoods|homedepot|holiday|holdings|hockey|hn|hm|hkt|hk|hiv|hitachi|hisamitsu|hiphop|hgtv|hermes|here|helsinki|help|healthcare|health|hdfcbank|hdfc|hbo|haus|hangout|hamburg|hair|gy|gw|guru|guitars|guide|guge|gucci|guardian|gu|gt|gs|group|grocery|gripe|green|gratis|graphics|grainger|gr|gq|gp|gov|got|gop|google|goog|goodyear|goodhands|goo|golf|goldpoint|gold|godaddy|gn|gmx|gmo|gmbh|gmail|gm|globo|global|gle|glass|glade|gl|giving|gives|gifts|gift|gi|gh|ggee|gg|gf|george|genting|gent|gea|ge|gdn|gd|gbiz|gb|gay|garden|gap|games|game|gallup|gallo|gallery|gal|ga|fyi|futbol|furniture|fund|fun|fujixerox|fujitsu|ftr|frontier|frontdoor|frogans|frl|fresenius|free|fr|fox|foundation|forum|forsale|forex|ford|football|foodnetwork|food|foo|fo|fm|fly|flowers|florist|flir|flights|flickr|fk|fj|fitness|fit|fishing|fish|firmdale|firestone|fire|financial|finance|final|film|fido|fidelity|fiat|fi|ferrero|ferrari|feedback|fedex|fast|fashion|farmers|farm|fans|fan|family|faith|fairwinds|fail|fage|extraspace|express|exposed|expert|exchange|everbank|events|eus|eurovision|eu|etisalat|et|esurance|estate|esq|es|erni|ericsson|er|equipment|epson|epost|enterprises|engineering|engineer|energy|emerck|email|eg|ee|education|edu|edeka|eco|ec|eat|earth|dz|dvr|dvag|durban|dupont|duns|dunlop|duck|dubai|dtv|drive|download|dot|domains|doha|dog|dodge|doctor|docs|do|dnp|dm|dk|dj|diy|dish|discover|discount|directory|direct|digital|diet|diamonds|dhl|dev|design|desi|dentist|dental|democrat|delta|deloitte|dell|delivery|degree|deals|dealer|deal|de|dds|dclk|day|datsun|dating|date|data|dance|dad|dabur|cz|cyou|cymru|cy|cx|cw|cv|cuisinella|cu|csc|cruises|cruise|crs|crown|cricket|creditunion|creditcard|credit|cr|cpa|courses|coupons|coupon|country|corsica|coop|cool|cookingchannel|cooking|contractors|contact|consulting|construction|condos|comsec|computer|compare|company|community|commbank|comcast|com|cologne|college|coffee|codes|coach|co|cn|cm|clubmed|club|cloud|clothing|clinique|clinic|click|cleaning|claims|cl|ck|cityeats|city|citic|citi|citadel|cisco|circle|cipriani|ci|church|chrysler|chrome|christmas|chintai|cheap|chat|chase|channel|chanel|ch|cg|cfd|cfa|cf|cern|ceo|center|ceb|cd|cc|cbs|cbre|cbn|cba|catholic|catering|cat|casino|cash|caseih|case|casa|cartier|cars|careers|career|care|cards|caravan|car|capitalone|capital|capetown|canon|cancerresearch|camp|camera|cam|calvinklein|call|cal|cafe|cab|ca|bzh|bz|by|bw|bv|buzz|buy|business|builders|build|bugatti|budapest|bt|bs|brussels|brother|broker|broadway|bridgestone|bradesco|br|box|boutique|bot|boston|bostik|bosch|boots|booking|book|boo|bond|bom|bofa|boehringer|boats|bo|bnpparibas|bnl|bn|bmw|bms|bm|blue|bloomberg|blog|blockbuster|blanco|blackfriday|black|bj|biz|bio|bingo|bing|bike|bid|bible|bi|bharti|bh|bg|bf|bet|bestbuy|best|berlin|bentley|beer|beauty|beats|be|bd|bcn|bcg|bbva|bbt|bbc|bb|bayern|bauhaus|basketball|baseball|bargains|barefoot|barclays|barclaycard|barcelona|bar|bank|band|bananarepublic|banamex|baidu|baby|ba|azure|az|axa|ax|aws|aw|avianca|autos|auto|author|auspost|audio|audible|audi|auction|au|attorney|athleta|at|associates|asia|asda|as|arte|art|arpa|army|archi|aramco|arab|ar|aquarelle|aq|apple|app|apartments|aol|ao|anz|anquan|android|analytics|amsterdam|amica|amfam|amex|americanfamily|americanexpress|am|alstom|alsace|ally|allstate|allfinanz|alipay|alibaba|alfaromeo|al|akdn|airtel|airforce|airbus|aigo|aig|ai|agency|agakhan|ag|africa|afl|afamilycompany|af|aetna|aero|aeg|ae|adult|ads|adac|ad|actor|active|aco|accountants|accountant|accenture|academy|ac|abudhabi|abogado|able|abc|abbvie|abbott|abb|abarth|aarp|aaa))"}}),null);
__d("LSCancelTaskByQueueName",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.fe(b.ftr(b.db.table(2).fetch([[[a[0]]],"queueNameTaskId"]),function(c){return c.queueName===a[0]&&c.context===b.i64.to_string(a[1])}),function(a){return a["delete"]()})},function(a){return b.resolve(c)}])}b=a;f["default"]=b}),66);
__d("LSIssueNewError",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return c[0]=b.i64.of_float(Date.now()),b.db.table(6).add({errorId:void 0,taskId:a[0],errorCode:a[1],errorTitleText:a[2],errorBodyText:a[3],issuedTimestampMs:c[0],errorExtraData:a[4],presentationStyle:a[5]})},function(a){return b.resolve(d)}])}b=a;f["default"]=b}),66);
__d("LSCreateOfflineThreadingID",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return c[0]=b.i64.random(),d[0]=b.i64.and_(b.i64.or_(b.i64.lsl_(a[0],b.i64.to_int32(b.i64.cast([0,22]))),b.i64.and_(c[0],b.i64.cast([0,4194303]))),b.i64.cast([2147483647,4294967295])),b.resolve(d)}b=a;f["default"]=b}),66);
__d("MAWDbChatId",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a}f.unsafeCoerceToChatId=a}),66);
__d("WAMsgType",[],(function(a,b,c,d,e,f){a="Text";b="Futureproof";c="Ciphertext";d="Unavailable";e="Image";var g="Video",h="Ptt",i="Admin",j="Revoked",k="Gif",l="Sticker",m="DocumentFile",n="ExpiredEphemeral",o="EphemeralSettingAdmin",p="EphemeralSyncResponse",q="DeleteForMe",r="EphemeralSettingChangeFromCurrentDevice",s="AlertICDC",t="GroupInvite",u="NoteReply",v="Reaction",w="SenderKeyDistribution",x="EditAction",y={TEXT:a,FUTUREPROOF:b,CIPHERTEXT:c,UNAVAILABLE:d,EXPIRED_EPHEMERAL:n,IMAGE:e,VIDEO:g,PTT:h,ADMIN:i,REVOKED:j,GIF:k,STICKER:l,DOCUMENT_FILE:m,EPHEMERAL_SETTING_ADMIN:o,EPHEMERAL_SYNC_RESPONSE:p,DELETE_FOR_ME:q,EPHEMERAL_SETTING_CHANGE_FROM_CURRENT_DEVICE:r,ICDC_ALERT:s,GROUP_INVITE:t,REACTION:v,SK_DISTRIBUTION:w,EDIT_ACTION:x};f.TEXT=a;f.FUTUREPROOF=b;f.CIPHERTEXT=c;f.UNAVAILABLE=d;f.IMAGE=e;f.VIDEO=g;f.PTT=h;f.ADMIN=i;f.REVOKED=j;f.GIF=k;f.STICKER=l;f.DOCUMENT_FILE=m;f.EXPIRED_EPHEMERAL=n;f.EPHEMERAL_SETTING_ADMIN=o;f.EPHEMERAL_SYNC_RESPONSE=p;f.DELETE_FOR_ME=q;f.EPHEMERAL_SETTING_CHANGE_FROM_CURRENT_DEVICE=r;f.ICDC_ALERT=s;f.GROUP_INVITE=t;f.NOTE_REPLY=u;f.REACTION=v;f.SK_DISTRIBUTION=w;f.EDIT_ACTION=x;f.MSG_TYPE=y}),66);
__d("MAWMsgType",["WAMsgType"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){return i.has(a)};b=function(a){return j.has(a)||i.has(a)};c="EphemeralScreenshotAction";e="Raven";f="RavenAction";var h="XMA";d=babelHelpers["extends"]({},d("WAMsgType").MSG_TYPE,{EPHEMERAL_SCREENSHOT_ACTION:c,RAVEN:e,RAVEN_ACTION:f,XMA:h});var i=new Set([d.IMAGE,d.VIDEO,d.PTT,d.GIF,d.STICKER,d.XMA,d.RAVEN,d.DOCUMENT_FILE]),j=new Set([d.TEXT,d.REVOKED,d.XMA]),k=new Set([d.TEXT,d.IMAGE,d.VIDEO,d.PTT,d.GIF,d.STICKER,d.DOCUMENT_FILE,d.UNAVAILABLE,d.EXPIRED_EPHEMERAL,d.REVOKED,d.XMA]);e=function(a){return k.has(a)};g.isMAWSupportedMediaType=a;g.isEBSupportedMsgType=b;g.EPHEMERAL_SCREENSHOT_ACTION=c;g.MSG_TYPE=d;g.isQuotedMsgType=e}),98);
__d("IGDThreadListNewMessageLoggingDataContext",["react","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));d=h;var j=d.createContext,k=d.useContext,l=d.useRef,m=j({current:""});function a(a){var b=a.children;a=a.flowInstanceId;a=l(a);return i.jsx(m.Provider,{value:a,children:b})}a.displayName=a.name+" [from "+f.id+"]";function b(){return k(m)}function e(){var a=k(m);(a.current===null||a.current==="")&&(a.current=c("uuidv4")());return a}g.IGDThreadListNewMessageLoggingContextProvider=a;g.useFlowInstanceIdContext=b;g.useFlowInstanceId=e}),98);
__d("MWEncryptedBackupsLocalStorageEntryEnum",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({INTERSTITIAL_DIALOG_VERIFY_DEVICE_NUX_DISMISSED:"maw_eb_interstitial_dialog_verify_device_nux_dismissed",VERIFY_DEVICE_NUX_DISMISSED:"maw_eb_verify_device_in_thread_nux_dismissed",ENCRYPTED_BACKUPS_OPT_OUT:"maw_encrypted_backups_opt_out",MW_ENCRYPTED_BACKUPS_USER_CLICKED_ON_SETTINGS:"mw_encrypted_backups_user_clicked_on_settings",MW_ENCRYPTED_BACKUPS_HIGH_FRICTION_RESTORE_DISMISSED:"mw_encrypted_backups_high_friction_restore__dismissed",ENCRYPTED_BACKUPS_TURN_OFF_SECURE_STORAGE:"mw_encrypted_backups_turn_off_secure_storage",ENCRYPTED_BACKUPS_REMEMBER_BROWSER_CONSENT:"mw_encrypted_backups_remember_browser_consent",ENCRYPTED_BACKUPS_RESTORED_SUCCESSFULLY:"maw_eb_restored_successfully"});c=a;f["default"]=c}),66);
__d("getMWEncryptedBackupsIsLocalStorageSupported",["FBLogger","WebStorage"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(){if((h||(h=c("WebStorage"))).getLocalStorage()==null){c("FBLogger")("labyrinth_web").warn("Local storage not supported");return!1}if((h||(h=c("WebStorage"))).isLocalStorageQuotaExceeded()){c("FBLogger")("labyrinth_web").warn("Local storage quota exceeded");return!1}return!0}g.getMWEncryptedBackupsIsLocalStorageSupported=a}),98);
__d("MWEncryptedBackupsSharedState",["WebStorage","getMWEncryptedBackupsIsLocalStorageSupported","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a){var b=a.db,c=a.stateKey;a=a.stateValue;var d=a===void 0?"true":a;return b.runInTransaction(function(a){return a.table("experiences_shared_state").upsert([c],{stateKey:c,stateValue:d})},"readwrite","background")}function j(a){var b,e=a.db;a=a.stateKey;if(!d("getMWEncryptedBackupsIsLocalStorageSupported").getMWEncryptedBackupsIsLocalStorageSupported())return;b=(b=(h||(h=c("WebStorage"))).getLocalStorageForRead())==null?void 0:b.getItem(a);if(b!=null){var f;(f=(h||(h=c("WebStorage"))).getLocalStorage())==null?void 0:f.removeItem(a);c("promiseDone")(i({db:e,stateKey:a,stateValue:b}))}return b}function a(a){var b=a.db,c=a.sharedStateTable,d=a.stateKey;a=c.filter(function(a){return a.stateKey===d});if(a.length===0){c=j({db:b,stateKey:d});return c!=null}return!0}function b(a){var b=a.db,c=a.sharedStateRow;a=a.stateKey;return c==null?j({db:b,stateKey:a}):c.stateValue}function e(a){var b=a.db,c=a.stateKey;return b.runInTransaction(function(a){return a.table("experiences_shared_state")["delete"](c)},"readwrite","background")}g.upsertEBSharedStateEntry=i;g.getEntryPresentInLocalStorage=j;g.getIsEntryPresentInSharedState=a;g.getEntryValue=b;g.deleteEntry=e}),98);
__d("MWVersion",["I64"],(function(a,b,c,d,e,f,g){"use strict";var h;a=(h||d("I64")).of_string("2");g.v2=a}),98);
__d("OfflineThreadingId",["I64"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("I64"))).of_string("4194303");function a(){return(h||(h=d("I64"))).to_string(j())}function j(){var a=window.crypto.getRandomValues(new Uint8Array(8));a=new DataView(a.buffer);a=(h||(h=d("I64"))).add(h.lsl_(h.of_int32(a.getUint32(0)),32),h.of_int32(a.getUint32(4)));return k(Date.now(),a)}function k(a,b){return(h||(h=d("I64"))).and_(h.or_(h.lsl_(h.of_float(a),22),h.and_(b,i)),h.max_int)}function b(a){var b=j(),c=[];for(var e=0;e<a.length;e++)c.push([a[e],(h||(h=d("I64"))).to_string(b)]),b=l(b);return c}function l(a,b){b===void 0&&(b=(h||(h=d("I64"))).one);var c=m(a);a=n(a);return k(c,(h||(h=d("I64"))).add(a,b))}function m(a){return(h||(h=d("I64"))).to_float(h.lsr_(a,22))}function n(a){return(h||(h=d("I64"))).and_(a,i)}g.createOfflineThreadingID=a;g.createForItemsInOrder=b}),98);
__d("URLMatcher",["URLMatcherConfig"],(function(a,b,c,d,e,f){d="!\"#%&'()*,-./:;<>?@[\\]^_`{|}";f="\u2000-\u206f\xab\xbb\uff08\uff09";var g="(?:25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9]?[0-9])",h="(?:https?)://";g="(?:(?:"+g+"[.]){3}"+g+")";var i="\\[(?:(?:[A-Fa-f0-9]{1,4}::?){1,7}[A-Fa-f0-9]{1,4})\\]",j="(?:\\b)www\\d{0,3}[.]";d="[^\\s"+d+f+"]";f="(?:(?:(?:[.:\\-_%@]|"+d+")*"+d+")|"+i+")";d="(?::\\d+){0,1}";var k="(?=[/?#])";b=b("URLMatcherConfig").tlds;var l="(?:(?:"+h+f+d+")|(?:"+g+d+")|(?:"+i+d+")|(?:"+j+f+b+d+")|(?:"+f+b+d+k+"))";k="(?:(?:"+h+f+d+")|(?:"+g+d+")|(?:"+i+d+")|(?:"+j+f+b+d+")|(?:"+f+b+d+"))";g="[/#?]";i="\\([^\\s()<>]+\\)";var m="[^\\s()<>?#]+",n=new RegExp(l,"im"),o="^\\[[0-9]{1,4}:[0-9]{1,4}:[A-Fa-f0-9]{1,4}\\]",p=new RegExp(o,"im"),q="(?:(?:"+g+")(?:(?:"+i+"|"+m+")*)*)*",r=new RegExp("((?:"+k+")(?:"+q+"))","im");function a(){r.compile()}var s=new RegExp("((?:"+h+f+d+")|(?:"+j+f+b+d+"))"),t=/[\s\'\";]/,u=new RegExp(g,"im"),v=new RegExp("[\\s!\"#%&'()*,./:;<>?@[\\]^`{|}\xab\xbb\u2000-\u206f\uff08\uff09]","im"),w=new RegExp("[\\s()<>?#]","im"),x=new RegExp("\\s()<>"),y=function(a){if(a!=null&&a.indexOf("@")!=-1)return s.exec(a)?a:null;else return a},z=function(a){return new RegExp("((?:"+l+")(?:"+q+"))",a)};function c(){return r.source}o=function(a){return A(a,z("im"))};i=function(a){return B(a,z("igm"))};m=function(a){return A(a,r)};var A=function(a,b){b=b.exec(a);return b==null||b.length===0?null:y(b[1]||null)},B=function(a,b){a=a.match(b);return a==null?[]:a.filter(Boolean)||[]};k=function(a){return n.exec(a)};h=function(a){return!t.test(a.charAt(a.length-1))};j=function(a){a=a;var b=!1;do{var c=n.exec(a);if(!c)return null;b=!1;if(c[0][0]==="["&&c.index>0&&a[c.index-1]==="@"){var d=p.exec(c[0]);d&&(b=!0,a=a.substr(c.index+d[0].length))}}while(b);if(!c)return null;d=a.substr(c.index+c[0].length);if(d.length===0||!u.test(d[0]))return y(c[0]);b=0;a=0;var e=1,f=0,g=a;for(var h=1;h<d.length;h++){var i=d[h];if(g===a){if(i==="(")f+=1,g=e;else if(u.test(i)||!v.test(i))b=h;else if(w.test(i))break}else if(i==="(")f+=1;else if(i===")")f-=1,f===0&&(g=a,b=h);else if(x.test(i))break}return y(c[0]+d.substring(0,b+1))};f={compilePermissiveHostPathMatcher:a,permissiveHostPathMatch:m,permissiveMatch:o,permissiveMultiMatch:i,matchToPattern:A,multiMatchToPattern:B,matchHost:k,trigger:h,match:j,getPermissiveHostPathMatcherSource:c};e.exports=f}),null);
__d("WALogger",["WATagsLogger"],(function(a,b,c,d,e,f,g){"use strict";a=d("WATagsLogger").TAGS([]);b=a.DEV;c=a.DEV_XMPP;e=a.LOG;f=a.WARN;d=a.ERROR;g.DEV=b;g.DEV_XMPP=c;g.LOG=e;g.WARN=f;g.ERROR=d}),98);
__d("LSContactBlockedByViewerStatus",[],(function(a,b,c,d,e,f){a=Object.freeze({UNBLOCKED:0,MESSAGE_BLOCKED:1,FULLY_BLOCKED:2});f["default"]=a}),66);
__d("LSMailboxType",[],(function(a,b,c,d,e,f){a=Object.freeze({MESSENGER:0,COMMUNITIES:1,TINCAN:1024,TAM:4096});f["default"]=a}),66);
__d("LSMessageReplySourceTypeV2",[],(function(a,b,c,d,e,f){a=Object.freeze({NONE:0,MESSAGE:1,STORY:2,FORWARD:3,FB_STORY_SHARE:4,IG_STORY_SHARE:5,STORY_BASE64_ENCODED:6,LIGHTWEIGHT_STATUS:7,CLOSE_FRIENDS:8,XMA:9,IG_NOTE:10,CLOSE_FRIENDS_NOTE_REPLY:11,LIGHTWEIGHT_STATUS_REACTION:12,FB_FEED_POST:13,HIGHLIGHTS_TAB_POST_REPLY:14,HIGHLIGHTS_TAB_LOCAL_EVENT_REPLY:15,SHARED_ALBUM:16});f["default"]=a}),66);
__d("LSMessagingInitiatingSource",[],(function(a,b,c,d,e,f){a=Object.freeze({FACEBOOK_CHAT:0,FACEBOOK_INBOX:1,ROOMS_SIDE_CHAT:2,FACEBOOK_FULLSCREEN:3,NONE:4});f["default"]=a}),66);
__d("LSMessagingThreadAttributionType",[],(function(a,b,c,d,e,f){a=Object.freeze({UNKNOWN:0,UNKNOWN_TEST:1,UNKNOWN_FAILURE_RETRY:2,MESSENGER_INBOX:65536,MESSENGER_INBOX_IN_THREAD:65537,MESSENGER_INBOX_THREAD_LIST:65538,MESSENGER_INBOX_NESTED_FOLDER:65539,MESSENGER_INBOX_RECENT_THREADS:65540,MESSENGER_INBOX_REMAINING_THREADS:65541,MESSENGER_INBOX_MESSAGE_SEARCH:65542,MESSENGER_INBOX_IMAGE_SENDING:65543,MESSENGER_INBOX_FORWARD:65544,MESSENGER_INBOX_ARCHIVED_THREADS:65545,MESSENGER_INBOX_PENDING_REQUESTS:65546,MESSENGER_INBOX_ACTIVE_CONTACTS:65547,MESSENGER_INBOX_THREAD_BANNER_BOTTOM_SHEET:65548,MESSENGER_UNIVERSAL_SEARCH:131072,MESSENGER_UNIVERSAL_SEARCH_NULL_STATE:131073,MESSENGER_UNIVERSAL_SEARCH_KEY_PRESSED:131074,MESSENGER_UNIVERSAL_SEARCH_MESSAGE_SEARCH:131075,MESSENGER_UNIVERSAL_SEARCH_ADVANCED_CONTENT_SEARCH:131076,MONTAGE_AND_ACTIVE_NOW:196608,MONTAGE_AND_ACTIVE_NOW_MONTAGE_INBOX_UNIT:196609,MONTAGE_AND_ACTIVE_NOW_ACTIVE_NOW:196610,MONTAGE_AND_ACTIVE_NOW_INBOX_COMPOSER:196611,MONTAGE_AND_ACTIVE_NOW_ACTIVE_AND_HAS_STORY:196612,MONTAGE_AND_ACTIVE_NOW_CUSTOM_STATUS:196613,MONTAGE_AND_ACTIVE_NOW_NOTES:196614,MONTAGE_AND_ACTIVE_NOW_SEE_ALL_ACTIVE:196615,MESSENGER_ACTIVE_NOW_FRIENDS_TAB:262144,MESSENGER_ACTIVE_NOW_FRIENDS_TAB_FRIENDS_TAB:262145,MESSENGER_ACTIVE_NOW_FRIENDS_TAB_PLACE_HOLDER:262146,MESSENGER_ACTIVE_NOW_FRIENDS_TAB_RECENT_ACTIVE:262147,MESSENGER_ACTIVE_NOW_FRIENDS_TAB_RECENT_ACTIVE_AND_STORY:262148,MESSENGER_ACTIVE_NOW_FRIENDS_TAB_CONTENT_DISCOVERY:262149,MESSENGER_PENDING_REQUESTS:327680,MESSENGER_PENDING_REQUESTS_INBOX_THREAD_LIST:327681,MESSENGER_PENDING_REQUESTS_PENDING_REQUESTS_PAGE:327682,MESSENGER_BROADCAST_FLOW:393216,MESSENGER_BROADCAST_FLOW_FROM_MESSENGER:393217,MESSENGER_BROADCAST_FLOW_FROM_FB:393218,MESSENGER_BROADCAST_FLOW_FROM_EXTERNAL:393219,MESSENGER_BROADCAST_FLOW_FROM_FB__NEWSFEED_SHARESHEET:393220,MESSENGER_BROADCAST_FLOW_FROM_FB__NEWSFEED_GOODWILL_COMPOSER:393221,MESSENGER_BROADCAST_FLOW_FROM_FB__SHORTS_VIEWER:393222,MESSENGER_BROADCAST_FLOW_FORWARD_GUTTER:393223,MESSENGER_BROADCAST_FLOW_FORWARD_LONGCLICK:393224,MESSENGER_BROADCAST_FLOW_MESSENGER_PHOTO_VIEW:393225,MESSENGER_OMNIPICKER:458752,MESSENGER_OMNIPICKER_NULL_STATE:458753,MESSENGER_OMNIPICKER_KEY_PRESSED:458754,MESSENGER_NOTIFICATION:524288,MESSENGER_NOTIFICATION_IN_THREAD_REPLY:524289,MESSENGER_NOTIFICATION_LONGPRESS_REPLY:524290,MESSENGER_NOTIFICATION_LONGPRESS_REACTION:524291,CLICK_TO_MESSENGER_AD:589824,CLICK_TO_MESSENGER_AD_FROM_NEWSFEED:589825,CLICK_TO_MESSENGER_AD_SEND_MESSAGE_CTA:589826,CLICK_TO_MESSENGER_AD_VIEW_AND_MESSAGE:589827,CLICK_TO_MESSENGER_AD_SEND_MESSAGE_CTA__NEWSFEED_CTM_ADS_CTA:589828,PAYMENTS:655360,PAYMENTS_BUBBLE_CLICK:655361,RTC:720896,RTC_VOIP_INCALL:720897,RTC_DRAWER_PROMOTION:720898,FB_PAGE:786432,FB_PAGE_ABOUT_CARD:786433,FB_PAGE_PROFILE_HEADER_MESSAGE_BUTTON:786434,FB_PAGE_PROFILE_FOOTER_MESSAGE_BUTTON:786435,FB_PAGE_PROFILE_MORE_DRAWER:786436,FB_PAGE_RESPONSIVENESS_CONTEXT_CARD:786437,FB_PAGE_PYMM_RHC:786439,FB_PROFILE:851968,FB_PROFILE_TIMELINE_MESSAGE_BUTTON:851969,FB_PROFILE_FACEBOOK_PROFILE:851970,FB_PROFILE_MESSAGE_BUTTON:851971,FB_PROFILE_MESSAGE_BUTTON_BLOKS_URL:851972,FB_PROFILE_PROFILE_HEADER_COMPOSER:851973,FB_SEARCH:917504,FB_SEARCH_CONTEXTUAL_PROFILE_ACTION_BAR_FROM_SEARCH:917505,FB_SEARCH_SEARCH_MESSAGE_BUTTON:917506,FB_SEARCH_FB_MESSAGE_SEARCH_RESULTS:917507,FB_SEARCH_HIGH_CONFIDENCE_CARD:917508,FB_SEARCH_MENTIONS:917509,FB_SEARCH_NULLSTATE_CTA:917510,CRYPTO:983040,MESSENGER_MONTAGE_COMPOSER:1048576,MESSENGER_MONTAGE_COMPOSER_FRIENDS_TAB:1048577,MESSENGER_MONTAGE_COMPOSER_FRIENDS_TAB_STORY_AND_ACTIVE_NOW:1048578,MESSENGER_MONTAGE_REPLY:1114112,MESSENGER_MONTAGE_REPLY_INBOX_THREAD_LIST_PROFILE:1114113,MESSENGER_MONTAGE_REPLY_REPLY_CONTEXT:1114114,MESSENGER_MONTAGE_REPLY_THREAD_NAV_BAR:1114115,MESSENGER_MONTAGE_REPLY_INBOX_THREAD_LIST_PROFILE_AUTHOR_PROFILE:1114116,MESSENGER_MONTAGE_REPLY_REPLY_CONTEXT_AUTHOR_PROFILE:1114117,MESSENGER_MONTAGE_REPLY_THREAD_NAV_BAR_AUTHOR_PROFILE:1114118,MESSENGER_MONTAGE_REPLY_ONE_TO_ONE_CHAT_THREAD_STORY_BUBBLE:1114119,MESSENGER_THREAD_MEMBERS_LIST:1179648,MARKETPLACE:1245184,MARKETPLACE_ACTIVITY_BANNER:1245185,MARKETPLACE_SEND_MESSAGE:1245186,FB_STORY:1310720,FB_STORY_VIEWER_SHEET_MENU:1310721,FB_STORY_VIEWER_SHEET_ROW:1310722,FB_STORY_STORIES_JEWEL_NOTIFICATION:1310723,FB_STORY_STORIES_PUSH_NOTIFICATION:1310724,FB_STORY_STORIES_VIEWER_CONSUMER_REPLY:1310725,FB_STORY_STORIES_VIEWER_CONSUMER_ARTIFACT:1310726,FB_STORY_STORIES_PAGE_STORY_CONVERSATIONS:1310727,FB_STORY_SOCIAL_CONTEXT_CONVERSATIONS:1310728,FB_STORY_MENTIONS:1310729,FB_STORY_SELF_STORY_SEND:1310730,FB_STORY_SHARESHEET:1310731,WORKSPEED:1376256,WORKSPEED_COMPOSER_LIKE_BUTTON:1376257,WORKSPEED_COMPOSER_GIF_PICKER:1376258,MDOTME:1441792,MDOTME_ORGANIC_POST:1441793,MDOTME_MARKETING_EMAIL:1441794,MDOTME_MBS_OFFSITE_EMAIL:1441795,CUSTOMER_CHAT_PLUGIN:1507328,CUSTOMER_CHAT_PLUGIN_MOBILE_REDIRECT:1507329,CUSTOMER_CHAT_PLUGIN_UPGRADE_FLOW:1507330,CUSTOMER_CHAT_PLUGIN_RE_ENGAGEMENT:1507331,FB_FEED:1572864,FB_FEED_ORGANIC_POST:1572865,FB_FEED_ORGANIC_POST_VIEW_AND_MESSAGE:1572866,FB_FEED_QUESTION_TRIGGERED_CONVO:1572867,FB_FEED_DYNAMIC_HOVER_CARD:1572868,FB_FEED_ORGANIC_POST__NEWSFEED_PAGE_POST_CTA:1572869,FB_FEED_ORGANIC_POST__NEWSFEED_BUMPER_SMCTA:1572870,FB_FEED_BCF_OPEN_CHAT_BUTTON:1572871,FB_FEED_REACTORS_LIST_MESSAGE_BUTTON:1572872,FB_FEED_REPLY_TO_AUTHOR:1572873,FB_FEED_UFI_SEND_SUGGESTIONS:1572874,FB_FEED_BCF:1572875,FB_FEED_COMMUNITY_CHATS_FEED_POST:1572876,FB_NOTIFICATION:1638400,FB_NOTIFICATION_JEWEL_NOTIF:1638401,FB_NOTIFICATION_PUSH_NOTIF:1638402,FB_EVENT:1703936,FB_EVENT_MESSAGE_HOST:1703937,FB_EVENT_SHARE_CLASS_MATERIALS:1703938,SUPPORT_RESOURCES:1769472,SUPPORT_RESOURCES_FRX_ACTION:1769473,LEAD_GEN_MESSAGING:1835008,LEAD_GEN_MESSAGING_PRE_SUBMISSION:1835009,LEAD_GEN_MESSAGING_POST_SUBMISSION:1835010,LEAD_GEN_MESSAGING_CROSS_CHANNEL_VERTICAL_PRESENT_ANDROID:1835011,LEAD_GEN_MESSAGING_CROSS_CHANNEL_HSCROLL_ANDROID:1835012,MESSENGER_GRAPH:1900544,MESSENGER_GRAPH_SELECT_CONTACT:1900545,MESSENGER_CHAT:1966080,MESSENGER_CHAT_FROM_JEWEL__THREAD_LIST:1966081,MESSENGER_CHAT_IN_THREAD:1966082,MESSENGER_CHAT_FORWARD:1966083,MESSENGER_ARCHIVED_THREADS:2031616,MESSENGER_ARCHIVED_THREADS_ARCHIVED_THREADS_FOLDER:2031617,JEWEL:2097152,JEWEL_THREAD_LIST:2097153,JEWEL_SEARCH:2097154,JEWEL_NEW_MESSAGE:2097155,JEWEL_NESTED_FOLDER:2097156,CHATHEADS:2162688,CHATHEADS_RECENT_THREADS:2162689,CHATHEADS_OVERFLOW:2162690,CHATHEADS_NEW_MESSAGE:2162691,SIDEBAR:2228224,SIDEBAR_CONTACTS_LIST:2228225,SIDEBAR_CONTACTS_SEARCH:2228226,SIDEBAR_CONTACTS_GROUPS:2228227,SIDEBAR_CONTACTS_COMMUNITY_CHATS:2228228,MESSENGER_COMMUNITY_MESSAGING:2293760,MESSENGER_COMMUNITY_MESSAGING_COMMUNITY_CHANNEL:2293761,MESSENGER_COMMUNITY_MESSAGING_FULLSCREEN_CHAT:2293762,FB_PLATFORM_LOGIN:2359296,FB_PLATFORM_LOGIN_LOGIN_CONNECT_WITH_MESSENGER:2359297,CONTACT_MANAGER:2424832,CONTACT_MANAGER_CONTACT_SHARE:2424833,CONTACT_MANAGER_PEOPLE_TAB_CONTACT_LIST:2424834,CONTACT_MANAGER_PEOPLE_TAB_CONTACT_SEARCH:2424835,CONTACT_MANAGER_ICON_CONTACT_LIST:2424836,CONTACT_MANAGER_ICON_CONTACT_SEARCH:2424837,MESSAGING_INBOX_IN_BLUE:2490368,MESSAGING_INBOX_IN_BLUE_THREAD_LIST:2490369,MESSAGING_INBOX_IN_BLUE_PEOPLE_PICKER:2490370,MESSAGING_INBOX_IN_BLUE_INBOX_ICON:2490371,MESSAGING_INBOX_IN_BLUE_SWIPE_FROM_RIGHT:2490372,MESSAGING_INBOX_IN_BLUE_MIB_NOTIFICATION:2490373,MESSAGING_INBOX_IN_BLUE_ACTIVE_NOW:2490374,MESSAGING_INBOX_IN_BLUE_SUGGESTED_CHATS:2490375,MESSAGING_INBOX_IN_BLUE_CHAT_PREVIEW_BANNER:2490376,MESSAGING_INBOX_IN_BLUE_THREAD_VIEW_CORE_NULL_STATE:2490377,MESSAGING_INBOX_IN_BLUE_MESSAGE_REQUESTS:2490378,MESSAGING_INBOX_IN_BLUE_SPAM:2490379,MESSAGING_INBOX_IN_BLUE_FB_GROUPS:2490380,MESSAGING_INBOX_IN_BLUE_MESSENGER_PEEK_STATE_BUTTON:2490381,MESSAGING_INBOX_IN_BLUE_MESSENGER_PEEK_STATE_TOOLTIP:2490382,MESSAGING_INBOX_IN_BLUE_BROADCAST_FLOW:2490383,MESSAGING_INBOX_IN_BLUE_THREAD_VIEW_HEADER:2490384,MESSAGING_INBOX_IN_BLUE_PRIVACY_SETTINGS:2490385,MESSAGING_INBOX_IN_BLUE_ARCHIVED_CHATS:2490386,MESSAGING_INBOX_IN_BLUE_UNIVERSAL_SEARCH:2490387,MIB_NOTIFICATION:2555904,MIB_NOTIFICATION_PUSH_NOTIFICATION:2555905,MIB_NOTIFICATION_JEWEL_NOTIFICATION:2555906,MIB_NOTIFICATION_DIRECT_PUSH_NOTIF:2555907,MIB_NOTIFICATION_DIRECT_JEWEL_NOTIF:2555908,MESSENGER_RESTRICTED_ACCOUNTS:2621440,ARMADILLO_CUTOVER_THREAD_LINKING_MESSAGE:2686976,CALLS_TAB:2752512,MINI_SHOP_VIEW_MENU_BUTTON:2818048,SHARESHEET:2883584,SHARESHEET_GENERALIZED_BROADCAST_FLOW:2883585,SHARESHEET_OFF_PLATFORM_SHARING_H_SCROLL:2883586,UFI:2949120,UFI_GENERALIZED_BROADCAST_FLOW:2949121,CHATHEAD_CLICK_COLLAPSED:3014656,TIMELINE_MESSAGE_BUTTON:3080192,DIRECT_REPLY_INTENT:3145728,FB_GROUPS:3211264,FB_GROUPS_INBOX:3211265,FB_GROUPS_PICKER_EXISTING_CHAT:3211266,FB_GROUPS_PICKER_JOIN_CHAT:3211267,FB_GROUPS_MEMBER_LIST:3211268,DEVICES:3276800,DEVICES_STELLA:3276801,FB_WELLBEING:3342336,FB_WELLBEING_INCALL_UNBLOCKING_NOTIFICATION:3342337,MESSENGER_DEEP_LINKING:3407872,READ_ONLY_CUTOVER_THREAD:3473408,READ_ONLY_CUTOVER_THREAD_ARMADILLO_THREAD:3473409,ARMADILLO_THREAD:3538944,ARMADILLO_THREAD_READ_ONLY_CUTOVER_THREAD:3538945,ARMADILLO_THREAD_EXTERNAL_LINK:3538946,FB_SHORTS:3604480,FB_SHORTS_PROFILE:3604481,FB_SHORTS_REACTORS_LIST_MESSAGE_BUTTON:3604482,SEND_PLUGIN:3670016,SEND_AS_MESSAGE_FROM_NT:3735552,MESSENGER_PUBLIC_CHATS_MESSAGING:3801088,MESSENGER_GROWTH:3866624,MESSENGER_GROWTH_NOTIFICATIONS_ENTRYPOINT:3866625,FRIENDS_HOME:3932160,FRIENDS_HOME_ACTIVE_NOW:3932161,FRIENDS_HOME_MESSAGE_NEW_FRIENDS:3932162,FRIENDS_HOME_POST_ACCEPT_MESSAGING:3932163,FRIENDS_HOME_SENDER_POST_ACCEPT_WAVE:3932164,EXTERNAL_LINK_XMA:3997696,EXTERNAL_LINK_XMA_FROM_COMPOSER:3997697,EXTERNAL_LINK_XMA_FROM_DEEP_LINKING:3997698,EXTERNAL_LINK_XMA_FROM_SHARE_EXTENSION:3997699,FB_NOTIFICATIONS:4063232,QUICK_PROMOTION:4128768,QUICK_PROMOTION_CTA:4128769,QUICK_PROMOTION_INTERSTITIAL:4128770,QUICK_PROMOTION_TOP_BANNER:4128771,FBM_IN_APP_NOTIFS:4194304,CREATOR_SUPPORT:4259840,CREATOR_SUPPORT_MESSENGER_TOAST:4259841,FB_INSTANT_GAME:4325376,COMMUNITY_CHATS_IN_FEED:4390912,COMMUNITY_CHATS_IN_FEED_PERMALINK:4390913,UNIFIED_BUSINESS_INBOX:4456448,ROLLCALL:4521984,HIGHLIGHTS_TAB:4587520,HIGHLIGHTS_TAB_FEED_INLINE:4587521,HIGHLIGHTS_TAB_MEDIA_VIEWER:4587522,HIGHLIGHTS_TAB_THREAD_VIEW:4587523,HIGHLIGHTS_TAB_FEED_INLINE_CONNECTED_CHAT:4587524,HIGHLIGHTS_TAB_FEED_INLINE_LOCAL_EVENT:4587525,HIGHLIGHTS_TAB_FEED_INLINE_FRIENDS_UPDATE:4587526,HIGHLIGHTS_TAB_FEED_INLINE_BIRTHDAY:4587527,HIGHLIGHTS_TAB_MEDIA_VIEWER_CONNECTED_CHAT:4587528,HIGHLIGHTS_TAB_MEDIA_VIEWER_FRIENDS_UPDATE:4587529,HIGHLIGHTS_TAB_THREAD_VIEW_CONNECTED_CHAT:4587530,HIGHLIGHTS_TAB_THREAD_VIEW_LOCAL_EVENT:4587531,HIGHLIGHTS_TAB_THREAD_VIEW_FRIENDS_UPDATE:4587532,HIGHLIGHTS_TAB_THREAD_VIEW_BIRTHDAY:4587533,MARKETPLACE_INBOX:4653056,ONE_TAP_MESSAGE_QUICK_SHARE:4718592,HIGHLIGHTS_TAB_STORIES_TRAY:4784128,FB_BIRTHDAY_CENTER:4849664,MESSENGER_SIRIKIT:4915200,MESSENGER_SIRIKIT_CALLKIT_QUICK_REPLY:4915201,MESSENGER_SIRIKIT_VOICE_COMMAND:4915202,CLICK_TO_SUBSCRIBE_AD:4980736,HIGHLIGHTS_TAB_SMART_REPLY_DRAWER:5046272,FB_UNIVERSAL_SEARCH:5111808,FB_UNIVERSAL_SEARCH_NULL_STATE_SUGGESTED:5111809,FB_UNIVERSAL_SEARCH_NULL_STATE_RECENT:5111810,FB_UNIVERSAL_SEARCH_QUERY_RESULTS:5111811,FBLITE_MESSAGING:5177344,FBLITE_MESSAGING_FROM_EXTERNAL:5177345,FBLITE_MESSAGING_FORWARD_FROM_BROADCAST_FLOW:5177346,FBLITE_MESSAGING_IN_THREAD:5177349,FBLITE_MESSAGING_ACTIVE_NOW:5177352,FBLITE_MESSAGING_ARCHIVED_CHATS:5177353,FBLITE_MESSAGING_SPAM:5177354,FBLITE_MESSAGING_MESSAGE_REQUESTS:5177355,FBLITE_MESSAGING_MARKETPLACE:5177356,FBLITE_MESSAGING_THREAD_MEMBERS_LIST:5177357,FBLITE_MESSAGING_NOTIFICATION:5242880,FBLITE_MESSAGING_NOTIFICATION_IN_THREAD_REPLY:5242881,FBLITE_MESSAGING_NOTIFICATION_DIRECT_REPLY:5242882,FBLITE_INBOX:5308416,FBLITE_INBOX_UNIVERSAL_SEARCH:5308417,FBLITE_INBOX_PEOPLE_PICKER:5308418,FBLITE_INBOX_RECENT_THREADS:5308419,FBLITE_INBOX_REMAINING_THREADS:5308420,SHARED_ALBUM:5373952,QUICK_REPLIES:5439488,QUICK_REPLIES_TRAY:5439489,MESSENGER_CTA_AFTER_CALL_ENDS:5505024,MESSENGER_CONVERSATION_SHORTCUT:5570560,CC_ADMIN_SEND_MESSAGE_HINT_CARD:5636096,CC_MEMBER_SEND_MESSAGE_HINT_CARD:5701632});f["default"]=a}),66);
__d("MessagingAttachmentType",[],(function(a,b,c,d,e,f){a=Object.freeze({NONE:0,STICKER:1,IMAGE:2,ANIMATED_IMAGE:3,VIDEO:4,AUDIO:5,FILE:6,XMA:7,EPHEMERAL_IMAGE:8,EPHEMERAL_VIDEO:9,SELFIE_STICKER:10,SOUND_BITE:12,CATALOG_ITEM:13,POWER_UP:14});f["default"]=a}),66);
__d("LSBitOffset",["I64","LSBitFlag"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){return d("LSBitFlag").set((h||(h=d("I64"))).lsl_(h.one,h.to_int32(a)),b)}function b(a,b){return d("LSBitFlag").clear((h||(h=d("I64"))).lsl_(h.one,h.to_int32(a)),b)}g.set=a;g.clear=b;g.empty=(h||(h=d("I64"))).zero}),98);
__d("MWPreloadableQueries",["I64","ReQL","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h;b=function(a,b){return d("ReQL").fromTableAscending(a.table("thread_nullstate")).getKeyRange(b)};e=function(a,b){return d("ReQL").fromTableAscending(a.table("thread_nullstate_ctas").index("threadKeyCtaId")).getKeyRange(b)};f=function(a,b){return d("ReQL").fromTableAscending(a.table("cutover_threads")).getKeyRange(b)};var i=function(a,b){return d("ReQL").fromTableDescending(a.table("messages")).getKeyRange(b).take(6)},j=function(a,b,e){return e.forEach(function(e){var f;c("promiseDone")((f=d("ReQL")).toArrayAsync(f.fromTableDescending(a.table("reactions")).getKeyRange(b,e.messageId)));c("promiseDone")(f.toArrayAsync(f.fromTableDescending(a.table("reactions_v2")).getKeyRange(b,e.messageId)));c("promiseDone")(f.toArrayAsync(f.fromTableDescending(a.table("attachments")).getKeyRange(b,e.messageId)))})},k=function(a,b){return d("ReQL").fromTableAscending(a.table("community_folders")).getKeyRange(b)},l=function(a,b){return d("ReQL").firstAsync(d("ReQL").fromTableDescending(a.table("threads")).getKeyRange(b)).then(function(b){(b==null?void 0:b.parentThreadKey)!=null&&k(a,b.parentThreadKey)})},m=function(a,b){return d("ReQL").fromTableAscending(a.table("thread_proactive_warning_settings")).getKeyRange(b)},n=function(a,b){return d("ReQL").fromTableAscending(a.table("in_thread_banner")).getKeyRange(b)};function a(a,b){return d("ReQL").fromTableAscending(a.table("media_staging")).filter(function(a){return!a.isSent&&(h||(h=d("I64"))).equal(a.threadKey,b)})}g.threadNullStateQuery=b;g.threadNullStateCtaQuery=e;g.getCutoverThreadByThreadKey=f;g.getMostRecentMessagesInThread=i;g.getReactionsForMessages=j;g.getCommunityFolderQuery=k;g.getCommunityFolderForThreadParentQuery=l;g.getProactiveWarningsForThreadQuery=m;g.getThreadBannerQuery=n;g.getMediaStagingQuery=a}),98);
__d("LSContactBitOffset",["I64","LSBitFlag","LSBitOffset"],(function(a,b,c,d,e,f,g){"use strict";var h;c=["capabilities","capabilities2"];function a(a,b){return i(a,b,!1)}function i(a,b,c){var e=b.capabilities,f=b.capabilities2;if(a>=64){return f==null?c:d("LSBitFlag").has((h||(h=d("I64"))).lsl_(h.one,a-64),(f=b.capabilities2)!=null?f:d("LSBitOffset").empty)}return e==null?c:d("LSBitFlag").has((h||(h=d("I64"))).lsl_(h.one,a),(f=b.capabilities)!=null?f:d("LSBitOffset").empty)}function b(a,b){return d("LSBitFlag").has((h||(h=d("I64"))).lsl_(h.one,a-64),(a=b)!=null?a:d("LSBitOffset").empty)}g.contactCapabilityFields=c;g.has=a;g.hasWithDefault=i;g.contactCapabilitiesHas=b}),98);
__d("LSMediaUrlUtils",["I64","ServerTime"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){if((h||(h=d("I64"))).gt(a,(h||(h=d("I64"))).zero)){var b=(h||(h=d("I64"))).of_float(d("ServerTime").getMillis()/1e3);return h.lt(a,b)}return!1}g.isTimestampExpired=a}),98);
__d("rewriteFallbackUrl",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a}f["default"]=a}),66);
__d("getLSMediaContactProfilePictureUrl",["LSMediaUrlUtils","rewriteFallbackUrl"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.profilePictureUrlExpirationTimestampMs;if(b!=null&&d("LSMediaUrlUtils").isTimestampExpired(b)){return(b=c("rewriteFallbackUrl")(a.profilePictureFallbackUrl))!=null?b:a.profilePictureUrl}else return a.profilePictureUrl}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("LSRemoveError",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.fe(b.db.table(6).fetch([[[a[0]]]]),function(a){return a["delete"]()})},function(a){return b.resolve(c)}])}b=a;f["default"]=b}),66);
__d("LSProcessBackupIds",["LSAppendDataTraceAddon","LSIsMobileClient","LSLogMebClientEvent.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(g){return c.seq([function(e){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsProcessBackupIdsStoredProcedure] Beginning execution."),a[0]!==f?c.sp(b("LSAppendDataTraceAddon"),a[0],c.i64.cast([0,1487]),c.i64.cast([0,2]),f,f):c.resolve()},function(a){return c.sp(b("LSIsMobileClient")).then(function(a){return a=a,d[1]=a[0],a})},function(a){return d[1]?d[2]=!0:d[2]=!1,d[2]?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[12]=c.createArray(),f!==f?d[13]=(d[12].push(f),d[12]):0,c.nop(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",d[12],c.i64.cast([0,3]))):c.resolve()},function(e){return c.db.table(172).fetch([[[c.i64.cast([0,1])]]]).next().then(function(e,h){var i=e.done;e=e.value;return i?c.seq([function(d){return a[0]!==f?c.sp(b("LSAppendDataTraceAddon"),a[0],c.i64.cast([0,1488]),c.i64.cast([0,2]),f,f):c.resolve()},function(a){return c.sp(b("LSIsMobileClient")).then(function(a){return a=a,d[12]=a[0],a})},function(a){return d[12]?d[13]=!0:d[13]=!1,d[13]?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[14]=c.createArray(),f!==f?d[15]=(d[14].push(f),d[14]):0,c.nop(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",d[14],c.i64.cast([0,3]))):c.resolve()},function(a){return d[3]=c.i64.cast([0,0])}]):(h=e.item,c.seq([function(e){return d[14]=h.backupId,d[13]=h.authorityLevel,c.i64.eq(d[13],c.i64.cast([0,20]))?c.resolve(d[12]=c.i64.cast([0,1])):c.seq([function(e){return c.i64.eq(d[13],c.i64.cast([0,80]))?c.seq([function(e){return c.i64.eq(d[14],f)?c.seq([function(d){return a[0]!==f?c.sp(b("LSAppendDataTraceAddon"),a[0],c.i64.cast([0,1492]),c.i64.cast([0,2]),f,f):c.resolve()},function(a){return c.sp(b("LSIsMobileClient")).then(function(a){return a=a,d[17]=a[0],a})},function(a){return d[17]?d[18]=!0:d[18]=!1,d[18]?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[19]=c.createArray(),f!==f?d[20]=(d[19].push(f),d[19]):0,c.nop(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",d[19],c.i64.cast([0,3]))):c.resolve()},function(a){return d[16]=c.i64.cast([0,2])}]):c.seq([function(e){return c.i64.eq(d[14],c.i64.cast([-1,4294967295]))?c.seq([function(d){return a[0]!==f?c.sp(b("LSAppendDataTraceAddon"),a[0],c.i64.cast([0,1489]),c.i64.cast([0,2]),f,f):c.resolve()},function(a){return c.sp(b("LSIsMobileClient")).then(function(a){return a=a,d[18]=a[0],a})},function(a){return d[18]?d[19]=!0:d[19]=!1,d[19]?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[20]=c.createArray(),f!==f?d[21]=(d[20].push(f),d[20]):0,c.nop(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",d[20],c.i64.cast([0,3]))):c.resolve()},function(a){return d[17]=c.i64.cast([-1,4294967295])}]):c.seq([function(e){return c.ftr(c.db.table(168).fetch(),function(a){return c.i64.eq(a.backupId,d[14])&&c.i64.eq(a.authorityLevel,c.i64.cast([0,80]))}).next().then(function(e,h){h=e.done;e=e.value;return h?c.seq([function(d){return a[0]!==f?c.sp(b("LSAppendDataTraceAddon"),a[0],c.i64.cast([0,1490]),c.i64.cast([0,2]),f,f):c.resolve()},function(a){return c.sp(b("LSIsMobileClient")).then(function(a){return a=a,d[20]=a[0],a})},function(a){return d[20]?d[21]=!0:d[21]=!1,d[21]?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[22]=c.createArray(),f!==f?d[23]=(d[22].push(f),d[22]):0,c.nop(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",d[22],c.i64.cast([0,3]))):c.resolve()},function(a){return d[18]=c.i64.cast([0,4])}]):(e.item,c.seq([function(d){return a[0]!==f?c.sp(b("LSAppendDataTraceAddon"),a[0],c.i64.cast([0,1491]),c.i64.cast([0,2]),f,f):c.resolve()},function(a){return c.sp(b("LSIsMobileClient")).then(function(a){return a=a,d[20]=a[0],a})},function(a){return d[20]?d[21]=!0:d[21]=!1,d[21]?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[22]=c.createArray(),f!==f?d[23]=(d[22].push(f),d[22]):0,c.nop(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",d[22],c.i64.cast([0,3]))):c.resolve()},function(a){return d[18]=c.i64.cast([0,3])}]))})},function(a){return d[17]=d[18]}])},function(a){return d[16]=d[17]}])},function(a){return d[15]=d[16]}]):c.seq([function(d){return a[0]!==f?c.sp(b("LSAppendDataTraceAddon"),a[0],c.i64.cast([0,1489]),c.i64.cast([0,2]),f,f):c.resolve()},function(a){return c.sp(b("LSIsMobileClient")).then(function(a){return a=a,d[16]=a[0],a})},function(a){return d[16]?d[17]=!0:d[17]=!1,d[17]?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[18]=c.createArray(),f!==f?d[19]=(d[18].push(f),d[18]):0,c.nop(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",d[18],c.i64.cast([0,3]))):c.resolve()},function(a){return d[15]=c.i64.cast([-1,4294967295])}])},function(a){return d[12]=d[15]}])},function(a){return d[3]=d[12]}]))})},function(a){return d[5]=c.i64.of_float(Date.now()),d[7]="Finishing execution. Execution time: ",d[8]=c.i64.to_string(c.i64.sub(d[5],d[0])),d[10]=" ms",d[6]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][LSEncryptedBackupsProcessBackupIdsStoredProcedure] ",d[6],d[7],d[6],d[8],d[6],d[10]].join("")),d[9]=",",d[11]=c.createArray(),f!==f?d[12]=(d[11].push(f),d[11]):0,c.nop(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsProcessBackupIdsStoredProcedure",[d[7],d[9],d[8],d[9],d[10]].join(""),d[11],c.i64.cast([0,4]))},function(a){return e[0]=d[3]}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSProcessBackupIdsStoredProcedure",["LSProcessBackupIds"],(function(a,b,c,d,e,f,g){function a(a,b){b===void 0&&(b={});var d=[];d[0]=b.traceId;return c("LSProcessBackupIds").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("WADynamicRouter",["Promise","WAErr","WALogger"],(function(a,b,c,d,e,f,g){var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose([""," is not defined for ",""]);i=function(){return a};return a}var j={sentinel:"RESPONSE_NAMESPACE"},k={sentinel:"NOT_HANDLED"};a=function(){function a(){var a=this;this.$1=(h||(h=b("Promise"))).resolve();this.$2=new Map();this.$4=0;this.$5=null;this.$6=null;this.$7=null;this.fireAndForget=function(b,c,d,e){e===void 0&&(e=!1),a.$3==null?void 0:a.$3(b,c,d),a.$9(b,c,d,null,e)};this.sendAndReceive=function(c,d,e,f){f===void 0&&(f=!1);a.$3==null?void 0:a.$3(c,d,e);return new(h||(h=b("Promise")))(function(b,g){a.$9(c,d,e,function(c){try{var d=n(c);d?d.call(c,function(c){a.$9(j,"",c,b,f)},function(b){a.$9(j,"",b,g,!1)}):a.$9(j,"",c,b,f)}catch(b){a.$9(j,"",b,g,!1)}},f)})};this.$8=function(){var b=a.$6;if(!b)return;var c=a.$2,d;while(b&&!(d=l(c,b)))a.$6=b=b.nextRoute;if(!b||!d)return;c=a.$10(d,b);var e=!0;if(c!==k){var f=b.prevRoute,g=b.nextRoute;a.$6===b&&(a.$6=g);f?f.nextRoute=g:a.$5=g;g?g.prevRoute=f:(e=!1,a.$7=f)}e&&a.$1.then(a.$8);return c}}var e=a.prototype;e.hasHandlerForNamespace=function(a){return this.$2.has(a)};e.getHandledNamespaces=function(){return Array.from(this.$2.keys())};e.setOnRouteCalled=function(a){this.$3=a};e.setNamespaceHandler=function(a,b){var c=this.$2,d=c.get(a);if(d===b)return;++this.$4;c.set(a,b);if(!d){c=this.$5;c&&(this.$6||this.$1.then(this.$8),this.$6=c)}};e.setHandlers=function(a,b){function e(e,f,g){if(b[e]==null){d("WALogger").ERROR(i(),e,a);throw c("WAErr")(e+" is not defined for "+a)}e=b[e](f);g&&g(e)}this.setNamespaceHandler(a,e)};e.$9=function(a,b,c,d,e){var f=this.$7;a={namespace:a,route:b,arg:c,resolver:d,prevRoute:f,nextRoute:null,silentLog:e};this.$7=a;b=!0;f?(f.nextRoute=a,b=!this.$6):this.$5=a;b&&l(this.$2,a)&&(this.$6=a,this.$1.then(this.$8))};e.$10=function(a,d){var e=d.route,f=d.arg,g=d.resolver;d=d.silentLog;var i=this.$4,j=null,l=null;try{j=a(e,f,g,d)}catch(a){l=(h||(h=b("Promise"))).reject(a)}if(j===k)if(i===this.$4)l=(h||(h=b("Promise"))).reject(c("WAErr")("DynamicRouter: NOT_HANDLED can only be used when updating handlers"));else return k;if(g){l&&g(l);return}else return l};return a}();function l(a,b){b=b.namespace;return b===j?m:a.get(b)}function m(a,b,c){c(b)}function n(a){if(a!=null&&(typeof a==="object"||typeof a==="function")){a=a.then;return typeof a==="function"?a:null}return null}g.NOT_HANDLED=k;g.DynamicRouter=a}),98);
__d("WABridge",["WADynamicRouter"],(function(a,b,c,d,e,f,g){"use strict";var h=new(d("WADynamicRouter").DynamicRouter)();function a(){return h}g.getBridge=a}),98);
__d("MAWBridge",["WABridge"],(function(a,b,c,d,e,f,g){"use strict";function a(){return d("WABridge").getBridge()}g.getBridge=a}),98);
__d("MAWODSProxy",["MAWBridge","ODS","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h,i=!((b=c("gkx")("9024"))!=null?b:!1);function a(a,b){var c=a.amount,e=a.entity;a=a.key;b===void 0&&(b=!0);i?(h||(h=d("ODS"))).bumpEntityKey(3185,e,a,c):d("MAWBridge").getBridge().fireAndForget("event","odsBumpEntityKey",{amount:c,entity:e,key:a},b)}g.odsBumpEntityKey=a}),98);
__d("WAAssertUnreachable",["WAErr"],(function(a,b,c,d,e,f,g){function a(a){throw c("WAErr")("Impossible value, the default statement should never be reached for value: "+a)}g["default"]=a}),98);
__d("WAJids",["WAAssertUnreachable","WAErr"],(function(a,b,c,d,e,f,g){var h=0,i="@me",j="@system",k="status@broadcast",aa="0@s.whatsapp.net",l="@g.us",m=/^([1-9][0-9]{0,19}|(?!10)[1-9][0-9]{4,19}-[1-9][0-9]{9})@g.us$/,n="@msgr",ba="msgr",o="@interop",ca="interop",da="@call",p=/^([1-9][0-9]{0,2}-[1-9][0-9]{0,14}(:[0])?)@interop$/,q=/^([1-9][0-9]{0,2}-[1-9][0-9]{0,14}(:[0])?)@interop$/,r=/^([1-9][0-9]{0,19}(:[1-9][0-9]{0,2})?)@msgr$/,s=/^([1-9][0-9]{0,19})@msgr$/,t=/^([1-9][0-9]{0,19})(:0)?@msgr$/,ea="@s.whatsapp.net",fa="s.whatsapp.net",u="@s.whatsapp.net",v="s.whatsapp.net",ga="@call",w="@newsletter",x=/^([1-9][0-9]{0,19})@newsletter$/,y=/^(0|((?!10)[1-9][0-9]{4,19}(\.[0-9]{1,2})?(:[0-9]{1,2})))@s.whatsapp.net$/,z=/^(0|((?!10)[1-9][0-9]{4,19})(\.[0-9]{1,2})?)@s.whatsapp.net$/,A="@lid",ha="lid",B=/^([1-9][0-9]{0,14})@lid$/,C=/^([1-9][0-9]{0,14}(:[0-9]{1,2})?)@lid$/,ia="@broadcast",D=/^(status|location|[1-9][0-9]{0,19})@broadcast$/,E=/^([0-9a-fA-F]{18,32})@call$/,F="@hosted",G="hosted",H=/^(0|((?!10)[1-9][0-9]{4,19}(\.[0-9]{1,2})?(:[1-9][0-9]{0,1})))@hosted$/,ja="16505361212"+u,ka=/([0-9a-zA-Z-:]+)@(g\.us|call|s\.whatsapp\.net|broadcast|msgr|lid)/g;function a(a){return""+a+u}function b(a){return""+a+A}function I(a){return""+a+n}function d(a){return a.endsWith(l)?a:""+a+l}function e(a){return a.endsWith(w)?a:""+a+w}function f(a){return a.endsWith(F)?a:""+a+F}function la(){return l}function J(a){if(a.endsWith(u))return a.slice(0,-u.length);else if(a.endsWith(n))return a.slice(0,-n.length);else if(a.endsWith(o))return a.slice(0,-o.length);else if(a.endsWith(A))return a.slice(0,-A.length);else throw c("WAErr")('userIdFromJid called with non-user jid "'+a+'"')}function ma(a,b){return Y(J(a)+":"+b+u)}function na(a,b){return Z(J(a)+":"+b+n)}function K(a,b){return ob(Q(a)+":"+b+A)}function oa(a,b){return X(J(a)+":"+b+jb(a))}function pa(a){return""+a+ia}function L(a){return a.split("@")[0]}function M(a){a=a.split("@")[0];a=a.split(":");var b=a[0];a=a[1];a=parseInt(a,10);return{userId:b,deviceID:a}}function N(a){a=M(a);return a.deviceID}function qa(a,b){if(a===i||a===j)return b;else return L(a)}function ra(a){return a===i||a===j?null:a}function sa(a){if(a===i||a===j)return null;return!a.endsWith(u)?null:a}function O(a){if(!a.endsWith(u))throw c("WAErr")('phoneNumberFromJid called with non-user jid "'+a+'"');return a.slice(0,-u.length)}function ta(a){if(a.endsWith(u))return O(a);else if(a.endsWith(A))return Q(a);throw c("WAErr")('lidOrPhoneFromUserJid called with non phone or lid jid "'+a+'"')}function P(a){return a.endsWith(u)||a.endsWith(o)||a.endsWith(n)||a.endsWith(A)?a:null}function ua(a){return a.endsWith(u)?a:null}function va(a){return a===k?null:$(a)}function wa(a){return a===k?null:$(a)}function xa(a){return a===k?k:null}function Q(a){if(!a.endsWith(A))throw c("WAErr")('lidFromLidUserJid called with non-LidUserJid "'+a+'"');return a.slice(0,-A.length)}function R(a){a=a.split("@");var b=a[0];a=a[1];b=b.split(":")[0];b=b.split(".")[0];a===G&&(a=v);return pb(b+"@"+a)}function ya(a){return R(a)}function za(a){return R(a)}function Aa(a){if(a.jidType==="phoneDevice")return a.deviceJid;else if(a.jidType==="interopDevice")return a.deviceJid;else if(a.jidType==="lidDevice")return a.deviceJid;else if(a.jidType==="msgrDevice")return a.deviceJid;else if(a.jidType==="lidUser")return a.userJid;else if(a.jidType==="interopUser")return a.userJid;else if(a.jidType==="msgrUser")return a.userJid;else if(a.jidType==="phoneUser")return a.userJid;else if(a.jidType==="group")return a.groupJid;else if(a.jidType==="status")return a.statusJid;else if(a.jidType==="call")return a.callJid;else if(a.jidType==="newsletter")return a.newsletterJid;else if(a.jidType==="hosted")return a.hostedDeviceJid;else{a.jidType;return a.broadcastJid}}function Ba(a){return Y(J(a)+":"+h+u)}function Ca(a){return Z(J(a)+":"+h+n)}function Da(a){return K(a,h)}function Ea(a){return N(a)===h}function Fa(a){return tb(a)}function Ga(a){return a}function S(a){a=a.split("@");var b=a[0];a=a[1];b=b.split(":");var c=b[0];b=b[1];c=c.split(".");var d=c[0];c=c[1];return{user:d,device:b,agent:c,server:a}}function Ha(a){a=S(a);var b=a.user,c=a.agent;c=c===void 0?"0":c;var d=a.device;d=d===void 0?"0":d;a=a.server;return b+"."+c+":"+d+"@"+a}function Ia(a){switch(a.jidType){case"interopUser":return a.userJid;case"lidUser":return a.userJid;case"msgrUser":return a.userJid;case"phoneUser":return a.userJid;case"group":return a.groupJid;case"status":return a.statusJid;case"interopDevice":return a.deviceJid;case"lidDevice":return a.deviceJid;case"msgrDevice":return a.deviceJid;case"phoneDevice":return a.deviceJid;case"broadcast":return a.broadcastJid;case"call":return a.callJid;case"newsletter":return a.newsletterJid;case"hosted":return a.hostedDeviceJid;default:return c("WAAssertUnreachable")(a.jidType)}}function Ja(a){if(a===k)return{jidType:"status",statusJid:k};else if(z.test(a))return{jidType:"phoneUser",userJid:qb(a)};else if(q.test(a))return{jidType:"interopUser",userJid:rb(a)};else if(s.test(a))return{jidType:"msgrUser",userJid:sb(a)};else if(t.test(a)){var b=a.substr(0,a.indexOf(":"));return{jidType:"msgrUser",userJid:I(b)}}else if(y.test(a))return{jidType:"phoneDevice",deviceJid:Y(a)};else if(p.test(a))return{jidType:"interopDevice",deviceJid:nb(a)};else if(r.test(a))return{jidType:"msgrDevice",deviceJid:Z(a)};else if(m.test(a))return{jidType:"group",groupJid:a.endsWith(l)?a:""+a+l};else if(D.test(a))return{jidType:"broadcast",broadcastJid:a};else if(E.test(a))return{jidType:"call",callJid:a};else if(B.test(a))return{jidType:"lidUser",userJid:a};else if(C.test(a))return{jidType:"lidDevice",deviceJid:a};else if(x.test(a))return{jidType:"newsletter",newsletterJid:a};else if(H.test(a))return{jidType:"hosted",hostedDeviceJid:a};else return{jidType:"unknown"}}function Ka(a){return a==="status@broadcast"?a:null}function La(a){if(z.test(a)||q.test(a)||s.test(a)||B.test(a))return a;else if(t.test(a)){a=a.substr(0,a.indexOf(":"));return I(a)}else return null}function Ma(a){return D.test(a)?a:null}function Na(a){if(y.test(a)||r.test(a)||p.test(a)||C.test(a)||H.test(a))return a;return z.test(a)?kb(a):null}function T(a){return m.test(a)?a:null}function Oa(a){return Ka(a)||T(a)||Ma(a)?a:null}function Pa(a){return E.test(a)?a:null}function Qa(a){return a==="s.whatsapp.net"||a==="g.us"?a:null}function Ra(a){return La(a)||T(a)}function Sa(a){return x.test(a)?a:null}function Ta(a){return H.test(a)?a:null}function Ua(a){return P(a)==null?$(a):null}function Va(a){a=S(a);var b=a.user,c=a.device;c=c===void 0?"0":c;a=a.server;return Y(b+":"+c+"@"+a)}function Wa(a){if(a.endsWith(l))return a.slice(0,-l.length);else throw c("WAErr")('groupId called with non-group jid "'+a+'"')}function Xa(a){var b=Ja(a);if(b.jidType==="unknown")return a;if(b.jidType==="status")return b.statusJid;b.jidType;return Ia(b).replace(/^([^@]*)([^@][^@][^@][^@])@(.*)$/,"...$2@$3")}function Ya(a){return!a.includes("@")?a:a.replace(ka,Xa)}function U(a){if(a.endsWith(l))return $(a);else return null}function V(a,b){if(a.endsWith(u))return b.phoneUser(a);else if(a.endsWith(n))return b.msgrUser(a);else if(a.endsWith(o))return b.interopUser(a);else if(a.endsWith(A))return b.lidUser(a);else if(U(a)!=null)return b.group($(a));throw c("WAErr")("Can not switch on chat jid "+a)}function Za(a,b){if(a.endsWith(n))return b.user(a);else if(U(a)!=null)return b.group(a);throw c("WAErr")("Can not switch on chat jid "+a)}function W(a,b){if(a.endsWith(u))return b.user(a);else if(U(a)!=null)return b.group(a);throw c("WAErr")("Can not switch on chat jid "+a)}function $a(a,b){return V(a,{lidUser:function(a){return b.user(a)},interopUser:function(a){return b.user(a)},msgrUser:function(a){return b.user(a)},phoneUser:function(a){return b.user(a)},group:function(a){return b.group(a)}})}function ab(a,b){return a===k?b.status():W(a,{user:b.user,group:b.group})}function bb(a,b){return a===k?b.status():V(a,{interopUser:b.interopUser,phoneUser:b.phoneUser,msgrUser:b.msgrUser,lidUser:b.lidUser,group:b.group})}function cb(a,b){return a===k?b.multicast(k):W(a,{user:b.user,group:b.multicast})}function db(a){return a.endsWith(A)}function eb(a){return a==="@me"}function fb(a){return a==="@system"}function gb(){return n}function hb(){return u}function ib(){return ea}function jb(a){if(a.endsWith(u))return u;else if(a.endsWith(n))return n;else if(a.endsWith(A))return A;else throw c("WAErr")('userDomainFromJid called with non-user jid "'+a+'"')}function kb(a){return X(J(a)+":"+h+jb(a))}function lb(a){a=a.platform;var b=a==="msgr"?n:u,c=a==="msgr"?da:ga;function d(a){return""+a+b}function e(){return b}function f(){return c}return{toUserJid:d,getUserDomain:e,getGroupCallDomain:f}}function mb(a){return a}function X(a){return a}function Y(a){return a}function Z(a){return a}function nb(a){return a}function ob(a){return a}function pb(a){return a}function qb(a){return a}function rb(a){return a}function sb(a){return a}function $(a){return a}function tb(a){return a}function ub(a){return a}function vb(a){return a}g.DEFAULT_DEVICE_ID=h;g.AUTHOR_ME=i;g.AUTHOR_SYSTEM=j;g.STATUS_JID=k;g.PSA_JID=aa;g.MSGR_USER_DOMAIN=n;g.MSGR_USER_JID_SUFFIX=ba;g.INTEROP_DOMAIN=o;g.INTEROP_USER_JID_SUFFIX=ca;g.WA_SERVER_JID_SUFFIX=fa;g.WA_USER_DOMAIN=u;g.WA_USER_JID_SUFFIX=v;g.WA_NEWSLETTER_JID_DOMAIN=w;g.LID_DOMAIN=A;g.LID_SUFFIX=ha;g.HOSTED_DOMAIN=F;g.HOSTED_SUFFIX=G;g.SURVEY_USER_JID=ja;g.toPhoneUserJid=a;g.toLidUserJid=b;g.toMsgrUserJid=I;g.toGroupJid=d;g.toNewsletterJid=e;g.toHostedDeviceJid=f;g.getGroupDomain=la;g.userIdFromJid=J;g.toPhoneDeviceJid=ma;g.toMsgrDeviceJid=na;g.toLidDeviceJid=K;g.toDeviceJid=oa;g.toBroadcastJid=pa;g.extractUserId=L;g.extractDeviceIDParts=M;g.extractDeviceId=N;g.authorToUserId=qa;g.authorAsUserJid=ra;g.authorAsPhoneUserJid=sa;g.phoneNumberFromJid=O;g.lidOrPhoneFromUserJid=ta;g.interpretAsUserJid=P;g.interpretAsPhoneUserJid=ua;g.asChatJid=va;g.asPhoneChatJid=wa;g.asStatusJid=xa;g.lidFromLidUserJid=Q;g.extractUserJid=R;g.extractPhoneUserJid=ya;g.extractLidUserJid=za;g.extractJidFromJidWithType=Aa;g.defaultPhoneDeviceJidForUser=Ba;g.defaultMsgrDeviceJidForUser=Ca;g.defaultLidDeviceJidForLidUserJid=Da;g.isPrimaryDevice=Ea;g.interpretAsDeviceId=Fa;g.interpretAsNumber=Ga;g.parseJidParts=S;g.fullFormDeviceJidString=Ha;g.extractFromJid=Ia;g.interpretAndValidateJid=Ja;g.validateStatusJid=Ka;g.validateUserJid=La;g.validateBroadcastJid=Ma;g.validateDeviceJid=Na;g.validateGroupJid=T;g.validateMulticastJid=Oa;g.validateCallJid=Pa;g.validateDomainJid=Qa;g.validateChatJid=Ra;g.validateNewsletterJid=Sa;g.validateHostedDeviceJid=Ta;g.asMulticastJid=Ua;g.stripAgentIdFromPhoneDeviceJid=Va;g.groupIdFromJid=Wa;g.sanitizeJidForLogging=Xa;g.maybeSanitizeLogLineText=Ya;g.interpretAsGroupJid=U;g.switchOnChatJidType=V;g.switchOnMsgrChatJidType=Za;g.switchOnPhoneChatJidType=W;g.switchOnUserChatJidType=$a;g.switchOnPhoneJidType=ab;g.switchOnJidType=bb;g.switchOnMulticastJidType=cb;g.isLidUser=db;g.isAuthorMe=eb;g.isAuthorSystem=fb;g.getMsgrUserDomain=gb;g.getWhatsappUserDomain=hb;g.getServerDomain=ib;g.defaultDeviceJidForUser=kb;g.createJidUtils=lb;g.unsafeCoerceToChatJid=mb;g.unsafeCoerceToDeviceJid=X;g.unsafeCoerceToPhoneDeviceJid=Y;g.unsafeCoerceToMsgrDeviceJid=Z;g.unsafeCoerceToInteropDeviceJid=nb;g.unsafeCoerceToLidDeviceJid=ob;g.unsafeCoerceToUserJid=pb;g.unsafeCoerceToPhoneUserJid=qb;g.unsafeCoerceToInteropUserJid=rb;g.unsafeCoerceToMsgrUserJid=sb;g.unsafeCoerceToGroupJid=$;g.unsafeCoerceToDeviceId=tb;g.unsafeCoerceToNewsletterJid=ub;g.unsafeCoerceToHostedDeviceJid=vb}),98);
__d("MAWJids",["WAJids"],(function(a,b,c,d,e,f,g){"use strict";b=(a=d("WAJids")).createJidUtils({platform:"msgr"});c=b.toUserJid;g.jidUtils=b;g.toDeviceJid=a.toDeviceJid;g.toUserJid=c;g.toGroupJid=a.toGroupJid;g.userIdFromJid=a.userIdFromJid;g.interpretAsDeviceId=a.interpretAsDeviceId;g.groupIdFromJid=a.groupIdFromJid;g.defaultDeviceJidForUser=a.defaultDeviceJidForUser}),98);
__d("MAWJidUtils",["FBLogger","MAWJids","WAJids"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return d("WAJids").switchOnMsgrChatJidType(a,{group:function(a){return d("MAWJids").groupIdFromJid(a)},user:function(a){return d("MAWJids").userIdFromJid(a)}})}function h(a,b,e){if(d("WAJids").isAuthorSystem(a)||b==null||e==null){c("FBLogger")("messenger_e2ee_web").warn("Failed to create protocolMsgId with externalId %s for a msg to edit",e);return}return{author:a,chat:b,externalId:e}}function b(a){var b;return h(a.author,a.threadJid,(b=a.externalId)!=null?b:a.editExternalId)}g.threadIdForChatJid=a;g.maybeToProtocolMsgId=h;g.toProtocolMsgId=b}),98);
__d("WAOdsEnums",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum")({MSG_ENCRYPTION:"armadillo_message_encryption",MSG_DECRYPTION:"armadillo_message_decryption",GET_DEVICES:"armadillo_get_devices",DEVICE_REREG_CHECK:"armadillo_device_rereg_check",DEVICE_REGISTRATION:"armadillo_device_registration",DEVICE_REGISTRATION_NON_EMPLOYEE:"armadillo_device_registration_non_employee",PHASH_MISMATCH:"phash_mismatch",WEB_PLACEHOLDER:"armadillo_web_placeholder",PREKEY_UPLOAD:"armadillo_prekey_upload",PREKEY_DIGEST:"armadillo_prekey_digest",C2C_META_SYNC:"armadillo_c2c_meta_sync",ADMIN_MESSAGE:"armadillo_admin_message",PREVIEW_SNIPPET:"armadillo_snippet",TOTAL_INCOMING_MESSAGE:"armadillo_total_incoming_message",COMPARE_IDENTITY:"armadillo_compare_identity",GET_PREKEY:"armadillo_get_prekey",SECURITY_ALERT_FOR_CONTACT:"armadillo_security_alert_for_contact",SECURITY_ALERT_FOR_SELF:"armadillo_security_alert_for_self",MSG_SEND:"armadillo_message_send",RETRY_MISSING_MSG:"armadillo_retry_missing_msg",REGISTRATION_TYPE:"aramdillo_registration_type",CLOCK_SKEW_UPDATE:"clock_skew_update",WA_DISCONNECT:"armadillo_disconnect",GROUP_CREATE:"armadillo_group_create",GROUP_DELETE:"armadillo_group_delete",GROUP_ADD_PARTICIPANT:"armadillo_group_add_participant",GROUP_PROMOTE_PARTICIPANT:"armadillo_group_promote_participant",GROUP_DEMOTE_PARTICIPANT:"armadillo_group_demote_participant",GROUP_REMOVE_PARTICIPANT:"armadillo_group_remove_participant",GROUP_LEAVE_PARTICIPANT:"armadillo_group_leave_participant",SEND_READ_RECEIPTS:"armadillo_send_read_receipts",MESSAGE_MISSING_THREAD_JID:"MESSAGE_MISSING_THREAD_JID",MESSAGE_MISSING:"MESSAGE_MISSING",MAW_NON_TIMEOUT:"maw_non_timeout",MAW_TIMEOUT:"maw_timeout",MAW_WEBWORKER_LOG_TEST:"maw_webworker_log_test",WA_FAIL_STANZA_QUEUE_ITEM:"wa_fail_stanza_queue_item",WA_QUERY_GROUP:"wa_query_group"});f.Entity=a}),66);
__d("WACustomError",[],(function(a,b,c,d,e,f){var g=Object.create(Error.prototype,{constructor:{value:void 0,writable:!0,configurable:!0}});function a(a,b,c){b===void 0&&(b=!0);function d(c){var d=Error.call(this,c);this.message=c;d.name=a;this.name=a;b&&(this.stack=d.stack)}d.prototype=Object.create(c?c.prototype:g);d.prototype.constructor=d;return d}function h(a){if(a.length===0)return"No errors";return a.length===1?a[0].message:a.map(function(a){return"- "+a.message}).join("\n")}e=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c){c=c!=null&&c.length>0?c:h(b);c=a.call(this,c)||this;c.errors=b;return c}return b}(a("AggregateError",!0));var i=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}return a}(a("TimeoutError",!1)),j=function(b){babelHelpers.inheritsLoose(a,b);function a(a,c){a=b.call(this,a)||this;a.code=c;return a}return a}(a("HttpError",!1)),k=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}return a}(a("UnimplementedMethod")),l=!1;function b(a){if(a==null||a.name!=="QuotaExceededError")throw a;l=!0}function c(){return l}function d(a){return JSON.stringify(a,Object.getOwnPropertyNames(a))}var m=function(b){babelHelpers.inheritsLoose(a,b);function a(a,c){a=b.call(this,a)||this;a.inner=c;return a}return a}(babelHelpers.wrapNativeSuper(Error));f.customError=a;f.AggregateError=e;f.TimeoutError=i;f.HttpError=j;f.UnimplementedMethod=k;f.supressQuotaExceededError=b;f.hasSupressedQuotaExceededError=c;f.obtainErrorSummary=d;f.WrappedError=m}),66);
__d("WAAbortError",["WACustomError"],(function(a,b,c,d,e,f,g){b=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(d("WACustomError").customError("AbortError"));var h="AbortError";function a(a){return function(b){if(b.name===h)return a(b);else throw b}}g.AbortError=b;g.ABORT_ERROR=h;g.catchAbort=a}),98);
__d("WAPromiseDelays",["Promise","WAAbortError"],(function(a,b,c,d,e,f,g){var h;function a(a,c){return new(h||(h=b("Promise")))(function(b,e){if(c==null?void 0:c.aborted)throw new(d("WAAbortError").AbortError)();var f=setTimeout(g,a);c==null?void 0:c.addEventListener("abort",h);function g(){c==null?void 0:c.removeEventListener("abort",h),b()}function h(){c==null?void 0:c.removeEventListener("abort",h),clearTimeout(f),e(new(d("WAAbortError").AbortError)())}})}function c(a,c,d){return new(h||(h=b("Promise")))(function(b,e){var f=setTimeout(function(){try{b(d())}catch(a){e(a)}},c);a.then(function(a){clearTimeout(f),b(a)},function(a){clearTimeout(f),e(a)})})}g.delayMs=a;g.withTimeout=c}),98);
__d("MAWMaybeWithTimeout",["MAWODSProxy","WAOdsEnums","WAPromiseDelays","qex"],(function(a,b,c,d,e,f,g){"use strict";function h(){return c("qex")._("1266")===!0}function a(a,b,c,e){return h()?d("WAPromiseDelays").withTimeout(a.then(function(a){var b;d("MAWODSProxy").odsBumpEntityKey({entity:d("WAOdsEnums").Entity.MAW_NON_TIMEOUT,key:(b=e)!=null?b:"unknown"});return a}),b,function(){var a;d("MAWODSProxy").odsBumpEntityKey({entity:d("WAOdsEnums").Entity.MAW_TIMEOUT,key:(a=e)!=null?a:"unknown"});return c()}):a}g.maybeWithTimeout=a}),98);
__d("MAWMsg",["$InternalEnum","I64","LSIntEnum","MAWMsgType"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function a(a,b,c){if(a===d("MAWMsgType").MSG_TYPE.TEXT)if(b)return(i||(i=d("LSIntEnum"))).ofNumber(8192);else return(i||(i=d("LSIntEnum"))).ofNumber(1);else if(a===d("MAWMsgType").MSG_TYPE.IMAGE||a===d("MAWMsgType").MSG_TYPE.VIDEO||a===d("MAWMsgType").MSG_TYPE.RAVEN)return(i||(i=d("LSIntEnum"))).ofNumber(2);else if(a===d("MAWMsgType").MSG_TYPE.PTT)return(i||(i=d("LSIntEnum"))).ofNumber(4);else if(a===d("MAWMsgType").MSG_TYPE.FUTUREPROOF)return(i||(i=d("LSIntEnum"))).ofNumber(131072);else if(a===d("MAWMsgType").MSG_TYPE.CIPHERTEXT)return(i||(i=d("LSIntEnum"))).ofNumber(65536);else if(a===d("MAWMsgType").MSG_TYPE.UNAVAILABLE)return(i||(i=d("LSIntEnum"))).ofNumber(262144);else if(a===d("MAWMsgType").MSG_TYPE.GIF)return(i||(i=d("LSIntEnum"))).ofNumber(16384);else if(a===d("MAWMsgType").MSG_TYPE.STICKER)return(i||(i=d("LSIntEnum"))).ofNumber(4096);else if(a===d("MAWMsgType").MSG_TYPE.DOCUMENT_FILE)return(i||(i=d("LSIntEnum"))).ofNumber(64);else if(a===d("MAWMsgType").MSG_TYPE.XMA)if(c!=null&&c)return(i||(i=d("LSIntEnum"))).ofNumber(256);else return(i||(i=d("LSIntEnum"))).ofNumber(1024);else return(i||(i=d("LSIntEnum"))).ofNumber(1)}function c(a){a=a.displayedContentTypes;return(j||(j=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(2))||(j||(j=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(4))||(j||(j=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(16384))||(j||(j=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(16))||(j||(j=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(64))||(j||(j=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(4096))}function e(a){a=a.displayedContentTypes;if((j||(j=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(32)))return!0;else return!1}function f(a){a=a.displayedContentTypes;return(j||(j=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(1024))}function k(a){a=a.displayedContentTypes;return(j||(j=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(65536))||(j||(j=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(131072))?!0:(j||(j=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(262144))}var l=b("$InternalEnum")({PLAYED:0,SCREENSHOTTED:1,FORCE_DISABLED:2}),m=b("$InternalEnum")({PERMANENT:0,UNSEEN:1,SEEN:2,REPLAYED:3,EXPIRED:4});b=b("$InternalEnum")({VIEW_ONCE:0,ALLOW_REPLAY:1,KEEP_IN_CHAT:2});g.text=(h=d("MAWMsgType")).MSG_TYPE.TEXT;g.image=h.MSG_TYPE.IMAGE;g.video=h.MSG_TYPE.VIDEO;g.ptt=h.MSG_TYPE.PTT;g.unsent=h.MSG_TYPE.REVOKED;g.gif=h.MSG_TYPE.GIF;g.getDisplayedContentTypes=a;g.isMediaMsg=c;g.isAdminMsg=e;g.isXMAMsg=f;g.isPlaceholder=k;g.MAWRavenActionNotifType=l;g.MAWRavenMsgEphemeralMediaState=m;g.MAWRavenMsgEphemeralType=b}),98);
__d("WATimeUtils",["Promise","WAHex"],(function(a,b,c,d,e,f,g){var h,i=60,j=5*i,k=60*i,l=24*k,m=7*l,n=365*l,o=60*1e3,p=k*1e3,q=24*p,r=7*q,s=1<<31,t=~s,u=s+1,v={time:0,day:-4},w=0;function a(){return w}function c(a){w=a}function e(a){return Z(a).toUTCString()}function x(a){a=a|0;return Math.max(u,Math.min(a,t))}function y(a){return x(a/1e3)}function f(a){if(typeof a!=="number")if(d("WAHex").hexLongIsNegative(a))return u;else return t;else return x(a)}function z(a){return a==null?a:a>t?y(a):x(a)}function A(){return B($()-w*1e3)}function B(a){return a}function C(a){return a}function D(a){return B(a*1e3)}function E(a){return a<u||a>t}function F(a,b){var c=K();a=Math.max(a+b-c,0);return Math.min(1e3*a,~(1<<31))}function G(a,b){b=b!=null?b:K();return x(Math.ceil(b+Math.max(a,0)))}function H(a,b){b=b!=null?b:K();return x(Math.ceil(b-Math.max(a,0)))}function I(a){a=Math.max(a-K(),0);return Math.min(1e3*a,~(1<<31))}function J(a){var c=I(a);return new(h||(h=b("Promise")))(function(a){return void setTimeout(a,c)})}function K(){return x(Date.now()/1e3-w)}function L(){return x(Date.now()/1e3)}function M(){return x(new Date().setHours(0,0,0,0)/1e3-w)}function N(a){return x(Z(a).setHours(0,0,0,0)/1e3-w)}function O(){return Date.now()-w*1e3}function P(a){return Math.max(a-K(),0)}function Q(a){return P(a)>0}function R(){return performance.now()}function S(a){return Math.floor(performance.now()-a)}function T(a,b){return a<b?a:b}var U=function(){function a(){var a=R();this.$1=a;this.$2=a}var b=a.prototype;b.reset=function(){this.$2=R()};b.elapsed=function(){return S(this.$2)};b.cumulative=function(){return S(this.$1)};return a}();function V(a){return Math.max(K()-a,0)}function W(){return new Date()}function X(a,b,c){return Math.abs(a-b)<=c}function Y(a,b){return X(K(),a,b)}function Z(a){return new Date(a*1e3)}function aa(a,b){if(Math.abs(a-b)>l)return!1;a=v.time===a?v.day:Z(a+w).getDay();var c=v.time===b?v.day:Z(b+w).getDay();v.time=b;v.day=c;return a===c}function ba(a){a=a-K();return a<=l}function ca(a){a=Number.parseInt(a,16);return Number.isFinite(a)?new Date(x(a)*1e3):null}function $(){return Date.now()}function da(a,b){a=Math.abs(a-b);return Math.ceil(a/q)}g.MINUTE_SECONDS=i;g.FIVE_MINUTES=j;g.HOUR_SECONDS=k;g.DAY_SECONDS=l;g.WEEK_SECONDS=m;g.YEAR_SECONDS=n;g.MINUTE_MILLISECONDS=o;g.HOUR_MILLISECONDS=p;g.DAY_MILLISECONDS=q;g.WEEK_MILLISECONDS=r;g.DEFAULT_UNIXTIME=s;g.MAX_INT=t;g.getClockSkew=a;g.setClockSkew=c;g.toHttpHeaderDate=e;g.castToUnixTime=x;g.castMilliSecondsToUnixTime=y;g.castLongIntToUnixTime=f;g.castMillisTimeToUnixTime=z;g.millisTime=A;g.castToMillisTime=B;g.fromMillisTime=C;g.castUnixTimeToMillisTime=D;g.isOverflowTime=E;g.timeoutFor=F;g.futureUnixTime=G;g.pastUnixTime=H;g.cappedMillisecondsUntil=I;g.delayUntil=J;g.unixTime=K;g.unixTimeWithoutClockSkewCorrection=L;g.midnight=M;g.midnightOn=N;g.unixTimeMs=O;g.secondsUntil=P;g.isInFuture=Q;g.monotonicTime=R;g.monotonicTimeSince=S;g.oldest=T;g.MonotonicTimer=U;g.timeSince_USE_ONLY_IF_APPROVED=V;g.unskewedDate_USE_ONLY_IF_APPROVED=W;g.happenedWithinAt=X;g.happenedWithin=Y;g.toDate=Z;g.sameDay=aa;g.isWithinNext24h=ba;g.convertHexToDate=ca;g.performanceAbsoluteNow=$;g.daysDiff=da}),98);
__d("MAWTimeUtils",["I64","WATimeUtils"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a){return(h||(h=d("I64"))).of_float(a*1e3)}function a(a){return a>d("WATimeUtils").MAX_INT?(h||(h=d("I64"))).of_float(a):i(a)}function b(a,b){var c=Date.now();c=c-b*24*60*60*1e3;b=d("WATimeUtils").castMilliSecondsToUnixTime(c);return a>=b}function c(a){if(a==null)return;return a>d("WATimeUtils").MAX_INT?a:d("WATimeUtils").castToMillisTime(a*1e3)}e=(h||(h=d("I64"))).of_string("9999999999999");f=Number.MAX_VALUE;g.toTimestamp=i;g.millisTimeToTimestamp=a;g.isTimestampNewerThanXDays=b;g.ensureValidMillisTime=c;g.MAX_TIMESTAMP_MS=e;g.MAX_TIMESTAMP=f;g.MIN_TIMESTAMP_MS=h.zero}),98);
__d("MAWMiActGetMappingWithMawTypes",["I64","MAWDbChatId","MAWJids"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){var c=(h||(h=d("I64"))).to_string(a.jid);b=b?d("MAWJids").toGroupJid(c):d("MAWJids").toUserJid(c);return{chatId:d("MAWDbChatId").unsafeCoerceToChatId(h.to_int32(a.clientThreadPk)),jid:b,serverThreadKey:a.serverThreadKey}}g["default"]=a}),98);
__d("LSAuthorityLevel",[],(function(a,b,c,d,e,f){a=Object.freeze({OPTIMISTIC:20,CLIENT_PARTIAL:40,SERVER_PARTIAL:60,AUTHORITATIVE_PENDING_REPLACEMENT:75,AUTHORITATIVE:80,CLIENT_AUTHORITATIVE_DELETE:100});f["default"]=a}),66);
__d("MAWMiActIsPlaceholderChatId",["I64"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){return(h||(h=d("I64"))).lt(a,h.zero)}g.isPlaceholderChatId=a}),98);
__d("MAWMiActThreadLifecycleState",[],(function(a,b,c,d,e,f){"use strict";a={ACT_THREAD_ONLY:"ACT_THREAD_ONLY",ACT_THREAD_ONLY_BY_CHAT_ID:"ACT_THREAD_ONLY_BY_CHAT_ID",ACT_THREAD_ONLY_BY_JID:"ACT_THREAD_ONLY_BY_JID",AUTHORITATIVE_THREAD_MISSING_MAPPING_ROW:"AUTHORITATIVE_THREAD_MISSING_MAPPING_ROW",AUTHORITATIVE_THREAD_ONLY:"AUTHORITATIVE_THREAD_ONLY",CLIENT_PARTIAL_MI_THREAD:"CLIENT_PARTIAL_MI_THREAD",JID_MISSING_MAPPING_ROW:"JID_MISSING_MAPPING_ROW",JID_MISSING_MI_THREAD:"JID_MISSING_MI_THREAD",MI_AND_ACT_THREAD_COMPLETE:"MI_AND_ACT_THREAD_COMPLETE",OPTIMISTIC_THREAD_NO_ACT:"OPTIMISTIC_THREAD_NO_ACT",OPTIMISTIC_THREAD_WITH_ACT:"OPTIMISTIC_THREAD_WITH_ACT",SERVER_PARTIAL_MI_THREAD:"SERVER_PARTIAL_MI_THREAD",THREAD_KEY_ONLY:"THREAD_KEY_ONLY"};f.MiActThreadStatesEnum=a}),66);
__d("MAWMiActGetThreadLifecycleState",["FBLogger","I64","LSAuthorityLevel","LSIntEnum","LSMessagingThreadTypeUtil","MAWMiActGetMappingWithMawTypes","MAWMiActIsPlaceholderChatId","MAWMiActThreadLifecycleState","Promise","ReQL","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(a,b,e){var f=(i||(i=d("LSIntEnum"))).toNumber(a.authorityLevel);if(f===c("LSAuthorityLevel").OPTIMISTIC)if(b!=null)return babelHelpers["extends"]({},c("MAWMiActGetMappingWithMawTypes")(b,d("LSMessagingThreadTypeUtil").isGroup(a.threadType)),{type:"OPTIMISTIC_THREAD_WITH_ACT"});else return{serverThreadKey:a.threadKey,thread:a,type:"OPTIMISTIC_THREAD_NO_ACT"};if(f===c("LSAuthorityLevel").CLIENT_PARTIAL)return{serverThreadKey:a.threadKey,type:"CLIENT_PARTIAL_MI_THREAD"};if(f===c("LSAuthorityLevel").SERVER_PARTIAL)return{serverThreadKey:a.threadKey,type:"SERVER_PARTIAL_MI_THREAD"};if(f===c("LSAuthorityLevel").AUTHORITATIVE){if(b==null)return{serverThreadKey:a.threadKey,type:"AUTHORITATIVE_THREAD_MISSING_MAPPING_ROW"};if(!d("MAWMiActIsPlaceholderChatId").isPlaceholderChatId(b.clientThreadPk))return babelHelpers["extends"]({},c("MAWMiActGetMappingWithMawTypes")(b,d("LSMessagingThreadTypeUtil").isGroup(a.threadType)),{type:"MI_AND_ACT_THREAD_COMPLETE"});else if(d("MAWMiActIsPlaceholderChatId").isPlaceholderChatId(b.clientThreadPk)){var g=c("MAWMiActGetMappingWithMawTypes")(b,d("LSMessagingThreadTypeUtil").isGroup(a.threadType));return{jid:g.jid,jidInt64:b.jid,serverThreadKey:g.serverThreadKey,thread:a,type:"AUTHORITATIVE_THREAD_ONLY"}}}throw c("FBLogger")("messenger_e2ee_web").mustfixThrow("[MiActMapping] Unknown thread lifecycle state for threadKey: %s, authorityLevel: %s, thread action: %s",(j||(j=d("I64"))).to_string(a.threadKey),f,e)}function a(a,b,c){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){var e=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.table("mi_act_mapping_table").index("chat_id")).getKeyRange((j||(j=d("I64"))).of_int32(b))));if(e==null)return{chatId:b,type:d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.ACT_THREAD_ONLY_BY_CHAT_ID};a=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.table("threads")).getKeyRange(e.serverThreadKey)));return a==null?{chatId:b,type:d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.ACT_THREAD_ONLY_BY_CHAT_ID}:k(a,e,c)});return l.apply(this,arguments)}function e(a,b,c){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){var e=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.table("mi_act_mapping_table").index("jid")).getKeyRange(b)));if(e==null)return{jidInt64:b,type:d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.JID_MISSING_MAPPING_ROW};a=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.table("threads")).getKeyRange(e.serverThreadKey)));return a==null?{jidInt64:b,type:d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.JID_MISSING_MI_THREAD}:k(a,e,c)});return m.apply(this,arguments)}function f(a,b,c){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c,e){a=(yield (h||(h=b("Promise"))).all([d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.table("threads")).getKeyRange(c)),d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.table("mi_act_mapping_table")).getKeyRange(c))]));var f=a[0];a=a[1];return f==null?{serverThreadKey:c,type:d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.THREAD_KEY_ONLY}:k(f,a,e)});return n.apply(this,arguments)}g.getThreadLifecycleStateByChatId=a;g.getThreadLifecycleStateByJid=e;g.getThreadLifecycleStateByThreadKey=f}),98);
__d("MAWWebWorkerInstance",[],(function(a,b,c,d,e,f){"use strict";var g=null;function a(a){g=a}d=function(){return g!==null};function b(){g=null}function c(){return g}f.setWorkerInstancePromise=a;f.doesWorkerExist=d;f.destroyWorkerInstance=b;f.getWorkerInstancePromise=c}),66);
__d("MAWMiActOnMiThreadReadyQueue",["FBLogger","MAWWebWorkerInstance","WALoggerDeferred","asyncToGeneratorRuntime","clearTimeout","promiseDone","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["[MiActMapping] Executed "," out of "," actions on MI thread\n    ready for chatId: ",", jid: ",""]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["[MiActMapping] Executing action on MI thread ready: "," for chatId "," and jid ",""]);i=function(){return a};return a}var j=3e4,k=new Map(),l=new Map(),m=0;function a(a,b,e,f,g){var h;m++;h=(h=k.get(a))!=null?h:[];var i=c("setTimeout")(function(){c("FBLogger")("messenger_e2ee_web").mustfix("[MiActMapping] Took longer than %s ms to execute: %s in threadState: %s for chatId: %s, onMiThreadReady, isWorkerAlive: %s",j,f,g,a,d("MAWWebWorkerInstance").doesWorkerExist()),e()},j);h.push({callback:b,description:f,sortId:m,threadState:g,timeoutId:i});k.set(a,h)}function e(a,b,c,d){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f){var g,j;g=(g=k.get(e))!=null?g:[];j=(j=l.get(f))!=null?j:[];g=[].concat(g,j);if(g.length===0)return;g.sort(function(a,b){return a.sortId-b.sortId});j=g.length;var m=0;while(g.length!==0){var n=g.shift(),o=n.callback,p=n.description,q=n.threadState;n=n.timeoutId;try{c("promiseDone")(d("WALoggerDeferred").LOG(i(),p,e,f)),yield o(a,b),c("clearTimeout")(n),m++}catch(a){c("clearTimeout")(n),c("FBLogger")("messenger_e2ee_web").catching(a).mustfix("[MiActMapping] Error executing callback on MI thread ready: %s, original threadState: %s, for chatId: %s and jid: %s",p,q,e,f)}}k["delete"](e);l["delete"](f);c("promiseDone")(d("WALoggerDeferred").LOG(h(),m,j,e,f))});return n.apply(this,arguments)}g.enqueueByChatId=a;g.processQueueOnMiThreadReady=e}),98);
__d("MAWMiActOnMiThreadReadyForChatId",["FBLogger","MAWMiActGetThreadLifecycleState","MAWMiActOnMiThreadReadyQueue","MAWMiActThreadLifecycleState","WALoggerDeferred","asyncToGeneratorRuntime","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["[MiActMapping] Executing action: ",", thread state: ",", chat id: ",", onMiThreadReadyForChatId"]);h=function(){return a};return a}function a(a,b,c,d,e){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f,g){var i=(yield d("MAWMiActGetThreadLifecycleState").getThreadLifecycleStateByChatId(a,b,e));switch(i.type){case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.MI_AND_ACT_THREAD_COMPLETE:case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.OPTIMISTIC_THREAD_WITH_ACT:case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.THREAD_KEY_ONLY:case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.AUTHORITATIVE_THREAD_MISSING_MAPPING_ROW:case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.OPTIMISTIC_THREAD_NO_ACT:case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.AUTHORITATIVE_THREAD_ONLY:case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.CLIENT_PARTIAL_MI_THREAD:case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.SERVER_PARTIAL_MI_THREAD:c("promiseDone")(d("WALoggerDeferred").LOG(h(),e,i.type,b));return f(a,i.serverThreadKey);case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.ACT_THREAD_ONLY_BY_CHAT_ID:case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.ACT_THREAD_ONLY_BY_JID:case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.ACT_THREAD_ONLY:return d("MAWMiActOnMiThreadReadyQueue").enqueueByChatId(b,f,(a=g)!=null?a:function(){},e,i.type);case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.JID_MISSING_MI_THREAD:case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.JID_MISSING_MAPPING_ROW:throw c("FBLogger")("messenger_e2ee_web").mustfixThrow("[MiActMapping] Unimplemented miActThreadState.type: %s",i.type);default:i.type;throw c("FBLogger")("messenger_e2ee_web").mustfixThrow("[MiActMapping] Unhandled onMiThreadReadyForChatId:\n         %s, thread action: %s",b,e)}});return i.apply(this,arguments)}g.onMiThreadReadyForChatId=a}),98);
__d("MAWWaitForBackendSetup",["Promise","err","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=new(h||(h=b("Promise")))(function(a,b){i=a,j=b}),l=i,m=j;function n(a){return k["catch"](function(){throw c("err")("'"+a+"' rejected because backend setup failed.")})}function a(a,b){c("promiseDone")(n(b).then(function(){a()}))}function d(){k=new(h||(h=b("Promise")))(function(a,b){i=a,j=b}),l=i,m=j}function e(){l==null?void 0:l()}function f(a){m==null?void 0:m(a)}g.waitForBackendSetup=n;g.runAfterBackendSetup=a;g.resetBackendSetup=d;g.resolveBackendSetup=e;g.rejectBackendSetup=f}),98);
__d("MAWBridgeFireAndForget",["MAWBridge","MAWWaitForBackendSetup"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c,e){return d("MAWWaitForBackendSetup").runAfterBackendSetup(function(){d("MAWBridge").getBridge().fireAndForget(a,b,c,e)},b)}g.fireAndForget=a}),98);
__d("MAWBridgeLoggingUtils",["ODS","QPLUserFlow","qpl","requireDeferredForDisplay"],(function(a,b,c,d,e,f,g){"use strict";var h,i=c("requireDeferredForDisplay")("MAWWorkerBadStateRecovery").__setRef("MAWBridgeLoggingUtils"),j=3185,k="armadillo_worker_runtime",l="getWorkerHeartbeat",m=10,n=new Array(m);function o(a,b,c){(h||(h=d("ODS"))).bumpEntityKey(j,k,a+"_"+b+"_"+c)}function a(a,b){o(a,b,"start");if(b===l)return;(h||(h=d("ODS"))).bumpEntityKey(j,k,"route_start");c("QPLUserFlow").start(c("qpl")._(1056842055,"807"),{annotations:{string:{event:b}}});n.length===m&&n.shift();n.push(a+"_"+b)}function p(a){n.filter(Boolean).forEach(function(b){(h||(h=d("ODS"))).bumpEntityKey(j,k,b+a)})}function b(a,b){o(a,b,"success");if(b===l)return;(h||(h=d("ODS"))).bumpEntityKey(j,k,"route_success");c("QPLUserFlow").endSuccess(c("qpl")._(1056842055,"807"))}function e(a,b){o(a,b,"fail");if(b===l)return;(h||(h=d("ODS"))).bumpEntityKey(j,k,"route_fail");c("QPLUserFlow").endFailure(c("qpl")._(1056842055,"807"),"fail")}function f(a,b){o(a,b,"timeout");if(b===l)return;(h||(h=d("ODS"))).bumpEntityKey(j,k,"route_timeout");c("QPLUserFlow").addPoint(c("qpl")._(1056842055,"807"),"timeout_logged");c("QPLUserFlow").endFailure(c("qpl")._(1056842055,"807"),"timeout")}function q(){var a;(a=i.getModuleIfRequireable())==null?void 0:a.workerInBadState();(h||(h=d("ODS"))).bumpEntityKey(j,"armadillo_worker_watch_dog","worker_is_not_responding");p("_before_unresponsive");n.fill(null)}g.CAT_ID=j;g.ENT=k;g.HEARTBEAT_ROUTE=l;g.RECENT_ROUTES_NUM=m;g.routeStart=a;g.logRecentRoutes=p;g.routeSuccess=b;g.routeFail=e;g.routeTimeout=f;g.workerUnresponsive=q}),98);
__d("MAWTimedBridge",["FBLogger","MAWBridgeLoggingUtils","MAWMaybeWithTimeout","MAWWaitForBackendSetup"],(function(a,b,c,d,e,f,g){"use strict";var h=6e4;function a(a,b,e,f){f===void 0&&(f=h);return d("MAWMaybeWithTimeout").maybeWithTimeout(d("MAWWaitForBackendSetup").waitForBackendSetup(e).then(function(){return a()}),f,function(){d("MAWBridgeLoggingUtils").routeTimeout(b,e);throw c("FBLogger")("messenger_e2ee_web").mustfixThrow("Failed to complete bridge route %s in time",e)},e)}g.bridgeTimeout=a}),98);
__d("MAWBridgeSendAndReceive",["MAWBridge","MAWBridgeLoggingUtils","MAWTimedBridge"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c,e){return d("MAWTimedBridge").bridgeTimeout(function(){d("MAWBridgeLoggingUtils").routeStart(a,b);return d("MAWBridge").getBridge().sendAndReceive(a,b,c).then(function(c){d("MAWBridgeLoggingUtils").routeSuccess(a,b);return c})["catch"](function(c){d("MAWBridgeLoggingUtils").routeFail(a,b);throw c})},a,b,e)}g.sendAndReceive=a}),98);
__d("MWEncryptedBackupsProcessBackupIds",["FBLogger","LSFactory","LSIntEnum","LSProcessBackupIdsStoredProcedure","Promise","ReQL","gkx","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(a){if(c("gkx")("7110"))return a.runInTransaction(function(a){return c("LSProcessBackupIdsStoredProcedure")(c("LSFactory")(a))},"readwrite").then(function(a){return(i||(i=d("LSIntEnum"))).unwrapIntEnum(a[0])});else return(h||(h=b("Promise"))).resolve(0)}function a(a,b){return a.table("encrypted_backups").subscribe(function(){c("promiseDone")(d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.table("encrypted_backups"))),function(d){if(d!=null){c("promiseDone")(j(a),b,function(a){c("FBLogger")("labyrinth_web").catching(a).info("Error in db transaction")});return}})})}g.processBackupIdsStoredProcedure=j;g.subscribeToEncryptedBackupsRow=a}),98);
__d("MessageSendsClientFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1271");b=d("FalcoLoggerInternal").create("message_sends_client",a);e=b;g["default"]=e}),98);
__d("MWLogSend",["I64","MessageSendsClientFalcoEvent","MultipleTabsLogger","Promise","ReQL","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,e,f,g,j,k,l,m,n,o,p,q,r,s,t){c("promiseDone")((i||(i=b("Promise"))).all([d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.table("participants")).getKeyRange(e).filter(function(a){return!(h||(h=d("I64"))).equal(a.contactId,k)})),d("MultipleTabsLogger").hasMultipleTabs()]).then(function(a){var b=a[0],i=a[1],k=b.map(function(a){return(h||(h=d("I64"))).to_string(a.contactId)}),s=q!=null?q:(h||(h=d("I64"))).to_string(e),u=r!=null?(h||(h=d("I64"))).to_string((h||(h=d("I64"))).of_float(r)):void 0;c("MessageSendsClientFalcoEvent").log(function(){return{backend:p,event_type:o,feature_tags:i===!0?[19]:[],group_thread_subtype:void 0,igd_action:void 0,igd_target_type:void 0,igd_verb:void 0,initiating_app_id:void 0,initiating_source:t,is_reply:n,message_attachment_fbids:j.map(String),message_id:void 0,message_type:m,messaging_thread_fbid:s,messaging_thread_type:(h||(h=d("I64"))).to_int32(f),msg_ttl:u,nav_chain:void 0,nonce:void 0,offline_threading_id:g,recipient_fbids:k,send_attribution:h.to_int32(l),send_attribution_raw:void 0,view_mode:void 0}})}))}g.log=a}),98);
__d("ArmadilloDataTraceCheckPoint",["I64"],(function(a,b,c,d,e,f,g){"use strict";var h;a=(h||(h=d("I64"))).of_string("63");b=h.of_string("65");c=h.of_string("98");e=h.of_string("504");f=h.of_string("1000");d=h.of_string("1001");var i=h.of_string("1204"),j=h.of_string("1210"),k=h.of_string("1224"),l=h.of_string("1234"),m=h.of_string("1225"),n=h.of_string("2220");g.traceGroupMessage=a;g.armadilloActMessageSend=b;g.traceCreated=c;g.richMediaMediaSendAttachmentType=e;g.traceTextMessage=f;g.traceMediaMessage=d;g.advancedCryptoMEMSendTaskComplete=i;g.deliveryReceiptReceived=j;g.advancedCryptoMEMEncryptionDeviceCount=k;g.advancedCryptoGroupDualSend=l;g.advancedCryptoDualSend=m;g.armadilloTlcControlOpenThread=n}),98);
__d("isInstamadilloEB",["qex"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("qex")._("695")===!0}g["default"]=a}),98);
__d("XCometFBMultiSiteWebWorkerInitScriptControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/static_resources/webworker_v1/init_script/",Object.freeze({}),void 0);b=a;g["default"]=b}),98);
__d("TrustedTypesWebWorkerScriptURLPolicy",["TrustedTypes"],(function(a,b,c,d,e,f,g){"use strict";a={createScriptURL:function(a){return a}};b=c("TrustedTypes").createPolicy("web-worker-url",a);d=b;g["default"]=d}),98);
__d("getWorkerInitScriptSPINParams",["SiteData","StaticSiteData","objectEntries"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a,b,d,e=(b=c("SiteData"))[(d=c("StaticSiteData")).spin_mhenv_key];d=babelHelpers["extends"]((a={},a[d.hs_key]=b.haste_session,a[d.spin_rev_key]=b[d.spin_rev_key],a[d.spin_branch_key]=b[d.spin_branch_key],a[d.spin_time_key]=b[d.spin_time_key],a),Boolean(e)?(b={},b[c("StaticSiteData").spin_mhenv_key]=e,b):null);return new Map(c("objectEntries")(d))}g["default"]=a}),98);
__d("LSContactGender",[],(function(a,b,c,d,e,f){a=Object.freeze({UNKNOWN:0,FEMALE:1,MALE:2,NEUTER:3});f["default"]=a}),66);/*FB_PKG_DELIM*/
__d("BaseSvgImage.react",["react","useFeedImageErrorEventLoggerCbs"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useEffect,k=b.useRef;function a(a){var b=a.onError,d=a.src,e=a.testid;e=babelHelpers.objectWithoutPropertiesLoose(a,["onError","src","testid"]);a=c("useFeedImageErrorEventLoggerCbs")({onError:b,src:d});b=a._onError;a=a._onLoad;var f=k(null),g=k(d);j(function(){f.current&&f.current.getAttribute("xlink:href")!==g.current&&f.current.setAttribute("xlink:href",g.current)},[f,g]);return i.jsx("image",babelHelpers["extends"]({},e,{"data-testid":void 0,height:"100%",onError:b,onLoad:a,preserveAspectRatio:"xMidYMid slice",ref:f,width:"100%",xlinkHref:d}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useSetAttributeRef",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useCallback;function a(a,b){return i(function(c){c!=null&&c.setAttribute(a,b)},[a,b])}g["default"]=a}),98);
__d("BaseBadge.react",["CometVisualCompletionAttributes","react","stylex","testID"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={root:{alignItems:"x6s0dn4",borderTopStartRadius:"xzolkzo",borderTopEndRadius:"x12go9s9",borderBottomEndRadius:"x1rnf11y",borderBottomStartRadius:"xprq8jg",boxSizing:"x9f619",display:"x3nfvp2",justifyContent:"xl56j7k",$$css:!0}};a=function(a){var b=a.children,d=a.testid,e=a.xstyle;a=babelHelpers.objectWithoutPropertiesLoose(a,["children","testid","xstyle"]);return j.jsx("span",babelHelpers["extends"]({},a,{className:(h||(h=c("stylex")))([k.root,e])},c("testID")(d),c("CometVisualCompletionAttributes").IGNORE,{children:b}))};g["default"]=a}),98);
__d("BaseStyledBadge.react",["BaseBadge.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={6:{height:"xols6we",width:"x1v4s8kt",$$css:!0},7:{height:"x1hagigm",width:"xci0xqf",$$css:!0},8:{height:"xdk7pt",width:"x1xc55vz",$$css:!0},9:{height:"xegnrdp",width:"x1wc42o8",$$css:!0},10:{height:"x170jfvy",width:"x1fsd2vl",$$css:!0},12:{height:"x1kpxq89",width:"xsmyaan",$$css:!0},14:{height:"x1v9usgg",width:"x6jxa94",$$css:!0},15:{height:"xx3o462",width:"x1a00udw",$$css:!0},18:{height:"xmix8c7",width:"x1xp8n7a",$$css:!0},20:{height:"x1qx5ct2",width:"xw4jnvo",$$css:!0},22:{height:"x17rw0jw",width:"x17z2i9w",$$css:!0},24:{height:"xxk0z11",width:"xvy4d1p",$$css:!0},32:{height:"x10w6t97",width:"x1td3qas",$$css:!0},41:{height:"x1njhlm6",width:"x1r9kitl",$$css:!0}},k={6:{borderTopStyle:"x13fuv20",borderEndStyle:"xu3j5b3",borderBottomStyle:"x1q0q8m5",borderStartStyle:"x26u7qi",borderTopWidth:"x5see2y",borderEndWidth:"x8ebbdf",borderBottomWidth:"x1pzews7",borderStartWidth:"x1r61nuk",height:"xegnrdp",width:"x1wc42o8",$$css:!0},7:{borderTopStyle:"x13fuv20",borderEndStyle:"xu3j5b3",borderBottomStyle:"x1q0q8m5",borderStartStyle:"x26u7qi",borderTopWidth:"xamhcws",borderEndWidth:"xol2nv",borderBottomWidth:"xlxy82",borderStartWidth:"x19p7ews",height:"x6w4g8m",width:"x10vfzb2",$$css:!0},8:{borderTopStyle:"x13fuv20",borderEndStyle:"xu3j5b3",borderBottomStyle:"x1q0q8m5",borderStartStyle:"x26u7qi",borderTopWidth:"xamhcws",borderEndWidth:"xol2nv",borderBottomWidth:"xlxy82",borderStartWidth:"x19p7ews",height:"x1kpxq89",width:"xsmyaan",$$css:!0},9:{borderTopStyle:"x13fuv20",borderEndStyle:"xu3j5b3",borderBottomStyle:"x1q0q8m5",borderStartStyle:"x26u7qi",borderTopWidth:"xamhcws",borderEndWidth:"xol2nv",borderBottomWidth:"xlxy82",borderStartWidth:"x19p7ews",height:"x18gnavp",width:"x1fxhmyf",$$css:!0},10:{borderTopStyle:"x13fuv20",borderEndStyle:"xu3j5b3",borderBottomStyle:"x1q0q8m5",borderStartStyle:"x26u7qi",borderTopWidth:"xamhcws",borderEndWidth:"xol2nv",borderBottomWidth:"xlxy82",borderStartWidth:"x19p7ews",height:"x1v9usgg",width:"x6jxa94",$$css:!0},12:{borderTopStyle:"x13fuv20",borderEndStyle:"xu3j5b3",borderBottomStyle:"x1q0q8m5",borderStartStyle:"x26u7qi",borderTopWidth:"xamhcws",borderEndWidth:"xol2nv",borderBottomWidth:"xlxy82",borderStartWidth:"x19p7ews",height:"xlup9mm",width:"x1kky2od",$$css:!0},14:{borderTopStyle:"x13fuv20",borderEndStyle:"xu3j5b3",borderBottomStyle:"x1q0q8m5",borderStartStyle:"x26u7qi",borderTopWidth:"xamhcws",borderEndWidth:"xol2nv",borderBottomWidth:"xlxy82",borderStartWidth:"x19p7ews",height:"xmix8c7",width:"x1xp8n7a",$$css:!0},15:{borderTopStyle:"x13fuv20",borderEndStyle:"xu3j5b3",borderBottomStyle:"x1q0q8m5",borderStartStyle:"x26u7qi",borderTopWidth:"xamhcws",borderEndWidth:"xol2nv",borderBottomWidth:"xlxy82",borderStartWidth:"x19p7ews",height:"xhvdbge",width:"xn6xy2s",$$css:!0},18:{borderTopStyle:"x13fuv20",borderEndStyle:"xu3j5b3",borderBottomStyle:"x1q0q8m5",borderStartStyle:"x26u7qi",borderTopWidth:"xamhcws",borderEndWidth:"xol2nv",borderBottomWidth:"xlxy82",borderStartWidth:"x19p7ews",height:"x17rw0jw",width:"x17z2i9w",$$css:!0},20:{borderTopStyle:"x13fuv20",borderEndStyle:"xu3j5b3",borderBottomStyle:"x1q0q8m5",borderStartStyle:"x26u7qi",borderTopWidth:"x1gp4ovq",borderEndWidth:"xdio9jc",borderBottomWidth:"x1h2mt7u",borderStartWidth:"x7g060r",height:"x1fgtraw",width:"xgd8bvy",$$css:!0},22:{borderTopStyle:"x13fuv20",borderEndStyle:"xu3j5b3",borderBottomStyle:"x1q0q8m5",borderStartStyle:"x26u7qi",borderTopWidth:"x1gp4ovq",borderEndWidth:"xdio9jc",borderBottomWidth:"x1h2mt7u",borderStartWidth:"x7g060r",height:"x1gnnpzl",width:"x1849jeq",$$css:!0},24:{borderTopStyle:"x13fuv20",borderEndStyle:"xu3j5b3",borderBottomStyle:"x1q0q8m5",borderStartStyle:"x26u7qi",borderTopWidth:"x1gp4ovq",borderEndWidth:"xdio9jc",borderBottomWidth:"x1h2mt7u",borderStartWidth:"x7g060r",height:"x10w6t97",width:"x1td3qas",$$css:!0},32:{borderTopStyle:"x13fuv20",borderEndStyle:"xu3j5b3",borderBottomStyle:"x1q0q8m5",borderStartStyle:"x26u7qi",borderTopWidth:"x1gp4ovq",borderEndWidth:"xdio9jc",borderBottomWidth:"x1h2mt7u",borderStartWidth:"x7g060r",height:"x1vqgdyp",width:"x100vrsf",$$css:!0},41:{borderTopStyle:"x13fuv20",borderEndStyle:"xu3j5b3",borderBottomStyle:"x1q0q8m5",borderStartStyle:"x26u7qi",borderTopWidth:"x1gp4ovq",borderEndWidth:"xdio9jc",borderBottomWidth:"x1h2mt7u",borderStartWidth:"x7g060r",height:"x112a4uq",width:"x15jighw",$$css:!0}};function a(a){var b=a.border;b=b===void 0?!1:b;var d=a.children,e=a.colorXStyle,f=a.size;f=f===void 0?8:f;var g=a.xstyle;a=babelHelpers.objectWithoutPropertiesLoose(a,["border","children","colorXStyle","size","xstyle"]);return i.jsx(c("BaseBadge.react"),babelHelpers["extends"]({},a,{xstyle:[e,b?k[f]:j[f],g],children:d}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("getCometBadgeColorStyle",["unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h={blue:{backgroundColor:"x107p15e",$$css:!0},darkGray:{backgroundColor:"x167v862",$$css:!0},gray:{backgroundColor:"x80cks",$$css:!0},green:{backgroundColor:"x7amd0a",$$css:!0},lightBlue:{backgroundColor:"x56hhle",$$css:!0},red:{backgroundColor:"xdi0jry",$$css:!0},yellow:{backgroundColor:"x1ajtyu9",$$css:!0}};function a(a){switch(a){case"blue":return h.blue;case"gray":return h.gray;case"darkGray":return h.darkGray;case"green":return h.green;case"lightBlue":return h.lightBlue;case"red":return h.red;case"yellow":return h.yellow;default:a;throw c("unrecoverableViolation")(" Invalid color in getCometBadgeColorStyle","comet_ui")}}g["default"]=a}),98);
__d("CometBadge.react",["BaseStyledBadge.react","getCometBadgeColorStyle","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={borderDark:{borderTopColor:"x1o7swki",borderEndColor:"xp7cj6j",borderBottomColor:"x1bkzgmd",borderStartColor:"xl02xpf",$$css:!0},borderWhite:{borderTopColor:"x6zyg47",borderEndColor:"x1xm1mqw",borderBottomColor:"xpn8fn3",borderStartColor:"xtct9fg",$$css:!0},isNoneProfileBadge:{marginEnd:"x1emribx",marginLeft:null,marginRight:null,$$css:!0}},k={6:{marginStart:"x1w4ip6v",marginLeft:null,marginRight:null,width:"x1wc42o8",$$css:!0},7:{marginStart:"x1b2warb",marginLeft:null,marginRight:null,width:"xaw7vzs",$$css:!0},8:{marginStart:"xsgj6o6",marginLeft:null,marginRight:null,width:"xsmyaan",$$css:!0},9:{marginStart:"x1hvlnb8",marginLeft:null,marginRight:null,width:"x197psvt",$$css:!0},10:{marginStart:"x8j4wrb",marginLeft:null,marginRight:null,width:"x1a00udw",$$css:!0},12:{marginStart:"x1mnrxsn",marginLeft:null,marginRight:null,width:"x1xp8n7a",$$css:!0},14:{marginStart:"xnfveip",marginLeft:null,marginRight:null,width:"x1kl0l3y",$$css:!0},15:{marginStart:"xpw6ms",marginLeft:null,marginRight:null,width:"xpcibvc",$$css:!0},18:{marginStart:"x1cxxrxm",marginLeft:null,marginRight:null,width:"xo7uitg",$$css:!0},20:{marginStart:"x17adc0v",marginLeft:null,marginRight:null,width:"x1849jeq",$$css:!0},22:{marginStart:"x1hy63sm",marginLeft:null,marginRight:null,width:"x1npj6m0",$$css:!0},24:{marginStart:"x16n37ib",marginLeft:null,marginRight:null,width:"x14qfxbe",$$css:!0},32:{marginStart:"x1d52u69",marginLeft:null,marginRight:null,width:"x1useyqa",$$css:!0},41:{marginStart:"x1v860g0",marginLeft:null,marginRight:null,width:"x1yaf2ey",$$css:!0}},l={6:{marginStart:"x1mnrxsn",marginLeft:null,marginRight:null,width:"xsmyaan",$$css:!0},7:{marginStart:"xnfveip",marginLeft:null,marginRight:null,width:"x6jxa94",$$css:!0},8:{marginStart:"x1i64zmx",marginLeft:null,marginRight:null,width:"x1kky2od",$$css:!0},9:{marginStart:"x1cxxrxm",marginLeft:null,marginRight:null,width:"x1xp8n7a",$$css:!0},10:{marginStart:"x17adc0v",marginLeft:null,marginRight:null,width:"xw4jnvo",$$css:!0},12:{marginStart:"x16n37ib",marginLeft:null,marginRight:null,width:"xvy4d1p",$$css:!0},14:{marginStart:"xwycmqc",marginLeft:null,marginRight:null,width:"xgd8bvy",$$css:!0},15:{marginStart:"x13ibhcj",marginLeft:null,marginRight:null,width:"x1849jeq",$$css:!0},18:{marginStart:"x1sliqq",marginLeft:null,marginRight:null,width:"x14qfxbe",$$css:!0},20:{marginStart:"xmn8rco",marginLeft:null,marginRight:null,width:"x100vrsf",$$css:!0},22:{marginStart:"x1tv9t25",marginLeft:null,marginRight:null,width:"x187nhsf",$$css:!0},24:{marginStart:"xmupa6y",marginLeft:null,marginRight:null,width:"x1useyqa",$$css:!0},32:{marginStart:"x8vdgqj",marginLeft:null,marginRight:null,width:"x1fu8urw",$$css:!0},41:{marginStart:"x2vb376",marginLeft:null,marginRight:null,width:"x1pigqs1",$$css:!0}};function a(a){var b=a.border;b=b===void 0?"none":b;var d=a.color;d=d===void 0?"blue":d;var e=a.colorOverride,f=a.isProfileBadge;f=f===void 0?!1:f;var g=a.label,h=a.wide;h=h===void 0?"normal":h;a=babelHelpers.objectWithoutPropertiesLoose(a,["border","color","colorOverride","isProfileBadge","label","wide"]);var m=a.children,n=a.size;n=n===void 0?8:n;a=babelHelpers.objectWithoutPropertiesLoose(a,["children","size"]);return i.jsx(c("BaseStyledBadge.react"),babelHelpers["extends"]({},a,{"aria-label":g,border:b!=="none",colorXStyle:(a=e)!=null?a:c("getCometBadgeColorStyle")(d),size:n,xstyle:[!f&&j.isNoneProfileBadge,b==="white"&&j.borderWhite,b==="dark"&&j.borderDark,h==="wide"&&k[n],h==="extraWide"&&l[n]],children:m}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometPressableChildrenWithOverlay.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.children;a=a.overlay;return i.jsxs("div",{className:"x4k7w5x x1h91t0o x1o1ewxj x3x9cwd x1e5q0jg x13rtm0m x1jfb8zj x1beo9mf x3igimt xarpa2k x1n2onr6 x1qrby5j",children:[b,a]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometProfilePhotoAvailabilityBadge.react",["fbt","CometBadge.react","CometPressableChildrenWithOverlay.react","CometPressableOverlay.react","CometScreenReaderText.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k=h._("__JHASH__Pm4800857Zv__JHASH__");function a(a){var b=a.pressed;a=a.size;return j.jsxs("div",{className:"x14yjl9h xudhj91 x18nykt9 xww2gxu x78zum5 x6ikm8r x10wlt62 x1n2onr6",children:[j.jsx(c("CometPressableChildrenWithOverlay.react"),{overlay:j.jsx(c("CometPressableOverlay.react"),{pressed:b,radius:"50%"}),children:j.jsx(c("CometBadge.react"),{color:"green",isProfileBadge:!0,size:a})}),j.jsx(c("CometScreenReaderText.react"),{text:k})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useServerTime",["JSScheduler","ServerTime","clearInterval","react","setInterval"],(function(a,b,c,d,e,f,g){"use strict";var h,i;b=h||d("react");var j=b.useEffect,k=b.useState,l=6e4,m=new Set(),n=null,o=!1;function p(){m.forEach(function(a){return a()}),o=!1}function q(a){a===void 0&&(a=l),n=c("setInterval")(function(){o||(o=!0,(i||(i=d("JSScheduler"))).scheduleSpeculativeCallback(p))},a)}function r(){m.size===0&&(c("clearInterval")(n),n=null)}function s(a,b){b===void 0&&(b=l);m.add(a);n==null&&q(b);return function(){m["delete"](a),r()}}function t(){return new Date(d("ServerTime").getMillis())}function a(a){a===void 0&&(a=l);var b=k(function(){return t()}),c=b[0],d=b[1],e=function(){return d(t())};j(function(){return s(e,a)},[a]);return c}g["default"]=a}),98);
__d("CometRelativeTimestamp.react",["fbt","react","react-strict-dom","useServerTime"],(function(a,b,c,d,e,f,g,h){"use strict";var i;e=i||d("react");function j(a,b){if(b==="minimized")return h._("__JHASH__fwsgSNrW38G__JHASH__");else if(b==="shortened")return h._("__JHASH__R3_UwncmzVK__JHASH__");return h._("__JHASH__n-vdMzQYLNI__JHASH__")}function k(a,b){return b==="minimized"?h._("__JHASH__-b-qMPARzNx__JHASH__"):h._("__JHASH__7tk0E3psPN9__JHASH__")}function l(a,b){if(b==="minimized")return h._("__JHASH__-dvS8T7Zewj__JHASH__",[h._param("minutes",a,[0])]);else if(b==="shortened")return h._("__JHASH__pJYDYNmcCNm__JHASH__",[h._plural(a,"number")]);return h._("__JHASH__Cf0HUgiMq4T__JHASH__",[h._plural(a,"number")])}function m(a,b){if(b==="minimized")return h._("__JHASH__aQr_BY-obs4__JHASH__",[h._param("minutes",a,[0])]);else if(b==="shortened")return h._("__JHASH__c6NQLZH4ANd__JHASH__",[h._plural(a,"number")]);return h._("__JHASH__hSOa9acW7bb__JHASH__",[h._plural(a,"number")])}function n(a,b){if(b==="minimized")return h._("__JHASH__dJku-irc6Vq__JHASH__",[h._param("hours",a)]);else if(b==="shortened")return h._("__JHASH__fgynbiSDJGc__JHASH__",[h._plural(a,"number")]);return h._("__JHASH__6moQMMAESbv__JHASH__",[h._plural(a,"number")])}function o(a,b){if(b==="minimized")return h._("__JHASH__my9Q52IIrzO__JHASH__",[h._param("hours",a)]);else if(b==="shortened")return h._("__JHASH__aKe8M_AKzI3__JHASH__",[h._plural(a,"number")]);return h._("__JHASH__KshjW5ZSXeJ__JHASH__",[h._plural(a,"number")])}function p(a,b){if(b==="minimized")return h._("__JHASH__7vrBSek8hqf__JHASH__",[h._param("days",a)]);else if(b==="shortened")return h._("__JHASH__U_-41liQBf___JHASH__",[h._plural(a,"number")]);return h._("__JHASH__eOrU59mir58__JHASH__",[h._plural(a,"number")])}function q(a,b){if(b==="minimized")return h._("__JHASH__nR1BpT4JZ-1__JHASH__",[h._param("days",a)]);else if(b==="shortened")return h._("__JHASH__XM9woDyI0RI__JHASH__",[h._plural(a,"number")]);return h._("__JHASH__e25sv98iazf__JHASH__",[h._plural(a,"number")])}function r(a,b){if(b==="minimized")return h._("__JHASH__89wyXCUcNcD__JHASH__",[h._param("weeks",a)]);else if(b==="shortened")return h._("__JHASH__LzV87OP-cnH__JHASH__",[h._plural(a,"number")]);return h._("__JHASH__8Tz4WwYqyWe__JHASH__",[h._plural(a,"number")])}function s(a,b){if(b==="minimized")return h._("__JHASH__6jpt3ZiMeNm__JHASH__",[h._param("weeks",a)]);else if(b==="shortened")return h._("__JHASH__FZjvF7iUhS2__JHASH__",[h._plural(a,"number")]);return h._("__JHASH__KYxoF9she7V__JHASH__",[h._plural(a,"number")])}function t(a,b){if(b==="minimized")return h._("__JHASH__pydgq6srngO__JHASH__",[h._param("years",a)]);else if(b==="shortened")return h._("__JHASH__qHsnROIs1Rn__JHASH__",[h._plural(a,"number")]);return h._("__JHASH__4VLiJAQbl5i__JHASH__",[h._plural(a,"number")])}function u(a,b){if(b==="minimized")return h._("__JHASH__PO71EECf0Ar__JHASH__",[h._param("years",a)]);else if(b==="shortened")return h._("__JHASH__HQno8zOlCSY__JHASH__",[h._plural(a,"number")]);return h._("__JHASH__lP1YxrqVkce__JHASH__",[h._plural(a,"number")])}var v=60,w=60,x=24,y=7,z=365;function A(a,b,c){c===void 0&&(c="normal");a=(a.valueOf()-b.valueOf())/1e3;if(a<v)return j(a,c);b=a/v;a=Math.floor(b);if(a<w)return l(a,c);a=b/w;b=Math.floor(a);if(b<x)return n(b,c);b=a/x;a=Math.floor(b);if(a<y)return p(a,c);else if(b<z){a=Math.floor(b/y);return r(a,c)}a=Math.floor(b/z);return t(a,c)}function a(a,b,c){c===void 0&&(c="normal");b=(b.valueOf()-a.valueOf())/1e3;if(b<v)return k(b,c);a=b/v;b=Math.floor(a);if(b<w)return m(b,c);b=a/w;a=Math.floor(a/w);if(a<x)return o(a,c);a=b/x;b=Math.floor(a);if(b<y)return q(b,c);else if(a<z){b=Math.floor(a/y);return s(b,c)}b=Math.floor(a/z);return u(b,c)}function b(a){var b=a.date;a=a.format;var d=c("useServerTime")();d=A(d,b,a);return d}b.displayName=b.name+" [from "+f.id+"]";b.getRelativeTimestamp=A;b.getRelativeTimestampInFuture=a;g["default"]=b}),98);
__d("MWChatActivePill.react",["CometPressableChildrenWithOverlay.react","CometPressableOverlay.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={badge:{backgroundColor:"xbb192p",borderTopStartRadius:"xhw592a",borderTopEndRadius:"xwihvcr",borderBottomEndRadius:"x7wuybg",borderBottomStartRadius:"xb9tvrk",borderTopStyle:"x13fuv20",borderEndStyle:"xu3j5b3",borderBottomStyle:"x1q0q8m5",borderStartStyle:"x26u7qi",borderTopWidth:"xamhcws",borderEndWidth:"xol2nv",borderBottomWidth:"xlxy82",borderStartWidth:"x19p7ews",boxSizing:"x9f619",display:"x78zum5",fontWeight:"x117nqv4",justifyContent:"xl56j7k",marginTop:"x1kgmq87",marginEnd:"xwrv7xz",marginBottom:"xmgb6t1",marginStart:"x8182xy",paddingStart:"x1h0ha7o",paddingLeft:null,paddingRight:null,paddingEnd:"xg83lxy",$$css:!0},badgeContainer:{display:"x78zum5",justifyContent:"xl56j7k",maxWidth:"x193iq5w",$$css:!0},inner:{color:"x6u5lvz",fontSize:"x190qgfh",lineHeight:"x132q4wb",whiteSpace:"xuxw1ft",$$css:!0}},l={"card-background":{borderTopColor:"x6zyg47",borderEndColor:"x1xm1mqw",borderBottomColor:"xpn8fn3",borderStartColor:"xtct9fg",$$css:!0},"secondary-button-background-floating":{borderTopColor:"x1bmsi4x",borderEndColor:"xrcl4xe",borderBottomColor:"x17j0sh5",borderStartColor:"x14li8yl",$$css:!0},"web-wash":{borderTopColor:"x1516sgx",borderEndColor:"x1fjwj1m",borderBottomColor:"x1khxuxv",borderStartColor:"x4gm0zg",$$css:!0}};function a(a){var b=a.border;b=b===void 0?"card-background":b;var d=a.children;a=a.pressed;return j.jsx("div",{className:"x78zum5 xl56j7k x193iq5w",children:j.jsx(c("CometPressableChildrenWithOverlay.react"),{overlay:j.jsx(c("CometPressableOverlay.react"),{pressed:a,radius:7}),children:j.jsx("div",{className:(h||(h=c("stylex")))(k.badge,l[b]),children:j.jsx("span",{className:"x6u5lvz x190qgfh x132q4wb xuxw1ft",children:d})})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometProfilePhotoLastActiveTimeBadge.react",["CometRelativeTimestamp.react","MWChatActivePill.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.border;b=b===void 0?"card-background":b;var d=a.pressed;a=a.time;return i.jsx(c("MWChatActivePill.react"),{border:b,pressed:d,children:i.jsx(c("CometRelativeTimestamp.react"),{date:new Date(a*1e3),format:"minimized"})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometProfilePhotoNotificationBadge.react",["CometBadge.react","TetraText.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){a=a.number;return i.jsx(c("CometBadge.react"),{color:"red",isProfileBadge:!0,size:18,wide:a>9?"wide":"normal",children:i.jsx("div",{className:"x6s0dn4 x78zum5 x5yr21d xl56j7k xuxw1ft xh8yej3",children:i.jsx(c("TetraText.react"),{color:"primaryOnMedia",type:"body4",children:a>9?"9+":a})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometSSRSuspendOnServer.react",["ExecutionEnvironment","react","suspendOrThrowIfUsedInSSR"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;j||d("react");function a(a){a=a.children;if((h||(h=c("ExecutionEnvironment"))).canUseDOM)return a;(i||(i=c("suspendOrThrowIfUsedInSSR")))("CometSSRSuspendOnServer: This component is marked to be client rendered")}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometSSRReplaceContentOnHydrationAndBreakEventReplaying.react",["CometPlaceholder.react","CometSSRSuspendOnServer.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.children;a=a.useSuspenseDirectlyForSVG;a=a===!0?i.Suspense:c("CometPlaceholder.react");return i.jsx(a,{fallback:b,children:i.jsx(c("CometSSRSuspendOnServer.react"),{children:b})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometProfileVideoGlimmer.react",["CometGlimmer.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={container:{position:"x1n2onr6",$$css:!0},glimmer:{borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",height:"x5yr21d",position:"x10l6tqk",start:"x17qophe",left:null,right:null,top:"x13vifvy",width:"xh8yej3",$$css:!0}};function a(a){a=a.size;return i.jsx("div",{className:"x1n2onr6",style:{height:a,width:a},children:i.jsx(c("CometGlimmer.react"),{index:0,xstyle:j.glimmer})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("LazyCometProfileVideoSection.react",["CometPlaceholder.react","CometProfileVideoGlimmer.react","JSResourceForInteraction","lazyLoadComponent","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j=c("lazyLoadComponent")(c("JSResourceForInteraction")("CometProfileVideoSection.react").__setRef("LazyCometProfileVideoSection.react"));function a(a){return i.jsx(c("CometPlaceholder.react"),{fallback:i.jsx(c("CometProfileVideoGlimmer.react"),{size:a.size}),children:i.jsx(j,babelHelpers["extends"]({},a))})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("profilePhotoUtils",["Locale","memoizeWithArgs"],(function(a,b,c,d,e,f,g){"use strict";a=c("memoizeWithArgs")(function(a,b){b===void 0&&(b=!1);a=Math.sqrt(2*a*a)-a;a=Math.round(Math.sqrt(a*a/2));if(b)if(d("Locale").isRTL())return{left:a,top:a,transform:"translate(-50%, -50%)"};else return{right:a,top:a,transform:"translate(50%, -50%)"};else if(d("Locale").isRTL())return{bottom:a,left:a,transform:"translate(-50%, 50%)"};else return{bottom:a,right:a,transform:"translate(50%, 50%)"}},function(a,b){return String(b)+String(a)});b=c("memoizeWithArgs")(function(a){switch(a){case 24:case 32:case 36:case 40:return 2;case 48:case 56:case 60:return 3;case 132:default:return 4}},function(a){return String(a)});e=c("memoizeWithArgs")(function(a,b){if(b==="availabilityBadge")switch(a){case 16:case 20:case 24:return[6,1.5];case 28:return[7,2];case 32:case 36:return[8,2];case 40:case 44:case 48:return[9,2];case 56:case 60:return[10,2];case 72:return[12,2];case 80:case 88:return[14,2];case 96:case 100:return[15,2];case 120:case 132:case 168:return[20,4];default:a;return[8,2]}switch(a){case 16:case 20:case 24:return[6,1.5];case 28:return[7,1.5];case 32:return[8,2];case 36:return[9,2];case 40:return[10,2];case 44:case 48:return[12,2];case 56:return[14,2];case 60:return[15,2];case 72:return[18,2];case 80:return[20,4];case 88:return[22,4];case 96:case 100:return[24,4];case 120:case 132:return[32,4];case 168:return[41,4];default:a;return[8,2]}},function(a,b){return String(a)+b});g.getBadgePosition=a;g.getStoryRingSize=b;g.getBadgeSizeAndStrokeWidth=e}),98);
__d("CometProfilePhoto.react",["BaseSvgImage.react","CometErrorBoundary.react","CometImage.react","CometLoadingAnimation.react","CometPlaceholder.react","CometPressable.react","CometPressableChildrenWithOverlay.react","CometPressableOverlay.react","CometProfilePhotoAvailabilityBadge.react","CometProfilePhotoLastActiveTimeBadge.react","CometProfilePhotoNotificationBadge.react","CometSSRReplaceContentOnHydrationAndBreakEventReplaying.react","CometSSRSuspendOnServer.react","CometTrackingNodeProvider.react","CometVisualCompletionAttributes","LazyCometProfileVideoSection.react","profilePhotoUtils","react","stylex","useSetAttributeRef"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react")),k=i.useId,l={activityBadge:{alignItems:"x6s0dn4",borderBottomStyle:"x1q0q8m5",borderBottomWidth:"x1qhh985",borderEndStyle:"xu3j5b3",borderEndWidth:"xcfux6l",borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",borderStartStyle:"x26u7qi",borderStartWidth:"xm0m39n",borderTopStyle:"x13fuv20",borderTopWidth:"x972fbf",boxSizing:"x9f619",display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",justifyContent:"xl56j7k",marginBottom:"xat24cr",marginEnd:"x11i5rnm",marginLeft:null,marginRight:null,marginStart:"x1mh8g0r",marginTop:"xdj266r",minHeight:"x2lwn1j",minWidth:"xeuugli",overflowX:"x6ikm8r",overflowY:"x10wlt62",paddingBottom:"x18d9i69",paddingEnd:"x4uap5",paddingLeft:null,paddingRight:null,paddingStart:"xkhd6sd",paddingTop:"xexx8yu",position:"x1n2onr6",zIndex:"x1ja2u2z",$$css:!0},activityIcon10:{height:"x17rw0jw",paddingTop:"x123j3cw",paddingEnd:"x1mpkggp",paddingBottom:"xs9asl8",paddingStart:"x1t2a60a",width:"x17z2i9w",$$css:!0},activityIcon16:{height:"xd7y6wv",paddingTop:"x123j3cw",paddingEnd:"x1mpkggp",paddingBottom:"xs9asl8",paddingStart:"x1t2a60a",width:"x23j0i4",$$css:!0},activityIcon8:{height:"x1v9usgg",width:"x6jxa94",$$css:!0},badge:{borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",position:"x10l6tqk",zIndex:"xhtitgo",$$css:!0},badgeWithBorder:{borderTopColor:"x1aoij9j",borderEndColor:"xxpsvdv",borderBottomColor:"x2e7n7m",borderStartColor:"x9387xi",borderTopStyle:"x13fuv20",borderEndStyle:"xu3j5b3",borderBottomStyle:"x1q0q8m5",borderStartStyle:"x26u7qi",$$css:!0},badgeWithLastActiveTime:{bottom:"x1ey2m1c",display:"x78zum5",end:"xds687c",left:null,right:null,justifyContent:"x13a6bvl",start:"x17qophe",$$css:!0},badgeWithShadow:{boxShadow:"x14ihvte",$$css:!0},insetSVG:{fill:"xbh8q5q",stroke:"x1pwv2dq",strokeWidth:"xvlca1e",$$css:!0},photo:{verticalAlign:"x3ajldb",$$css:!0},photoCircle:{borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",$$css:!0},photoRoundedRect:{borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",$$css:!0},pressable:{color:"xzsf02u",display:"x1rg5ohu",$$css:!0},pressed:{transform:"x1n5d1j9",$$css:!0},storyRingBlue:{stroke:"x1p5r69i",$$css:!0},storyRingGray:{stroke:"x1tbtn3x",$$css:!0},storyRingGreen:{stroke:"x1cm6qz0",$$css:!0},storyRingRed:{stroke:"x1t6d43z",$$css:!0},storyRingSize2:{strokeWidth:"xvlca1e",$$css:!0},storyRingSize3:{strokeWidth:"xqjr0vm",$$css:!0},storyRingSize4:{strokeWidth:"x17ld789",$$css:!0},svgOverlay:{fill:"x1tgjyoi",$$css:!0},videoContainer:{WebkitMaskImage:"x1u31j2f",overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0},videoContainerRectRounded:{borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",$$css:!0},videoContainerRounded:{borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",$$css:!0},wrapper:{display:"x1rg5ohu",position:"x1n2onr6",verticalAlign:"x3ajldb",zIndex:"x1ja2u2z",$$css:!0}};function a(a,b){var e=a.addOn,f=a.addOnTopEnd,g=a.alt,i=a.children,n=a.cursorDisabled,o=a.isOverlapped,p=o===void 0?!1:o,q=a.linkProps,r=a.onHoverIn,s=a.onHoverOut,t=a.onPress,u=a.onPressIn;o=a.overlayDisabled;o=o===void 0?!1:o;a.preview;var v=a.profileVideo,w=a.shape,x=w===void 0?"circle":w;w=a.shouldShowCloseFriendsBadge;var y=w===void 0?!1:w,z=a.size,A=a.source;w=a.storyStatus;var B=w===void 0?"none":w;w=a.testid;w=a.testOnly_pressed;a.testOnly_previewDelay;var C=babelHelpers.objectWithoutPropertiesLoose(a,["addOn","addOnTopEnd","alt","children","cursorDisabled","isOverlapped","linkProps","onHoverIn","onHoverOut","onPress","onPressIn","overlayDisabled","preview","profileVideo","shape","shouldShowCloseFriendsBadge","size","source","storyStatus","testid","testOnly_pressed","testOnly_previewDelay"]),D=k(),E=c("useSetAttributeRef")("id",D),F="url(#"+D+")",G=c("useSetAttributeRef")("mask",F),H=function(a,b){var k,n=a.overlay;a=a.pressed;var o=B!=="none"?d("profilePhotoUtils").getStoryRingSize(z):0,w=d("profilePhotoUtils").getBadgePosition(z/2,!0),H=d("profilePhotoUtils").getBadgeSizeAndStrokeWidth(z,e==null?void 0:e.type),I=H[0];H=H[1];var J=v!=null?{borderWidth:H}:{},K=(e==null?void 0:e.type)==="lastActiveTimeBadge"&&z>28,L=K?{}:d("profilePhotoUtils").getBadgePosition(z/2,!1);K=e!=null?j.jsx("div",babelHelpers["extends"]({className:(h||(h=c("stylex")))(l.badge,K&&l.badgeWithLastActiveTime,z===60&&e.type==="activityBadge"&&l.badgeWithShadow,e.type==="activityBadge"&&(v!=null||e.withBorder)&&l.badgeWithBorder)},c("CometVisualCompletionAttributes").IGNORE,{style:babelHelpers["extends"]({},L,J),children:j.jsx(m,{addOn:e,pressed:a,size:z})})):null;J=f!=null?j.jsx("div",{className:"x14yjl9h xudhj91 x18nykt9 xww2gxu x10l6tqk xhtitgo","data-testid":void 0,style:babelHelpers["extends"]({},w),children:j.jsx(c("CometProfilePhotoNotificationBadge.react"),{number:f.number})}):null;var M=typeof A.uri==="string"?j.jsx(c("BaseSvgImage.react"),{src:A.uri,style:{height:z-o*4,width:z-o*4},x:2*o,y:2*o}):j.jsx(c("CometImage.react"),{alt:g,height:z-4*o,src:A.uri,testid:void 0,width:z-4*o,xstyle:[l.photo,x==="circle"&&l.photoCircle,x==="roundedRect"&&l.photoRoundedRect]});I=typeof A.uri==="string"?j.jsxs("svg",babelHelpers["extends"]({"aria-hidden":g==null?!0:void 0,"aria-label":g,className:"x3ajldb"},c("CometVisualCompletionAttributes").IGNORE_DYNAMIC,{role:g!=null?"img":"none",style:{height:z,width:z},children:[j.jsxs("mask",{id:D,ref:E,suppressHydrationWarning:!0,children:[x==="circle"?j.jsx("circle",{cx:z/2,cy:z/2,fill:"white",r:z/2}):j.jsx("rect",{cy:z/2,fill:"white",height:z,rx:x==="square"?0:8,ry:x==="square"?0:8,width:z,x:0,y:0}),j.jsx(c("CometSSRReplaceContentOnHydrationAndBreakEventReplaying.react"),{useSuspenseDirectlyForSVG:!0,children:K!=null&&(e==null?void 0:e.type)!=="trigger"&&(e==null?void 0:e.type)!=="lastActiveTimeBadge"&&(e==null?void 0:e.backgroundColor)!=="none"&&j.jsx("circle",babelHelpers["extends"]({cx:(k=L.left)!=null?k:z-((k=L.right)!=null?k:0),cy:(k=L.top)!=null?k:z-((k=L.bottom)!=null?k:0)},c("CometVisualCompletionAttributes").IGNORE,{fill:"black",r:Math.max((e==null?void 0:e.type)==="activityBadge"?8:0,I/2+H)}))}),J!=null&&f!=null&&f.type==="notificationBadge"&&j.jsx("rect",{height:22,rx:11,ry:11,width:f.number<=9?22:f.number<=99?33:44,x:w.left!=null?w.left-(f.number<=9?11:f.number<=99?22:33):z-((L=w.right)!=null?L:0)-11,y:w.top!=null?w.top-11:z-((k=w.bottom)!=null?k:0)-11}),B==="uploading"&&(z===36||z===60)?j.jsx("circle",{cx:z/2,cy:z/2,fill:"transparent",r:z/2-1*o,stroke:"black",strokeWidth:o*2}):B!=="none"&&o>0&&j.jsx("circle",{cx:z/2,cy:z/2,fill:"transparent",r:z/2-1.5*o,stroke:"black",strokeWidth:o}),p&&j.jsx("circle",{cx:-z/2+4,cy:z/2,fill:"black",r:z/2+2})]}),j.jsxs("g",{mask:F,ref:G,suppressHydrationWarning:!0,children:[v!=null?j.jsx(c("CometErrorBoundary.react"),{fallback:function(){return M},children:j.jsx(c("CometPlaceholder.react"),{fallback:M,children:j.jsx(c("CometSSRSuspendOnServer.react"),{children:j.jsx("foreignObject",{height:"100%",width:"100%",x:2*o,y:2*o,children:j.jsx("div",{className:(h||(h=c("stylex")))(l.videoContainer,x==="roundedRect"&&l.videoContainerRectRounded,x==="circle"&&l.videoContainerRounded),style:{height:z-o*4,width:z-o*4},children:j.jsx(c("LazyCometProfileVideoSection.react"),babelHelpers["extends"]({linkProps:q,onHoverIn:r,onHoverOut:s,onPress:t,onPressIn:u,profileVideo:v,size:z-o*4,thumbnailUri:A.uri},C))})})})})}):M,x==="circle"?j.jsx("circle",{className:(h||(h=c("stylex")))(l.insetSVG,a&&l.svgOverlay),cx:z/2,cy:z/2,r:z/2}):j.jsx("rect",{className:(h||(h=c("stylex")))(l.insetSVG,a&&l.svgOverlay),cy:z/2,fill:"white",height:z,rx:x==="square"?0:8,ry:x==="square"?0:8,width:z,x:0,y:0}),B==="uploading"&&(z===36||z===60)?null:B!=="none"&&o>0&&j.jsx("circle",{className:(h||(h=c("stylex")))(B==="unseen"&&(y?l.storyRingGreen:l.storyRingBlue),B==="seen"&&l.storyRingGray,B==="live"&&l.storyRingRed,o===4&&l.storyRingSize4,o===3&&l.storyRingSize3,o===2&&l.storyRingSize2),cx:z/2,cy:z/2,fill:"transparent",r:z/2-o/2,stroke:"var(--accent)",strokeWidth:o})]}),B==="uploading"&&(z===36||z===60)&&j.jsx("g",{style:{transform:"scale("+(z-Math.floor(z/30))/z+")"},children:j.jsx(c("CometLoadingAnimation.react"),{size:z})})]})):M;return j.jsxs("div",{className:"x1rg5ohu x1n2onr6 x3ajldb x1ja2u2z",ref:b,children:[I,i,n,j.jsx(c("CometSSRReplaceContentOnHydrationAndBreakEventReplaying.react"),{children:K}),J]})};return!t&&!q&&w!==!0?H({pressed:!1},b):j.jsx(c("CometTrackingNodeProvider.react"),{trackingNode:3,children:j.jsx(c("CometPressable.react"),babelHelpers["extends"]({},C,{cursorDisabled:n,linkProps:q,onHoverIn:r,onHoverOut:s,onPress:t,onPressIn:u,overlayDisabled:o,overlayRadius:x==="circle"?"50%":x==="roundedRect"?8:0,ref:b,testOnly_pressed:w,testid:void 0,xstyle:function(a){a=a.pressed;return[l.pressable,a&&l.pressed]},children:function(a){var b=a.overlay;a=a.pressed;return H({overlay:b,pressed:a},null)}}))})}a.displayName=a.name+" [from "+f.id+"]";function m(a){var b=a.addOn,e=a.pressed;a=a.size;switch(b.type){case"availabilityBadge":a=d("profilePhotoUtils").getBadgeSizeAndStrokeWidth(a,b==null?void 0:b.type);a=a[0];return j.jsx(c("CometProfilePhotoAvailabilityBadge.react"),{pressed:e,size:a});case"lastActiveTimeBadge":return j.jsx(c("CometProfilePhotoLastActiveTimeBadge.react"),{border:b.border,pressed:e,time:b.time});case"activityBadge":return j.jsx(n,{backgroundColor:b.backgroundColor,icon:b.icon,overflow:b.overflow,pressed:e,size:b.size});case"trigger":return b.icon;case"multipleVoicesForAction":return b.badge;default:return null}}m.displayName=m.name+" [from "+f.id+"]";function n(a){var b=a.backgroundColor;b=b===void 0?"white":b;var d=a.icon,e=a.overflow,f=a.pressed;a=a.size;return j.jsx(c("CometPressableChildrenWithOverlay.react"),{overlay:j.jsx(c("CometPressableOverlay.react"),{offset:0,pressed:f,radius:"50%"}),children:j.jsx("div",{className:(h||(h=c("stylex")))(l.activityBadge,a===8&&l.activityIcon8,a===10&&l.activityIcon10,a===16&&l.activityIcon16),style:{backgroundColor:b,overflow:e},children:d})})}n.displayName=n.name+" [from "+f.id+"]";b=j.forwardRef(a);g["default"]=b}),98);
__d("TetraProfilePhoto.react",["CometProfilePhoto.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a,b){return i.jsx(c("CometProfilePhoto.react"),babelHelpers["extends"]({},a,{ref:b}))}a.displayName=a.name+" [from "+f.id+"]";b=i.forwardRef(a);g["default"]=b}),98);
__d("CometFocusTableContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext({FocusCell:null,FocusRow:null,FocusTable:null});g["default"]=b}),98);
__d("TetraButtonGroup.react",["CometFocusTableContext","CometRow.react","CometRowItem.react","TetraButton.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useContext,k={hiddenButton:{height:"xqtp20y",overflowX:"x6ikm8r",overflowY:"x10wlt62",visibility:"xlshs6z",$$css:!0},resetFlexBasis:{flexBasis:"xdl72j9",$$css:!0}},l="secondary";function m(a){var b=j(c("CometFocusTableContext"));b=b.FocusCell;a=a.children;return b!=null?i.jsx(b,{children:a}):a}m.displayName=m.name+" [from "+f.id+"]";function a(a){var b=a.align,d=b===void 0?"justify":b;b=a.direction;b=b===void 0?"forward":b;var e=a.expanding;e=e===void 0?!1:e;var f=a.paddingHorizontal,g=a.paddingTop,h=a.paddingVertical,j=a.primary,n=a.secondary,o=a.size,p=a.verticalAlign,q=a.wrap;q=q===void 0?"none":q;var r=[],s=[],t=null;if(j!=null){var u=j.ref,v=j.testid;v=babelHelpers.objectWithoutPropertiesLoose(j,["ref","testid"]);t=i.jsx(m,{children:i.jsx(c("TetraButton.react"),babelHelpers["extends"]({},v,{ref:u,size:o,testid:void 0}))});r.push({hidden:i.jsx(c("TetraButton.react"),babelHelpers["extends"]({},v,{disabled:!0,padding:"normal",size:o})),visible:t})}if(n!=null){j=n.ref;u=n.testid;v=babelHelpers.objectWithoutPropertiesLoose(n,["ref","testid"]);r.push({hidden:i.jsx(c("TetraButton.react"),babelHelpers["extends"]({},v,{disabled:!0,padding:"normal",size:o,type:"secondary"})),visible:i.jsx(m,{children:i.jsx(c("TetraButton.react"),babelHelpers["extends"]({},v,{ref:j,size:o,testid:void 0,type:"secondary"}))})})}else if(a.secondaryIcon!=null){s.push(i.jsx(c("CometRowItem.react"),{children:i.jsx(m,{children:i.jsx(c("TetraButton.react"),babelHelpers["extends"]({},a.secondaryIcon,{labelIsHidden:!0,size:o,type:(u=a.secondaryIcon.type)!=null?u:l}))})},"secondary-icon"))}else if(a.secondaryIconGroup!=null){n=a.secondaryIconGroup;v=n.primaryIcon;j=n.secondaryIcon;s.push(i.jsx(c("CometRowItem.react"),{children:i.jsx(m,{children:i.jsx(c("TetraButton.react"),babelHelpers["extends"]({},v,{labelIsHidden:!0,size:o,type:(u=v.type)!=null?u:l}))})},"secondary-icon-1"),i.jsx(c("CometRowItem.react"),{children:i.jsx(m,{children:i.jsx(c("TetraButton.react"),babelHelpers["extends"]({},j,{labelIsHidden:!0,size:o,type:(a=j.type)!=null?a:l}))})},"secondary-icon-2"))}n=r.map(function(a,b){return i.jsx(c("CometRowItem.react"),{expanding:d==="justify",xstyle:k.resetFlexBasis,children:r.map(function(a,c){return i.jsx(i.Fragment,{children:b!==c?i.jsx("div",{"aria-hidden":!0,className:"xqtp20y x6ikm8r x10wlt62 xlshs6z",children:a.hidden}):a.visible},c)})},b)});v=t!=null?i.jsx(c("CometRowItem.react"),{expanding:d==="justify",xstyle:k.resetFlexBasis,children:t},"primary"):null;u=[v].concat(s);o=r.length===2;j=o||t==null?n:u;a=b==="forward"?j:j.reverse();return i.jsx(c("CometRow.react"),{align:d,expanding:e,paddingHorizontal:f,paddingTop:g,paddingVertical:h,spacing:8,verticalAlign:p,wrap:q,children:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometUserActivity",["BaseEventEmitter"],(function(a,b,c,d,e,f,g){"use strict";var h=5e3,i=500,j=-5,k=Date.now(),l=k,m=!1,n=Date.now(),o=document.hasFocus?document.hasFocus():!0,p=0,q=Date.now(),r=-1,s=-1,t=!1,u=!1,v=new(c("BaseEventEmitter"))();function b(a){var b=w(function(c,d){b.unsubscribe(),a(d)});return b}function w(a){var b=v.addListener("user_activity",function(b){return a("user_activity",b)});return{unsubscribe:function(){return b.remove()}}}function d(a){return new Date().getTime()-k<(a!=null?a:h)}function e(){return o}function f(){return m}function x(){o=!0,m=!1}function y(){return n}function z(){return k}function A(a){p=a}function B(){return q}function C(){return t}function D(){return u}function E(){return l}function F(){k=Date.now(),l=k,m=!1,n=Date.now(),o=document.hasFocus?document.hasFocus():!0,p=0,q=Date.now(),r=-1,s=-1,t=!1,u=!1}function G(a){a.unsubscribe()}function H(a){J(a,i)}function I(a){J(a,0)}function J(b,c){c===void 0&&(c=0);var d=a.MouseEvent,e=a.KeyboardEvent;if(d&&b instanceof d){if(/^mouse(enter|leave|move|out|over)$/.test(b.type)&&b.pageX==r&&b.pageY==s)return;r=b.pageX;s=b.pageY}else e&&b instanceof e&&(u=!0);(b.type==="click"||b.type==="dblclick"||b.type==="contextmenu")&&(t=!0);k=Date.now();d=k-l;d>=c?(l=k,o||(q=k),d>=(p||h)&&(m=!0,n=k),v.emit("user_activity",{event:b,idleness:d,last_inform:l})):d<j&&(l=k)}function K(a){o=!0,n=Date.now(),I(a)}function L(){o=!1,m=!0,q=Date.now()}window.addEventListener("scroll",H,{capture:!0,passive:!0});window.addEventListener("focus",K,{capture:!1,passive:!0});window.addEventListener("blur",L,{capture:!1,passive:!0});(function(){var a=document.documentElement;if(a==null)return;["keydown","mouseover","mousemove","click"].forEach(function(b){a.addEventListener(b,H,{capture:!0,passive:!0})})})();g.EVENT_INTERVAL_MS=i;g.subscribeOnce=b;g.subscribe=w;g.isActive=d;g.isOnTab=e;g.hasBeenInactive=f;g.resetActiveStatus=x;g.getLastInActiveEnds=y;g.getLastActive=z;g.setIdleTime=A;g.getLastLeaveTime=B;g.hasClicked=C;g.hasInteractedWithKeyboard=D;g.getLastInformTime=E;g.reset=F;g.unsubscribe=G}),98);
__d("UserActivity",["cr:1634616"],(function(a,b,c,d,e,f){e.exports=b("cr:1634616")}),null);/*FB_PKG_DELIM*/
__d("createArrayFromMixed",["invariant"],(function(a,b,c,d,e,f,g,h){function i(a){var b=a.length;!Array.isArray(a)&&(typeof a==="object"||typeof a==="function")||h(0,3914);typeof b==="number"||h(0,3915);b===0||b-1 in a||h(0,3916);typeof a.callee!=="function"||h(0,3917);if(a.hasOwnProperty)try{return Array.prototype.slice.call(a)}catch(a){}var c=Array(b);for(var d=0;d<b;d++)c[d]=a[d];return c}function j(a){return!!a&&(typeof a==="object"||typeof a==="function")&&"length"in a&&!("setInterval"in a)&&typeof a.nodeType!=="number"&&(Array.isArray(a)||"callee"in a||"item"in a)}function a(a){if(!j(a))return[a];else if(Array.isArray(a))return a.slice();else return i(a)}g["default"]=a}),98);
__d("createObjectFrom",[],(function(a,b,c,d,e,f){function g(a,b){if(b===void 0)return g(a,!0);var c={};if(Array.isArray(b))for(var d=a.length-1;d>=0;d--)c[a[d]]=b[d];else for(d=a.length-1;d>=0;d--)c[a[d]]=b;return c}f["default"]=g}),66);
__d("isElementNode",["isNode"],(function(a,b,c,d,e,f){function a(a){return b("isNode")(a)&&a.nodeType==1}e.exports=a}),null);
__d("DOMQuery",["CSS","FBLogger","containsNode","createArrayFromMixed","createObjectFrom","ge","ifRequired","isElementNode","isNode"],(function(a,b,c,d,e,f,g){var h=/^\.-?[_a-zA-Z]+[\w-]*$/;function i(a,b){return a.hasAttribute?a.hasAttribute(b):a.getAttribute(b)!==null}function a(a,b){a=j(a,b);return a[0]}function b(a,b,c){b=j(a,b);a=j(a,c);b.length===1&&a.length===1&&b[0]===a[0]?c=b:c=b.concat(a);return c[0]}function j(a,b){if(!a||!a.getElementsByTagName)return[];b=b.split(" ");var e=[a];for(var f=0;f<b.length;f++){if(e.length===0)break;if(b[f]==="")continue;var g=b[f],j=b[f],k=[],l=!1;if(g.charAt(0)=="^")if(f===0)l=!0,g=g.slice(1);else return[];g=g.replace(/\[(?:[^=\]]*=(?:\"[^\"]*\"|\'[^\']*\'))?|[.#]/g," $&");g=g.split(" ");var m=g[0]||"*",n=m=="*",o=g[1]&&g[1].charAt(0)=="#";if(o){o=c("ge")(g[1].slice(1),a,m);if(o&&(n||o.tagName.toLowerCase()==m))for(var p=0;p<e.length;p++)if(l&&c("containsNode")(o,e[p])){k=[o];break}else if(document==e[p]||c("containsNode")(e[p],o)&&e[p]!==o){k=[o];break}}else{o=[];p=e.length;var q,r=!l&&j.indexOf("[")<0&&document.querySelectorAll;for(var s=0;s<p;s++){if(l){q=[];var t=e[s].parentNode;while(c("isElementNode")(t))(n||t.tagName.toLowerCase()==m)&&q.push(t),t=t.parentNode}else r?h.test(j)?q=e[s].getElementsByClassName(j.substring(1)):q=e[s].querySelectorAll(j):q=e[s].getElementsByTagName(m);t=q.length;for(var u=0;u<t;u++)o.push(q[u])}if(!r)for(q=1;q<g.length;q++){t=g[q];u=t.charAt(0)==".";n=t.substring(1);for(s=0;s<o.length;s++){p=o[s];if(!p||p.nodeType!==1)continue;if(u){d("CSS").hasClass(p,n)||delete o[s];continue}else{j=t.slice(1,t.length-1);m=j.indexOf("=");if(m<0){if(!i(p,j)){delete o[s];continue}}else{r=j.substr(0,m);j=j.substr(m+1);j=j.slice(1,j.length-1);if(p.getAttribute(r)!=j){delete o[s];continue}}}}}for(s=0;s<o.length;s++)if(o[s]){k.push(o[s]);if(l)break}}e=k}return e}function e(){var a=window.getSelection;if(a)return a()+"";else{a=document.selection;if(a)return a.createRange().text}return null}function f(a,b){(typeof a==="string"||typeof b==="string")&&c("FBLogger")("dom_query").info("Support for node IDs is deprecated. Use containsNode(ge(<id1>), ge(<id2>)) instead");return c("containsNode")(c("ge")(a),c("ge")(b))}function k(){var a=c("ifRequired")("Quickling",function(a){return a.isActive()?c("ge")("content"):null});return a||document.body}function l(a,b){b=c("createArrayFromMixed")(b).join("|").toUpperCase().split("|");b=c("createObjectFrom")(b);return c("isNode")(a)&&a.nodeName in b}function m(a){return l(a,["input","textarea"])||a.contentEditable==="true"}g.find=a;g.findPushSafe=b;g.scry=j;g.getSelection=e;g.contains=f;g.getRootElement=k;g.isNodeOfType=l;g.isInputNode=m}),98);
__d("DOMEvent",["invariant"],(function(a,b,c,d,e,f,g,h){a=function(){function a(a){this.event=a||window.event,typeof this.event.srcElement!=="unknown"||h(0,5798),this.target=this.event.target||this.event.srcElement}var b=a.prototype;b.preventDefault=function(){var a=this.event;a.preventDefault?(a.preventDefault(),"defaultPrevented"in a||(a.defaultPrevented=!0)):a.returnValue=!1;return this};b.isDefaultPrevented=function(){var a=this.event;return"defaultPrevented"in a?a.defaultPrevented:a.returnValue===!1};b.stopPropagation=function(){var a=this.event;a.stopPropagation?a.stopPropagation():a.cancelBubble=!0;return this};b.kill=function(){this.stopPropagation().preventDefault();return this};a.killThenCall=function(b){return function(c){new a(c).kill();return b()}};return a}();g["default"]=a}),98);
__d("dedupString",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b;return Object.keys((b={},b[a]=0,b))[0]}f["default"]=a}),66);
__d("wrapFunction",[],(function(a,b,c,d,e,f){var g={};function a(a,b,c){var d=b in g?g[b](a,c):a;return function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return d.apply(this,b)}}a.setWrapper=function(a,b){g[b]=a};f["default"]=a}),66);
__d("DOMEventListener",["invariant","dedupString","emptyFunction","passiveEventListenerUtil","wrapFunction"],(function(a,b,c,d,e,f,g){var h=b("passiveEventListenerUtil").isPassiveEventListenerSupported,i,j;window.addEventListener?(i=function(a,c,d,e){e===void 0&&(e=!1),d.wrapper=b("wrapFunction")(d,"entry",b("dedupString")("DOMEventListener.add "+c)),a.addEventListener(c,d.wrapper,h?e:!1)},j=function(a,b,c,d){d===void 0&&(d=!1),a.removeEventListener(b,c.wrapper,h?d:!1)}):window.attachEvent?(i=function(a,c,d,e){e===void 0,d.wrapper=b("wrapFunction")(d,"entry","DOMEventListener.add "+c),a.attachEvent||g(0,2798),a.attachEvent("on"+c,d.wrapper)},j=function(a,b,c,d){d===void 0,a.detachEvent||g(0,2799),a.detachEvent("on"+b,c.wrapper)}):j=i=b("emptyFunction");a={add:function(a,b,c,d){d===void 0&&(d=!1);i(a,b,c,d);return{remove:function(){j(a,b,c,d)}}},remove:j};e.exports=a}),null);
__d("EventProfiler",["cr:708886"],(function(a,b,c,d,e,f,g){g["default"]=b("cr:708886")}),98);
__d("Scroll",[],(function(a,b,c,d,e,f){function g(a,b){return!!b&&(a===b.documentElement||a===b.body)}function a(a){var b;if(a==null)return 0;var c=a.ownerDocument;return g(a,c)?(c==null?void 0:(b=c.body)==null?void 0:b.scrollTop)||(c==null?void 0:(b=c.documentElement)==null?void 0:b.scrollTop)||0:a.scrollTop||0}function b(a,b){if(a==null)return;var c=a.ownerDocument;g(a,c)?((c==null?void 0:c.body)&&(c.body.scrollTop=b||0),(c==null?void 0:c.documentElement)&&(c.documentElement.scrollTop=b||0)):a.scrollTop=b||0}function c(a){var b,c=a.ownerDocument;return g(a,c)?(c==null?void 0:(b=c.body)==null?void 0:b.scrollLeft)||(c==null?void 0:(b=c.documentElement)==null?void 0:b.scrollLeft)||0:a.scrollLeft||0}function d(a,b){var c=a.ownerDocument;g(a,c)?((c==null?void 0:c.body)&&(c.body.scrollLeft=b||0),(c==null?void 0:c.documentElement)&&(c.documentElement.scrollLeft=b||0)):a.scrollLeft=b||0}f.getTop=a;f.setTop=b;f.getLeft=c;f.setLeft=d}),66);
__d("FlowMigrationUtilsForLegacyFiles",["FBLogger"],(function(a,b,c,d,e,f,g){"use strict";var h="flow_typing_for_legacy_code";function a(a){c("FBLogger")(h).blameToPreviousFile().event(h+".bad_call").mustfix(a);return new Error("["+h+"] "+a)}g.invariantViolation=a}),98);
__d("getDocumentScrollElement",["FlowMigrationUtilsForLegacyFiles"],(function(a,b,c,d,e,f,g){"use strict";var h=typeof navigator!=="undefined"&&navigator.userAgent.indexOf("AppleWebKit")>-1;function a(a){a=a||document;if(a.scrollingElement)return a.scrollingElement;a=!h&&a.compatMode==="CSS1Compat"?a.documentElement:a.body;a||d("FlowMigrationUtilsForLegacyFiles").invariantViolation("null result in getDocumentScrollElement");return a}g["default"]=a}),98);
__d("getObjectValues",[],(function(a,b,c,d,e,f){function a(a){var b=[];for(var c in a)b.push(a[c]);return b}f["default"]=a}),66);
__d("Event",["$","Arbiter","DOMEvent","DOMEventListener","DOMQuery","DataStore","ErrorGuard","EventProfiler","ExecutionEnvironment","FBLogger","Parent","Scroll","TimeSlice","UserAgent","dedupString","fb-error","getDocumentScrollElement","getObjectValues"],(function(a,b,c,d,e,f){var g,h,i=b("fb-error").TAAL,j="Event.listeners";Event.prototype||(Event.prototype={});function k(a){(a.type==="click"||a.type==="mouseover"||a.type==="keydown")&&b("Arbiter").inform("Event/stop",{event:a})}var l=function(){"use strict";function a(a,b,c){this.cancelBubble=!1,this.target=a,this.type=b,this.data=c}var c=a.prototype;c.getData=function(){this.data=this.data||{};return this.data};c.stop=function(){return Event.stop(this)};c.prevent=function(){return Event.prevent(this)};c.isDefaultPrevented=function(){return Event.isDefaultPrevented(this)};c.kill=function(){return Event.kill(this)};c.getTarget=function(){return new(b("DOMEvent"))(this).target||null};return a}();function m(a){if(a instanceof l)return a;a||(!window.addEventListener&&document.createEventObject?a=window.event?document.createEventObject(window.event):{}:a={});if(!a._inherits_from_prototype)for(var b in Event.prototype)try{a[b]=Event.prototype[b]}catch(a){}return a}Object.assign(Event.prototype,{_inherits_from_prototype:!0,getRelatedTarget:function(){var a=this.relatedTarget||(this.fromElement===this.srcElement?this.toElement:this.fromElement);return a&&a.nodeType?a:null},getModifiers:function(){var a={control:!!this.ctrlKey,shift:!!this.shiftKey,alt:!!this.altKey,meta:!!this.metaKey};a.access=b("UserAgent").isPlatform("Mac OS X")?a.control:a.alt;a.any=a.control||a.shift||a.alt||a.meta;return a},isRightClick:function(){return this.which?this.which===3:this.button&&this.button===2},isMiddleClick:function(){return this.which?this.which===2:this.button&&this.button===4},isDefaultRequested:function(){return this.getModifiers().any||this.isMiddleClick()||this.isRightClick()}},l.prototype);c={listen:function(a,c,d,e,f){typeof d==="function"&&(d=b("TimeSlice").guard(d,b("dedupString")("Event.js "+c+" handler")));!f||typeof f==="boolean"?f={passive:!1}:f={passive:f.passive||!1};if(!(g||(g=b("ExecutionEnvironment"))).canUseDOM)return new u(a,d,null,c,e,null,f);typeof a==="string"&&(a=b("$")(a));typeof e==="undefined"&&(e=Event.Priority.NORMAL);if(typeof c==="object"){var h={};for(var k in c)h[k]=Event.listen(a,k,c[k],e,f);return h}if(c.match(/^on/i))throw new TypeError("Bad event name `"+c+"': use `click', not `onclick'.");if(!a){k=i.blameToPreviousFrame(new Error("Cannot listen to an undefined element."));b("FBLogger")("event").catching(k).mustfix("Tried to listen to element of type %s",c);throw k}if(a.nodeName=="LABEL"&&c=="click"){h=a.getElementsByTagName("input");a=h.length==1?h[0]:a}else if(a===window&&c==="scroll"){k=b("getDocumentScrollElement")();k!==document.documentElement&&k!==document.body&&(a=k)}h=b("DataStore").get(a,j,{});k=o[c];k&&(c=k.base,k.wrap&&(d=k.wrap(d)));q(a,h,c,f);k=h[c];e in k||(k[e]=[]);var l=k[e].length;d=new u(a,d,h,c,e,l,f);k[e][l]=d;k.numHandlers++;f.passive||(k.numNonPassiveHandlers++,p(a,h[c],c));return d},stop:function(a){var c=new(b("DOMEvent"))(a).stopPropagation();k(c.event);return a},prevent:function(a){new(b("DOMEvent"))(a).preventDefault();return a},isDefaultPrevented:function(a){return new(b("DOMEvent"))(a).isDefaultPrevented(a)},kill:function(a){a=new(b("DOMEvent"))(a).kill();k(a.event);return!1},getKeyCode:function(a){a=new(b("DOMEvent"))(a).event;if(!a)return!1;switch(a.keyCode){case 63232:return 38;case 63233:return 40;case 63234:return 37;case 63235:return 39;case 63272:case 63273:case 63275:return null;case 63276:return 33;case 63277:return 34}if(a.shiftKey)switch(a.keyCode){case 33:case 34:case 37:case 38:case 39:case 40:return null}return a.keyCode},getPriorities:function(){if(!n){var a=b("getObjectValues")(Event.Priority);a.sort(function(a,b){return a-b});n=a}return n},fire:function(a,b,c){c=new l(a,b,c);var d;do{var e=Event.__getHandler(a,b);e&&(d=e(c));a=a.parentNode}while(a&&d!==!1&&!c.cancelBubble);return d!==!1},__fire:function(a,b,c){a=Event.__getHandler(a,b);if(a)return a(m(c))},__getHandler:function(a,c){var d=b("DataStore").get(a,j);return d&&d[c]?d[c].domHandler:a["on"+c]},getPosition:function(a){a=new(b("DOMEvent"))(a).event;var c=b("getDocumentScrollElement")(),d=a.clientX+b("Scroll").getLeft(c);a=a.clientY+b("Scroll").getTop(c);return{x:d,y:a}}};Object.assign(Event,c);var n=null;d=function(a){return function(c){if(!b("DOMQuery").contains(this,c.getRelatedTarget()))return a.call(this,c)}};var o;!window.navigator.msPointerEnabled?o={mouseenter:{base:"mouseover",wrap:d},mouseleave:{base:"mouseout",wrap:d}}:o={mousedown:{base:"MSPointerDown"},mousemove:{base:"MSPointerMove"},mouseup:{base:"MSPointerUp"},mouseover:{base:"MSPointerOver"},mouseout:{base:"MSPointerOut"},mouseenter:{base:"MSPointerOver",wrap:d},mouseleave:{base:"MSPointerOut",wrap:d}};if(b("UserAgent").isBrowser("Firefox < 52")){f=function(a,b){b=m(b);var c=b.getTarget();while(c)Event.__fire(c,a,b),c=c.parentNode};document.documentElement.addEventListener("focus",f.bind(null,"focusin"),!0);document.documentElement.addEventListener("blur",f.bind(null,"focusout"),!0)}var p=function(a,c,d){var e=c.numNonPassiveHandlers==0;e!=c.options.passive&&(c.domHandlerRemover.remove(),c.options.passive=e,c.domHandlerRemover=b("DOMEventListener").add(a,d,c.domHandler,{passive:e}))},q=function(a,c,d,e){if(d in c)return;var f=b("TimeSlice").guard(t.bind(a,d),b("dedupString")("Event listenHandler "+d));c[d]={numHandlers:0,numNonPassiveHandlers:0,domHandlerRemover:b("DOMEventListener").add(a,d,f,e),domHandler:f,options:e};c="on"+d;if(a[c]){f=a===document.documentElement?Event.Priority._BUBBLE:Event.Priority.TRADITIONAL;var g=a[c];a[c]=null;Event.listen(a,d,g,f,e)}};function r(a){return!a.href.endsWith("#")?!1:a.href===document.location.href||a.href===document.location.href+"#"}function s(a,b){return a.nodeName==="INPUT"&&a.type===b}var t=b("EventProfiler").__wrapEventListenHandler(function(a,c){c=m(c);if(!b("DataStore").get(this,j))throw new Error("Bad listenHandler context.");var d=b("DataStore").get(this,j)[a];if(!d)throw new Error("No registered handlers for `"+a+"'.");if(a=="click"||a=="contextmenu"||a=="mousedown"&&c.which==2){a=c.getTarget();var e=b("Parent").byTag(a,"a");e instanceof HTMLAnchorElement&&e.href&&r(e)&&!s(a,"file")&&!s(a,"submit")&&c.prevent()}e=Event.getPriorities();for(a=0;a<e.length;a++){var f=e[a];if(f in d){f=d[f];for(var g=0;g<f.length;g++){if(!f[g])continue;var h=f[g].fire(this,c);if(h===!1)return c.kill();else c.cancelBubble&&c.stop()}}}return c.returnValue});Event.Priority={URGENT:-20,TRADITIONAL:-10,NORMAL:0,_BUBBLE:1e3};var u=function(){"use strict";function a(a,b,c,d,e,f,g){this.$1=a,this.$2=b,this.$3=c,this.$7=d,this.$6=e,this.$4=f,this.$5=g}var c=a.prototype;c.isRemoved=function(){return!this.$3};c.remove=function(){if((g||(g=b("ExecutionEnvironment"))).canUseDOM){if(this.isRemoved()){b("FBLogger")("Event").warn("Event handler has already been removed");return}var a=this.$3[this.$7];a.numHandlers<=1?(a.domHandlerRemover.remove(),delete this.$3[this.$7]):(delete a[this.$6][this.$4],a.numHandlers--,this.$5.passive||(a.numNonPassiveHandlers--,p(this.$1,this.$3[this.$7],this.$7)));this.$3=null}};c.fire=function(a,c){return(g||(g=b("ExecutionEnvironment"))).canUseDOM?(h||(h=b("ErrorGuard"))).applyWithGuard(this.$2,a,[c],{name:"eventhandler:"+c.type+":"+(typeof a.name=="string"?a.name:a.id)}):!0};return a}();a.$E=Event.$E=m;e.exports=Event}),null);
__d("TrustedTypesLinkTagHTMLPolicy",["TrustedTypes","err"],(function(a,b,c,d,e,f,g){"use strict";a={createHTML:function(a){if(a==="<link />")return a;throw c("err")("Violating Trusted Type policies. Only works for '<link />' strings.")}};b=c("TrustedTypes").createPolicy("link-tag-html",a);d=b;g["default"]=d}),98);
__d("getMarkupWrap",["invariant","ExecutionEnvironment","TrustedTypesLinkTagHTMLPolicy"],(function(a,b,c,d,e,f,g,h){var i,j=(i||c("ExecutionEnvironment")).canUseDOM?document.createElement("div"):null,k={};b=[1,'<select multiple="true">',"</select>"];d=[1,"<table>","</table>"];e=[3,"<table><tbody><tr>","</tr></tbody></table>"];var l=[1,'<svg xmlns="http://www.w3.org/2000/svg">',"</svg>"],m={"*":[1,"?<div>","</div>"],area:[1,"<map>","</map>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],legend:[1,"<fieldset>","</fieldset>"],param:[1,"<object>","</object>"],tr:[2,"<table><tbody>","</tbody></table>"],optgroup:b,option:b,caption:d,colgroup:d,tbody:d,tfoot:d,thead:d,td:e,th:e};f=["circle","clipPath","defs","ellipse","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","text","tspan"];f.forEach(function(a){m[a]=l,k[a]=!0});function a(a){a=a;!j&&h(0,144);Object.prototype.hasOwnProperty.call(m,a)||(a="*");Object.prototype.hasOwnProperty.call(k,a)||(a==="*"?j.innerHTML=c("TrustedTypesLinkTagHTMLPolicy").createHTML("<link />"):j.innerHTML="<"+a+"></"+a+">",k[a]=!j.firstChild);return k[a]?m[a]:null}g["default"]=a}),98);
__d("createNodesFromMarkup",["invariant","ExecutionEnvironment","TrustedTypesNoOpPolicy_DO_NOT_USE","getMarkupWrap"],(function(a,b,c,d,e,f,g,h){var i,j=(i||c("ExecutionEnvironment")).canUseDOM?document.createElement("div"):null,k=/^\s*<(\w+)/;function l(a){a=a.match(k);return a&&a[1].toLowerCase()}function a(a,b){var d=j;!j&&h(0,5001);var e=l(a);e=e&&c("getMarkupWrap")(e);if(e){d.innerHTML=e[1]+a+e[2];e=e[0];while(e--)d=d.lastChild}else d.innerHTML=c("TrustedTypesNoOpPolicy_DO_NOT_USE").createHTML(a);e=d.getElementsByTagName("script");e.length&&(b||h(0,5002),Array.from(e).forEach(b));a=Array.from(d.childNodes);while(d.lastChild)d.removeChild(d.lastChild);return a}g["default"]=a}),98);
__d("evalGlobal",[],(function(a,b,c,d,e,f){function a(a){if(typeof a!=="string")throw new TypeError("JS sent to evalGlobal is not a string. Only strings are permitted.");if(!a)return;var b=document.createElement("script");try{b.appendChild(document.createTextNode(a))}catch(c){b.text=a}a=document.getElementsByTagName("head")[0]||document.documentElement;a.appendChild(b);a.removeChild(b)}f["default"]=a}),66);
__d("HTML",["invariant","Bootloader","FBLogger","createNodesFromMarkup","emptyFunction","evalGlobal"],(function(a,b,c,d,e,f,g){var h=/(<(\w+)[^>]*?)\/>/g,i={abbr:!0,area:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0};a=function(){"use strict";function a(c){c&&typeof c.__html==="string"&&(c=c.__html);if(!(this instanceof a))return c instanceof a?c:new a(c);if(c){var d=typeof c;d==="string"||g(0,277,d)}this._markup=c||"";this._defer=!1;this._nodes=null;this._inlineJS=b("emptyFunction");this._rootNode=null;this._hasInlineJs=!1}var c=a.prototype;c.toString=function(){return this._markup};c.getContent=function(){return this._markup};c.getNodes=function(){this._fillCache();return this._nodes};c.getRootNode=function(){this._rootNode&&g(0,278);var a=this.getNodes();if(a.length===1)this._rootNode=a[0];else{var b=document.createDocumentFragment();for(var c=0;c<a.length;c++)b.appendChild(a[c]);this._rootNode=b}return this._rootNode};c.getAction=function(){var a=this;this._fillCache();var b=function(){a._inlineJS()};return this._defer?function(){setTimeout(b,0)}:b};c._fillCache=function(){if(this._nodes!==null)return;if(!this._markup){this._nodes=[];return}var a=this._markup.replace(h,function(a,b,c){return i[c.toLowerCase()]?a:b+"></"+c+">"}),c=null;a=b("createNodesFromMarkup")(a,function(a){b("FBLogger")("staticresources").warn("HTML: encountered script node while parsing, hasSrc=%s, type=%s",Boolean(a.src),a.type==null||a.type===""?"<unknown>":a.type),a.type!=="application/ld+json"&&a.type!=="application/json"&&(c=c||[],c.push(a.src?b("Bootloader").requestJSResource_UNSAFE_NEEDS_REVIEW_BY_SECURITY_AND_XFN.bind(b("Bootloader"),a.src):b("evalGlobal").bind(null,a.innerHTML)),a.parentNode.removeChild(a))});c&&(this._hasInlineJs=!0,this._inlineJS=function(){for(var a=0;a<c.length;a++)c[a]()});this._nodes=a};c.setDeferred=function(a){this._defer=!!a;return this};c.hasInlineJs=function(){return this._hasInlineJs};a.isHTML=function(b){return!!b&&(b instanceof a||b.__html!==void 0)};a.replaceJSONWrapper=function(b){return b&&b.__html!==void 0?new a(b.__html):b};return a}();e.exports=a}),null);
__d("TrustedTypesIEFixDOMPolicy",["TrustedTypes"],(function(a,b,c,d,e,f,g){"use strict";a={createHTML:function(a){return a}};b=c("TrustedTypes").createPolicy("dom-ie-fix",a);d=b;g["default"]=d}),98);
__d("UserAgent_DEPRECATED",[],(function(a,b,c,d,e,f){var g=!1,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w;function x(){if(g)return;g=!0;var a=navigator.userAgent,b=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(a),c=/(Mac OS X)|(Windows)|(Linux)/.exec(a);s=/\b(iPhone|iP[ao]d)/.exec(a);t=/\b(iP[ao]d)/.exec(a);q=/Android/i.exec(a);u=/FBAN\/\w+;/i.exec(a);v=/FBAN\/mLite;/i.exec(a);w=/Mobile/i.exec(a);r=!!/Win64/.exec(a);if(b){h=b[1]?parseFloat(b[1]):b[5]?parseFloat(b[5]):NaN;h&&document&&document.documentMode&&(h=document.documentMode);var d=/(?:Trident\/(\d+.\d+))/.exec(a);m=d?parseFloat(d[1])+4:h;i=b[2]?parseFloat(b[2]):NaN;j=b[3]?parseFloat(b[3]):NaN;k=b[4]?parseFloat(b[4]):NaN;k?(b=/(?:Chrome\/(\d+\.\d+))/.exec(a),l=b&&b[1]?parseFloat(b[1]):NaN):l=NaN}else h=i=j=l=k=NaN;if(c){if(c[1]){d=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(a);n=d?parseFloat(d[1].replace("_",".")):!0}else n=!1;o=!!c[2];p=!!c[3]}else n=o=p=!1}function y(){return x()||h}function a(){return x()||m>h}function b(){return y()&&r}function c(){return x()||i}function d(){return x()||j}function z(){return x()||k}function e(){return z()}function A(){return x()||l}function B(){return x()||o}function C(){return x()||n}function D(){return x()||p}function E(){return x()||s}function F(){return x()||s||t||q||w}function G(){return x()||v!=null?null:u}function H(){return x()||q}function I(){return x()||t}f.ie=y;f.ieCompatibilityMode=a;f.ie64=b;f.firefox=c;f.opera=d;f.webkit=z;f.safari=e;f.chrome=A;f.windows=B;f.osx=C;f.linux=D;f.iphone=E;f.mobile=F;f.nativeApp=G;f.android=H;f.ipad=I}),66);
__d("isScalar",[],(function(a,b,c,d,e,f){function a(a){return/string|number|boolean/.test(typeof a)}f["default"]=a}),66);
__d("DOM",["$","DOMQuery","Event","FBLogger","FbtResultBase","HTML","TrustedTypesIEFixDOMPolicy","UserAgent_DEPRECATED","createArrayFromMixed","fb-error","isNode","isScalar","isTextNode"],(function(a,b,c,d,e,f,g){a=function(a,b,c){a=document.createElement(a);b&&h.setAttributes(a,b);c!=null&&h.setContent(a,c);return a};var h={find:(b=d("DOMQuery")).find,findPushSafe:b.findPushSafe,scry:b.scry,getSelection:b.getSelection,contains:b.contains,getRootElement:b.getRootElement,isNodeOfType:b.isNodeOfType,isInputNode:b.isInputNode,create:a,setAttributes:function(a,b){b.type&&(a.type=b.type);for(var d in b){var e=b[d],f=/^on/i.test(d);f&&typeof e!=="function"&&c("FBLogger")("dom").warn("Handlers passed to DOM.setAttributes must be functions. Handler passed for %s was %s",d,typeof e);if(d=="type")continue;else d=="style"?typeof e==="string"?a.style.cssText=e:Object.assign(a.style,e):f?c("Event").listen(a,d.substr(2),e):d in a?a[d]=e:a.setAttribute&&a.setAttribute(d,e)}},prependContent:function(a,b){if(!a)throw c("fb-error").TAAL.blameToPreviousFile(new Error("reference element is not a node"));return j(b,a,function(b){a.firstChild?a.insertBefore(b,a.firstChild):a.appendChild(b)})},insertAfter:function(a,b){if(!a||!a.parentNode)throw c("fb-error").TAAL.blameToPreviousFile(new Error("reference element does not have a parent"));var d=a.parentNode;return j(b,d,function(b){a.nextSibling?d.insertBefore(b,a.nextSibling):d.appendChild(b)})},insertBefore:function(a,b){if(!a||!a.parentNode)throw c("fb-error").TAAL.blameToPreviousFile(new Error("reference element does not have a parent"));var d=a.parentNode;return j(b,d,function(b){d.insertBefore(b,a)})},setContent:function(a,b){if(!a)throw c("fb-error").TAAL.blameToPreviousFile(new Error("reference element is not a node"));while(a.firstChild)i(a.firstChild);return h.appendContent(a,b)},appendContent:function(a,b){if(!a)throw c("fb-error").TAAL.blameToPreviousFile(new Error("reference element is not a node"));return j(b,a,function(b){a.appendChild(b)})},replace:function(a,b){if(!a||!a.parentNode)throw c("fb-error").TAAL.blameToPreviousFile(new Error("reference element does not have a parent"));var d=a.parentNode;return j(b,d,function(b){d.replaceChild(b,a)})},remove:function(a){i(typeof a==="string"?c("$")(a):a)},empty:function(a){a=typeof a==="string"?c("$")(a):a;while(a.firstChild)i(a.firstChild)}};function i(a){a.parentNode&&a.parentNode.removeChild(a)}function j(a,b,e){a=c("HTML").replaceJSONWrapper(a);if(a instanceof c("HTML")&&b.firstChild===null&&-1===a.toString().indexOf("<script")){var f=d("UserAgent_DEPRECATED").ie();if(!f||f>7&&!d("DOMQuery").isNodeOfType(b,["table","tbody","thead","tfoot","tr","select","fieldset"])){var g=f?'<em style="display:none;">&nbsp;</em>':"";b.innerHTML=c("TrustedTypesIEFixDOMPolicy").createHTML(g+a);f&&b.removeChild(b.firstChild);return Array.from(b.childNodes)}}else if(c("isTextNode")(b)){b.data=a;return[a]}g=document.createDocumentFragment();var h;f=[];b=[];var i=!1;a=c("createArrayFromMixed")(a);a.length===1&&a[0]instanceof c("FbtResultBase")&&(a=a[0].getContents());for(var j=0;j<a.length;j++){h=c("HTML").replaceJSONWrapper(a[j]);if(h instanceof c("HTML")){b.push(h.getAction());var k=h.getNodes();!i&&h.hasInlineJs()&&(c("FBLogger")("staticresources").warn("DOM: adding HTML which contains inline JS"),i=!0);for(var l=0;l<k.length;l++)f.push(k[l]),g.appendChild(k[l])}else if(c("isScalar")(h)||h instanceof c("FbtResultBase")){l=document.createTextNode(h);f.push(l);g.appendChild(l)}else c("isNode")(h)?(f.push(h),g.appendChild(h)):(Array.isArray(h)&&c("FBLogger")("dom").warn("Nest arrays not supported"),h!==null&&c("FBLogger")("dom").warn("No way to set content %s",h))}e(g);b.forEach(function(a){a()});return f}e=h;g["default"]=e}),98);
__d("EventProfilerSham",[],(function(a,b,c,d,e,f){a={__wrapEventListenHandler:function(a){return a},tagCurrentActiveInteractionsAs:function(a){},setCurrentAdAccountId:function(a){},setAdsConfig:function(a){}};b=a;f["default"]=b}),66);/*FB_PKG_DELIM*/
__d("LSCreateDataTrace",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return c[0]=b.i64.of_float(Date.now()),b.db.table(153).add({traceId:a[0],initTimestampMs:c[0],traceType:a[4],shouldFlush:!1,contextOne:a[1],contextTwo:a[2],contextThree:a[3]})},function(a){return b.resolve(d)}])}b=a;f["default"]=b}),66);
__d("LSIsMobileClient",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[];return c[0]=!1,b.resolve(c)}b=a;f["default"]=b}),66);
__d("LSIsEncryptionVersionSecure",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.i64.eq(a[0],b.i64.cast([0,4]))?c[0]=!1:(b.i64.eq(a[0],b.i64.cast([0,3]))?c[1]=!0:(b.i64.eq(a[0],b.i64.cast([0,2]))?c[2]=!0:(b.i64.eq(a[0],b.i64.cast([0,0]))?c[3]=!0:(b.i64.eq(a[0],b.i64.cast([0,99]))?c[4]=!1:c[4]=!1,c[3]=c[4]),c[2]=c[3]),c[1]=c[2]),c[0]=c[1]),d[0]=c[0],b.resolve(d)}b=a;f["default"]=b}),66);
__d("LSThreadsRangesQueryStoredProcedure",["LSThreadsRangesQuery"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.parentThreadKey;d[1]=b.isLoadingBefore;d[2]=b.isLoadingAfter;d[3]=b.minThreadKey;d[4]=b.maxThreadKey;d[5]=b.maxLastActivityTimestampMs;d[6]=b.minLastActivityTimestampMs;d[7]=b.additionalPagesToFetch;d[8]=b.shouldSkipE2eeThreadsRanges;return c("LSThreadsRangesQuery").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("LSMaxInt32",["I64"],(function(a,b,c,d,e,f,g){"use strict";var h;a=(h||d("I64")).of_int32(2147483647);g["default"]=a}),98);
__d("LSDatascriptEvaluatorDeferredInnerDeferred",["requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";a=c("requireDeferred")("LSDatascriptEvaluator").__setRef("LSDatascriptEvaluatorDeferredInnerDeferred");b=a;g["default"]=b}),98);
__d("LSBase64Encode.nop",["LSResult","Promise","base64-js"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(a,e,f){return(h||(h=b("Promise"))).resolve(c("LSResult")(f?d("base64-js").fromByteArray(new Uint8Array(f)):void 0))};g["default"]=a}),98);
__d("LSBinaryToHex.nop",["LSResult","Promise"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(a,d,e){a=Array.from(new Uint8Array(e));d=a.map(function(a){return a.toString(16).padStart(2,"0")});e=d.join("").toUpperCase();return(h||(h=b("Promise"))).resolve(c("LSResult")(e))};g["default"]=a}),98);
__d("LSCreateDataTraceID.bs",["LSRequestId","LSResult","Promise"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,d){return(h||(h=b("Promise"))).resolve(c("LSResult")(c("LSRequestId").generate()))}g.call=a}),98);
__d("LSCreateDataTraceID.nop",["LSCreateDataTraceID.bs"],(function(a,b,c,d,e,f,g){"use strict";a=function(a,b){return d("LSCreateDataTraceID.bs").call(a,b)};g["default"]=a}),98);
__d("CryptoLogger",["FBLogger"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return c("FBLogger")("labyrinth_web","crypto."+a)}function b(a,b){return b instanceof Error?a.catching(b):a}g.CryptoLogger=a;g.captureError=b}),98);
__d("RetUtil",["LSResult"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return c("LSResult")(a)}g.getNullableRetResult=a}),98);
__d("globalCryptoSubtle",[],(function(a,b,c,d,e,f){"use strict";b=a.crypto.subtle;c=b;f["default"]=c}),66);
__d("LSCreateDerivedKeys.nop",["CryptoLogger","I64","LSMaxInt32","LSVec","Promise","RetUtil","globalCryptoSubtle"],(function(a,b,c,d,e,f,g){"use strict";var h,i;a=function(a,e,f,g,j,k){var l=d("CryptoLogger").CryptoLogger("create_derived_keys");a=c("LSVec").toArray(k);if(a.length<1||a.some(function(a){return(i||(i=d("I64"))).gt(a,c("LSMaxInt32"))})){l.mustfix("Invalid key lengths for derive keys");return(h||(h=b("Promise"))).resolve(d("RetUtil").getNullableRetResult(void 0))}var m=a.map((i||(i=d("I64"))).to_int32),n=a.map(i.to_int32).reduce(function(a,b){return a+b},0)<<3;return c("globalCryptoSubtle").importKey("raw",j,"HKDF",!1,["deriveBits"]).then(function(a){var b;return c("globalCryptoSubtle").deriveBits({hash:"SHA-256",info:f,name:"HKDF",salt:(b=g)!=null?b:new Uint8Array(10).buffer},a,n)}).then(function(a){a=new Uint8Array(a);var b=[],e=0;for(var f=0,g=m.length;f<g;++f){var h=e+m[f];b.push(a.slice(e,h).buffer);e=h}return d("RetUtil").getNullableRetResult(c("LSVec").ofArray(b))})["catch"](function(a){l.catching(a).mustfix("Failed to create derived keys");return d("RetUtil").getNullableRetResult()})};g["default"]=a}),98);
__d("LSDataTraceCheckPoint",[],(function(a,b,c,d,e,f){a=Object.freeze({CLIENT_DB_OUTBOUND:1,CLIENT_NETWORK_OUTBOUND:2,CLIENT_NETWORK_INBOUND:10,CLIENT_DB_INBOUND:11,CLIENT_EVALUATE_DASM:12,CLIENT_APP_STATE_CHANGE:13,CLIENT_CREATE_TASK:20,CLIENT_RECIPIENT_PRESENCE:21,CLIENT_EVALUATE_DASM_BEGIN:22,MQTT_PUBLISH:30,MQTT_PUBLISH_ACK:31,MQTT_DISCONNECTED:32,MQTT_CONNECTING:33,MQTT_CONNECTED:34,MQTT_CONNECTION_ACKED:35,TINCAN_RECEIVE_MESSAGE:36,TINCAN_RECEIVE_DECRYPTION_COMPLETE:37,TINCAN_RECEIVE_DECRYPTION_FAILED:38,TINCAN_RECEIVE_DR_QUEUED:39,TINCAN_RECEIVE_DR_SENT_TO_NETWORK:40,TINCAN_RECEIVE_DR_PUBLISH_TO_MQTT:41,TINCAN_RECEIVE_DRMQTT_PUBACK:42,TINCAN_RECEIVE_BOUNCE_TASK_QUEUED:43,TINCAN_RECEIVE_BOUNCE_TASK_SENT_TO_NETWORK:44,TINCAN_RECEIVE_BOUNCE_TASK_PUBLISH_TO_MQTT:45,RICH_MEDIA_DOWNLOAD_START:50,RICH_MEDIA_DOWNLOAD_END:51,RICH_MEDIA_DOWNLOAD_ERROR:52,RICH_MEDIA_UPLOAD_START:53,ARMADILLO_ACT:60,ARMADILLO_ACT_TASK_PICK:61,ARMADILLO_ACT_SERIALIZE:62,ARMADILLO_ACT_GROUP_SEND:63,ARMADILLO_ACT_SEND_FAILURE:64,ARMADILLO_ACT_MESSAGE_SEND:65,NETWORK_DISCONNECTED:70,NETWORK_CONNECTED:71,NETWORK_UNKNOWN:72,FLOW_CREAT:80,FLOW_END:81,FLOW_INTERRUPTED:82,FLOW_CONNECT_ID:83,FLOW_END_AND_FLUSH:84,FLOW_END_FOR_FAILURE:85,TRACE_CREATED:98,CLIENT_READY_TO_FLUSH:99,PENDING_DELTA:100,NO_PENDING_DELTA:101,INIT_SYNC:102,RESNAPSHOT:103,CATCH_UP:104,PERIODIC_SYNC:105,CATCH_UP_FROM_REVISION:106,RESNAPSHOT_CONTINUE:107,RESNAPSHOT_END:108,PERIODIC_SYNC_CONTINUE:109,PERIODIC_SYNC_END:110,CONTACT_SYNC_OPTIMISTIC:111,CONTACT_SYNC_FROM_OMNISTORE:112,CONTACT_SYNC_TAM_OPTIMISTC:113,CONTACT_SYNC_TAM_FROM_OMNISTORE:114,CONTACT_SYNC_TAM_ERROR:115,VERIFY_USER_FOR_SYNC:116,SNAPSHOT_START:117,SNAPSHOT_CONTINUE:118,SNAPSHOT_END:119,FETCH_DELTA:120,DELTA_SUMMARY:130,RECEIVE_DELIVERY_RECEIPT:200,TASK_DESERIALIZATION_ERROR:201,OPTIMISIC_MESSAGE_FAILED:202,SEND_SERVER_AUTHORITATIVE:203,THREAD_RANGE_QUERY_COMPLETE:204,THREAD_RANGE_QUERY_FAILURE:205,THREAD_POINT_QUERY_COMPLETE:206,SEND_SERVER_PARTIAL:207,MARK_AS_OPTIMISTIC_SENT:208,XMS_TRANSPORT_MESSAGE_SEND_START:300,XMS_TRANSPORT_MESSAGE_SEND_FAIL:301,SKIP_TASK_DISPATCH:900,ADVANCED_CRYPTO_MEM_ENCRYPT_TASK_START:1200,ADVANCED_CRYPTO_MEM_ENCRYPT_TASK_COMPLETE:1201,ADVANCED_CRYPTO_MEM_WA_PUBLISH:1202,ADVANCED_CRYPTO_MEM_PUBLISH_ACK:1203,ADVANCED_CRYPTO_MEM_SEND_TASK_COMPLETE:1204,ADVANCED_CRYPTO_MEM_WA_CONNECTION_DISCONNECTED:1205,ADVANCED_CRYPTO_MEM_WA_CONNECTION_CONNECTING:1206,ADVANCED_CRYPTO_MEM_WA_CONNECTION_CONNECTED:1207,ADVANCED_CRYPTO_MEM_FAILURE:1208,ADVANCED_CRYPTO_MEM_SEND_SUCCESS_WITH_RETRY:1209,ADVANCED_CRYPTO_MEM_DELIVERY_RECEIPT_RECEIVED:1210,ADVANCED_CRYPTO_REGISTRATION_CAT_DISK_FETCH_START:1211,ADVANCED_CRYPTO_REGISTRATION_CAT_DISK_FETCH_END:1212,ADVANCED_CRYPTO_REGISTRATION_CAT_NETWORK_FETCH_START:1213,ADVANCED_CRYPTO_REGISTRATION_CAT_NETWORK_FETCH_RETRYSTART:1214,ADVANCED_CRYPTO_REGISTRATION_CAT_NETWORK_FETCH_END:1215,ADVANCED_CRYPTO_REGISTRATION_WA_REQUEST_SEND_START:1216,ADVANCED_CRYPTO_REGISTRATION_WA_REQUEST_SEND_END:1217,ADVANCED_CRYPTO_REGISTRATION_WCR_REGISTER:1218,ADVANCED_CRYPTO_REGISTRATION_SAVE_WA_DEVICE_ID_ERROR:1219,ADVANCED_CRYPTO_MEM_DEVICE_FETCH_START:1220,ADVANCED_CRYPTO_MEM_DEVICE_FETCH_END:1221,ADVANCED_CRYPTO_MEM_ENCRYPTION_BEGIN:1222,ADVANCED_CRYPTO_MEM_ENCRYPTION_END:1223,ADVANCED_CRYPTO_MEM_ENCRYPTION_DEVICE_COUNT:1224,ADVANCED_CRYPTO_DUAL_SEND:1225,ADVANCED_CRYPTO_REGISTRATION_SERVER_SUCCESS:1226,ADVANCED_CRYPTO_REGISTRATION_RETRY_REGISTER:1227,ADVANCED_CRYPTO_REGISTRATION_CAT_NULL:1228,ADVANCED_CRYPTO_REGISTRATION_WCR_MANAGER_NULL:1229,ADVANCED_CRYPTO_REGISTRATION_RESPONSE_NULL:1230,ADVANCED_CRYPTO_REGISTRATION_SELF_NULL:1231,ADVANCED_CRYPTO_REGISTRATION_EMPTY_DEVICE_ID:1232,ADVANCED_CRYPTO_REGISTRATIONRETRY_REGISTER_FAILURE:1233,ADVANCED_CRYPTO_GROUP_DUAL_SEND:1234,RAVEN_IMAGE_MESSAGE:1235,RAVEN_VIDEO_MESSAGE:1236,ADVANCED_CRYPTO_REGISTRATION_RETRY_REGISTER_CAT:1237,ADVANCED_CRYPTO_REGISTRATION_RETRY_REGISTER_NETWORK:1238,ADVANCED_CRYPTO_CAT_DISK_FETCH_CAT_INVALID:1239,ADVANCED_CRYPTO_RECONNECT_GENERIC_ERROR:1240,ADVANCED_CRYPTO_RECONNECT_CAT_INVALID:1241,ADVANCED_CRYPTO_RECONNECT_CAT_EXPIRED:1242,ADVANCED_CRYPTO_CAT_MEMORY_FETCH_NULL:1243,ADVANCED_CRYPTO_FIRST_CONNECTION_START:1244,LABYRINTH_INITIALIZE_BACKUP_SPROC:1400,LABYRINTH_INITIALIZE_BACKUP_SUCCESS_SPROC:1401,LABYRINTH_INITIALIZE_BACKUP_FAILURE:1402,LABYRINTH_CREATE_BACKUP_MAILBOX_SPROC:1403,LABYRINTH_HANDLE_CREATE_BACKUP_MAILBOX_SUCCESS_SPROC:1404,LABYRINTH_OPEN_EPOCH_SPROC:1405,LABYRINTH_HANDLER_OPEN_EPOCH_SUCCESS_SPROC:1406,LABYRINTH_HANDLER_OPEN_EPOCH_FAILURE_SPROC:1407,LABYRINTH_CREATE_VIRTUAL_DEVICE_SPROC:1410,LABYRINTH_HANDLE_CREATE_VIRTUAL_DEVICE_SUCCESS_SPROC:1411,LABYRINTH_HANDLE_CREATE_VIRTUAL_DEVICE_FAILURE_SPROC:1412,LABYRINTH_ADD_DEVICE_SPROC:1413,LABYRINTH_ADD_DEVICE_FROM_VIRTUAL_SPROC:1414,LABYRINTH_HANDOLE_WRONG_RECOVERY_CODE_SPROC:1415,LABYRINTH_HANDLE_ADD_DEVICE_SUCCESS_SPROC:1416,LABYRINTH_HANDLE_ADD_DEVICE_FAILURE_SPROC:1417,LABYRINTH_INITIALIZE_RESTORE_SPROC:1418,LABYRINTH_DECRYPT_THREADS_SPROC:1419,LABYRINTH_REQUEST_MESSAGES_FROM_THREADS_SPROC:1420,LABYRINTH_REQUEST_MESSAGES_FROM_RANGE_QUERY_SPROC:1421,LABYRINTH_DECRYPT_MESSAGES_SPROC:1422,LABYRINTH_DELETE_BACKUP_ON_CLIENT_SPROC:1423,LABYRINTH_DELETE_BACKUPS_SPROC:1424,LABYRINTH_HANDLE_DELETE_MAILBOX_SPROC:1425,LABYRINTH_ISSUE_DELETE_BACKUP_TASK_SPROC:1426,LABYRINTH_BACKUP_UPLOAD_BEGIN:1427,LABYRINTH_BACKUP_UPLOAD_SUCCESS_SPROC:1428,LABYRINTH_CREATE_EXTRA_VIRTUAL_DEVICE_SPROC:1429,LABYRINTH_QR_INIT_ADD_DEVICE_SPROC:1430,LABYRINTH_QR_INIT_ADD_DEVICE_SUCCESS_SPROC:1431,LABYRINTH_QR_INIT_GET_SECRETS_SPROC:1433,LABYRINTH_QR_FINISH_ADD_PEER_DEVICE_SPROC:1434,LABYRINTH_SYNC_EPOCHS_STORED_PROCEDURE_SPROC:1436,LABYRINTH_SYNC_EPOCHS_SUCCESS_SPROC:1437,LABYRINTH_SYNC_EPOCHS_FORWARD_DERIVATION_END:1438,LABYRINTH_SYNC_EPOCHS_BACKWARD_DERIVATION_END:1439,LABYRINTH_SYNC_EPOCHS_OPEN_NEW_EPOCH:1440,LABYRINTH_PREPARE_OPEN_EPOCH_SPROC:1441,LABYRINTH_PREPARE_OPEN_EPOCH_SUCCESS_SPROC:1442,LABYRINTH_MEB_MANAGER_ADD_DEVICE:1443,LABYRINTH_BACKUP_UPLOAD_FAIL:1450,LABYRINTH_DECRYPT_SINGLE_MESSAGE_SPROC:1498,LABYRINTH_DECRYPT_SINGLE_MESSAGE_SUCCESS:1499,LABYRINTH_MEDIA_BACKUP_START:1455,LABYRINTH_MEDIA_BACKUP_SUCCESS:1456,LABYRINTH_MEDIA_BACKUP_FAILURE:1458,LABYRINTH_MEDIA_RESTORE_START:1459,LABYRINTH_MEDIA_RESTORE_SUCCESS:1460,LABYRINTH_MEDIA_RESTORE_FAILURE:1462,LABYRINTH_REMOVE_VIRTUAL_DEVICE_SPROC:1484,LABYRINTH_HANDLE_REMOVE_VIRTUAL_DEVICE_RESULT_SUCCESS:1485,LABYRINTH_HANDLE_REMOVE_VIRTUAL_DEVICE_RESULT_FAILURE:1486,LABYRINTH_REMOVE_VIRTUAL_DEVICE_BACKUP_NOT_FOUND:1493,LABYRINTH_REMOVE_VIRTUAL_DEVICE_WRITE_TASK:1494,LABYRINTH_BACKUP_UPLOAD_ENQUEUE_TASK_EXECUTER:1495,LABYRINTH_BACKUP_UPLOAD_ENQUEUE_SERIALIZER:1496,LABYRINTH_BACKUP_UPLOAD_SERIALIZE:1451,LABYRINTH_BACKUP_UPLOAD_SERIALIZE_SUCCEED:1463,LABYRINTH_BACKUP_UPLOAD_SERIALIZE_FAIL:1464,LABYRINTH_UPDATE_BACKUP_TABLE_SPROC:1467,LABYRINTH_FETCH_BACKUP_IDS_SPROC:1468,LABYRINTH_PROCESS_BACKUP_IDS_SPROC:1487,LABYRINTH_BACKUP_STATUS_NO_INFO:1488,LABYRINTH_BACKUP_STATUS_FETCH_ERROR:1489,LABYRINTH_BACKUP_STATUS_NOT_ONBOARDED:1490,LABYRINTH_BACKUP_STATUS_ONBOARDED:1491,LABYRINTH_BACKUP_STATUS_NO_BACKUPS_PRESENT:1492,LABYRINTH_OPT_OUT_OF_BACKUP_SPROC:1469,LABYRINTH_TRIGGER_THIRD_PARTY_ID_GENERATION_SPROC:1470,LABYRINTH_HANDLE_TRIGGER_THIRD_PARTY_ID_GENERATION_SPROC:1471,LABYRINTH_FETCH_BACKUPS_METADATA_SPROC:1478,LABYRINTH_HANDLE_BACKUPS_METADATA_RESULT_SPROC:1480,LABYRINTH_RESTORE_THREADS_SUCCESS:1481,LABYRINTH_RESTORE_MESSAGES_SUCCESS:1482,LABYRINTH_POINT_QUERY_MESSAGE_RESTORE:2511,LABYRINTH_RESTORE_MESSAGE_NEWER_DIRECTION:2514,LABYRINTH_RESTORE_SURROUNDING_MESSAGES:2515,LABYRINTH_BACKUP_UPLOAD_GET_ECHO_DOC:1497,LABYRINTH_MEBMANAGER_ADD_DEVICE_FETCH_BACKUP_STATE:1800,LABYRINTH_MEBMANAGER_ADD_DEVICE_FETCH_BACKUP_STATE_SUCCESS:1801,LABYRINTH_MEBMANAGER_ADD_DEVICE_FETCH_BACKUP_STATE_FAILURE:1802,LABYRINTH_MEBMANAGER_ADD_DEVICE_ADD_DEVICE_SPROC_CALLED:1803,LABYRINTH_MEBMANAGER_ADD_DEVICE_ADD_DEVICE_SPROC_RETURN_SUCCESS:1804,LABYRINTH_MEBMANAGER_ADD_DEVICE_ADD_DEVICE_SPROC_RETURN_FAILURE:1805,LABYRINTH_MEBMANAGER_ADD_DEVICE_NOTOFICATION_TRIGGERED:1806,LABYRINTH_MEBMANAGER_ADD_DEVICE_FETCH_ADD_DEVICE_STATE:1807,LABYRINTH_MEBMANAGER_ADD_DEVICE_FETCH_ADD_DEVICE_STATEFAILURE:1808,LABYRINTH_MEBMANAGER_ADD_DEVICE_INIT_RESTORE_SPROC_CALLED:1809,LABYRINTH_MEBMANAGER_ADD_DEVICE_INIT_RESTORE_SPROC_RETURN_SUCCESS:1810,LABYRINTH_MEBMANAGER_ADD_DEVICE_INIT_RESTORE_SPROC_RETURN_FAILURE:1811,LABYRINTH_MEBMANAGER_CREATE_EXTRA_VIRTUAL_DEVICE_SPROC_CALLED:1812,LABYRINTH_MEBMANAGER_CREATE_EXTRA_VIRTUAL_DEVICE_SPROC_RETURN_SUCCESS:1813,LABYRINTH_MEBMANAGER_CREATE_EXTRA_VIRTUAL_DEVICE_SPROC_RETURN_FAILURE:1814,LABYRINTH_MEBMANAGER_CREATE_EXTRA_VIRTUAL_DEVICE_NOTIFICATION_TRIGGERRED:1815,LABYRINTH_MEBMANAGER_CREATE_EXTRA_VIRTUAL_DEVICE_FETCH_RECOVERY_CODE_STATUS:1816,LABYRINTH_MEBMANAGER_CREATE_EXTRA_VIRTUAL_DEVICE_FETCH_RECOVERY_CODE_STATUS_FAILURE:1817,LABYRINTH_MEBMANAGER_CREATE_EXTRA_VIRTUAL_DEVICE_CREATE_EXTRA_VIRTUAL_DEVICE_SUCCESS:1818,LABYRINTH_MEBMANAGER_CREATE_EXTRA_VIRTUAL_DEVICE_CREATE_EXTRA_VIRTUAL_DEVICE_FAILURE:1819,LABYRINTH_MEBMANAGER_WRONG_RECOVERY_CODE:1823,LABYRINTH_ENCRYPT_MESSAGE_FAIL:1828,LABYRINTH_ENCRYPT_MESSAGE_GENERATED_PAYLOAD:1824,LABYRINTH_ENCODE_DOCUMENT:1820,LABYRINTH_ENCODE_DOCUMENT_FAIL:1821,LABYRINTH_ENCODE_DOCUMENT_SUCCESS:1822,LABYRINTH_MEDIA_ISSUE_ATTACHMENT_BACKUP_TASK_SPROC:1825,LABYRINTH_MEDIA_UPDATE_ATTACHMENT_BACKUP_ENT_SPROC:1826,LABYRINTH_MEDIA_HANDLE_ATTACHMENT_BACKUP_FAILURE_SPROC:1827,LABYRINTH_MEDIA_ISSUE_ATTACHMENT_RESTORE_TASK:1829,LABYRINTH_MEDIA_UPDATE_ATTACHMENT_CDN_URL:1830,LABYRINTH_MEDIA_HANDLE_ATTACHMENT_RESTORE_FAILURE:1831,LABYRINTH_MEDIA_ISSUE_BATCH_ATTACHMENT_BACKUP_TASK_SPROC:1873,LABYRINTH_UPLOAD_CANCEL:1850,LABYRINTH_DELETE_BACKUP_ON_CLIENT_STARTING_CANCEL:1851,LABYRINTH_DELETE_BACKUP_ON_CLIENT_DID_CANCEL:1852,LABYRINTH_DELETE_BACKUP_ON_CLIENT_FAILED_CANCEL:1853,LABYRINTH_BACKUP_RETRY_DELETE_MESSAGE_BACKUP_STATUS_ENTRY:1865,LABYRINTH_MESSAGE_INTEGRITY_CHECKER_BEGIN:1881,LABYRINTH_MESSAGE_INTEGRITY_CHECKER_GOT_MESSAGE_IDS_FROM_ACT:1882,LABYRINTH_MESSAGE_INTEGRITY_CHECKER_BEGIN_OCMF_OPE_OPERATIONS:1883,LABYRINTH_MESSAGE_INTEGRITY_CHECKER_END_OCMF_OPE_OPERATIONS:1884,LABYRINTH_MESSAGE_INTEGRITY_CHECKER_FETCH_MESSAGE_RANGE_ERROR:1885,LABYRINTH_MESSAGE_INTEGRITY_CHECKER_ISSUE_COMPARATOR_TASK:1886,LABYRINTH_CLEAR_BACKUP_TABLE_ON_CLIENT:1891,LABYRINTH_CLEAR_VIRTUAL_DEVICES_TABLE_ON_CLIENT:1892,LABYRINTH_CLEAR_BACKUP_METADATA_TABLE_ON_CLIENT:1893,SAP_VESTA_FETCH_VESTA_KEY_AND_SECRET_BEGIN:2400,LABYRINTH_PLUGIN_CALLING_GENERATE_RECOVERY_CODE:2401,SAP_FESTA_FETCH_KEY_AND_SECRET_COMPLETION:2402,SAP_VESTA_CALLING_VESTA_REGISTRATION:2403,SAP_VESTA_REGISTRATION_COMPLETION:2404,LABYRINTH_PLUGIN_CALLING_CREATE_EXTRA_VIRTUAL_DEVICE:2405,SAP_VESTA_NOTIFY_SECRET_STORED_COMPLETION:2406,SAP_VESTA_NOTIFY_CLIENT_ABOUT_VESTA_REGISTRATION:2407,SAP_VESTA_CALLING_VESTA_LOGIN:2411,SAP_VESTA_LOGIN_COMPLETION:2412,LABYRINTH_PLUGIN_CALLING_ADD_DEVICE:2413,LABYRINTH_PLUGIN_CALLING_INITIALIZE_BACKUP:2416,LABYRINTH_PIN_SETUP_BEGIN:2417,LABYRINTH_PIN_SETUP_SUCCESS:2418,LABYRINTH_PIN_SETUP_FAILURE:2419,LABYRINTH_PIN_RESTORE_BEGIN:2420,LABYRINTH_PIN_RESTORE_SUCCESS:2421,LABYRINTH_PIN_RESTORE_FAILURE:2422,LABYRINTH_PLUGIN_CALLING_INITIALIZE_RESTORE:2423,LABYRINTH_FETCH_THREAD_IDS_SPROC:2500,LABYRINTH_FETCH_THREAD_IDS_NATIVE_OP_SUCCESS:2501,LABYRINTH_FETCH_THREAD_IDS_NATIVE_OP_FAILURE:2502,LABYRINTH_REQUEST_MESSAGES_FROM_FETCH_THREAD_IDS_SPROC:2503,LABYRINTH_REQUEST_MESSAGES_FROM_INIT_RESTORE_SPROC:2506,LABYRINTH_POINT_QUERY_RESTORE_TASK_SPROC_START:2512,LABYRINTH_POINT_QUERY_RESTORE_TASK_SPROC_END:2513,LABYRINTH_VERSIONING_UPSERT_DEVICE_ENCRYPTION_VERSIONS_TO_CLIENT_SPROC_START:2800,LABYRINTH_VERSIONING_UPSERT_DEVICE_ENCRYPTION_VERSIONS_TO_CLIENT_SPROC_END:2801,LABYRINTH_VERSIONING_DELETE_AND_SYNC_DEVICE_ENCRYPTION_VERSION_DATA_SPROC:2802,LABYRINTH_VERSIONING_UPSERT_DEVICE_DELETE_DEVICE_ENCRYPTION_VERSION_DATA:2803,LABYRINTH_VERSIONING_SYNC_ENCRYPTION_VERSION_DATA_SPROC:2804,LABYRINTH_VERSIONING_VERSION_SUPPORTED:2805,LABYRINTH_VERSIONING_SYNC_UPDATE_VERSION_DATA:2806,LABYRINTH_VERSIONING_SYNC_NO_VERSION_DATA:2807,LABYRINTH_VERSIONING_VERSION_SELECTED:2808,LABYRINTH_VERSIONING_DELETE_AND_SYNC_DEVICE_DELETE_DEVICE_ENCRYPTION_VERSION_DATA:2809,LABYRINTH_VERSIONING_VERSION_NOT_SUPPORTED:2810,LABYRINTH_VERSIONING_UPSERT_DEVICE_INVALID_SIGNATURE:2811,LABYRINTH_PREPARE_OPEN_EPOCH_SPROC_ISSUE_REQUEST_ASSOC_DEVICES:2821,LABYRINTH_PREPARE_OPEN_EPOCH_FAILURE_NO_BACKUP:2822,LABYRINTH_PREPARE_OPEN_EPOCH_FAILURE_FLOW_ALREADY_IN_PROGRES:2823,LABYRINTH_DERIVE_AND_STORE_EPOCHS_SPROC:2824,LABYRINTH_DERIVE_AND_STORE_EPOCHS_SPROC_NUM_EDGES:2825,LABYRINTH_DERIVE_AND_STORE_EPOCHS_SPROC_PROCESS_EDGE_FROM:2826,LABYRINTH_DERIVE_AND_STORE_EPOCHS_SPROC_PROCESS_EDGE_TO:2827,LABYRINTH_DERIVE_AND_STORE_EPOCHS_SPROC_FORWARD_EDGE_SOURCE:2828,LABYRINTH_DERIVE_AND_STORE_EPOCHS_SPROC_FORWARD_SOURCE_EPOCH_LOADED:2829,LABYRINTH_DERIVE_AND_STORE_EPOCHS_SPROC_DERIVE_CHAINING_KEY_PSK:2830,LABYRINTH_DERIVE_AND_STORE_EPOCHS_SPROC_DECRYPT_FORWARD_EDGE_ENTROPY:2831,LABYRINTH_DERIVE_AND_STORE_EPOCHS_SPROC_FORWARD_EDGE_DECRYPTION_SUCCESS:2832,LABYRINTH_DERIVE_AND_STORE_EPOCHS_SPROC_FORWARD_EDGE_DECRYPTION_FAIL:2833,LABYRINTH_DERIVE_AND_STORE_EPOCHS_SPROC_FORWARD_FAIL_TO_LOAD_SOURCE_EPOCH:2834,LABYRINTH_DERIVE_AND_STORE_EPOCHS_SPROC_BACKWARD_EDGE_SOURCE:2835,LABYRINTH_DERIVE_AND_STORE_EPOCHS_SPROC_BACKWARD_SOURCE_EPOCH_LOADED:2836,LABYRINTH_DERIVE_AND_STORE_EPOCHS_SPROC_DECRYPT_BACKWARD_EDGE:2837,LABYRINTH_DERIVE_AND_STORE_EPOCHS_SPROC_BACKWARD_EDGE_DECRYPTION_SUCCESS:2838,LABYRINTH_DERIVE_AND_STORE_EPOCHS_SPROC_BACKWARD_EDGE_DERIVATION_FAIL:2839,LABYRINTH_DERIVE_AND_STORE_EPOCHS_SPROC_BACKWARD_FAIL_TO_LOAD_SOURCE_EPOCH:2840,LABYRINTH_DERIVE_AND_STORE_EPOCHS_SPROC_FAILURE:2841,LABYRINTH_GET_OPEN_EPOCH_KEYS_SPROC:2842,LABYRINTH_GET_OPEN_EPOCH_KEYS_NO_EPOCHS_ON_CLIENT:2843,LABYRINTH_GET_OPEN_EPOCH_KEYS_GET_ALL_EPOCH_ANON_IDS:2844,LABYRINTH_GET_OPEN_EPOCH_KEYS_NUM_ANON_IDS:2845,LABYRINTH_GET_OPEN_EPOCHS_KEYS_EPOCH_ANON_ID_LIST_EMPTY:2846,LABYRINTH_GET_OPEN_EPOCH_KEYS_GET_KEYS_FOR_ANON_ID:2847,LABYRINTH_GET_OPEN_EPOCH_KEYS_ANON_ID_NOT_FOUND:2848,LABYRINTH_SYNC_EPOCHS_SPROC_DOWNLOAD_EPOCHS_V2_WRITE_TASK:2849,LABYRINTH_OPEN_EPOCH_SPROC_OPEN_INITIAL_EPOCH:2850,LABYRINTH_OPEN_EPOCH_SPROC_OPEN_EPOCH_WITH_LAST_EPOCH_METADATA:2851,LABYRINTH_OPEN_EPOCH_SPROC_OPEN_AFTER_FIRST_EPOCH:2852,LABYRINTH_OPEN_EPOCH_SPROC_FAILURE_LAST_EPOCH_NOT_FOUND:2853,LABYRINTH_OPEN_EPOCH_SPROC_ERROR:2854,LABYRINTH_PREPARE_OPEN_EPOCH_SPROC_CLOSE_LAST_EPOCH:2855,LABYRINTH_PREPARE_OPEN_EPOCH_SPROC_DERIVE_AND_STORE_EPOCH:2856,LABYRINTH_HANDLER_OPEN_EPOCH_SUCCESS_SPROC_DERIVE_AND_STORE:2857,LABYRINTH_HANDLER_OPEN_EPOCH_SUCCESS_SPROC_UPDATE_AUTHORITY:2858,LABYRINTH_HANDLER_OPEN_EPOCH_SUCCESS_SPROC_UPDATE_EPOCH_ID:2859,LABYRINTH_INCLUDE_FALLBACK_KEY_DURING_ENCRYPTION:2860,LABYRINTH_DERIVE_FALLBACK_KEY:2861,LABYRINTH_FAILED_TO_INCLUDE_FALLBACK_KEY:2862,LABYRINTH_GET_OPEN_EPOCH_KEYS_ANON_ID_VALUE:2863,LABYRINTH_GET_OPEN_EPOCH_KEYS_ANON_ID_NULL_VALUE:2864,LABYRINTH_MESSAGE_RESTORE_EPOCH_ANON_ID_NULL:2865,LABYRINTH_WEB_EPOCH_ROTATION_ENABLED:2866,LABYRINTH_WEB_EPOCH_ROTATION_DISABLED:2867,LABYRINTH_MOBILE_EPOCH_ROTATION_ENABLED:2868,LABYRINTH_MOBILE_EPOCH_ROTATION_DISABLED:2869,LABYRINTH_DECRYPT_MESSAGE_SPROC_SINGLE_EPOCH_KEY:2870,LABYRINTH_DECRYPT_MESSAGE_SPROC_EPOCH_NOT_FOUND_ERROR:2871,LABYRINTH_DECRYPT_MESSAGE_SPROC_MULTIPLE_EPOCHS_ERROR:2872,LABYRINTH_WEB_ECHO_MESSAGE_RESTORE_BEGIN:3600,LABYRINTH_WEB_ISSUE_RESTORE_JOB_DONE:3601,LABYRINTH_WEB_INSERT_TO_BAKCUP_MESSAGE_TABLE_DONE:3602,LABYRINTH_WEB_RESTORE_WITH_SERIALIZER_START:3603,LABYRINTH_WEB_ISSUE_RESTORE_JOB_STARTED:3604,LABYRINTH_WEB_INSERT_TO_RESTORE_PAYLOAD_CONTEXT_TABLE_DONE:3605,LABYRINTH_WEB_XMA_RESTORE_STARTED:3606,LABYRINTH_WEB_XMA_RESTORE_ENDED:3607,LABYRINTH_WEB_XMA_RESTORE_MEDIAID_NULL:3608,LABYRINTH_WEB_XMA_RESTORE_DBXMA_NULL:3609,LABYRINTH_WEB_ECHO_MESSAGE_UPLOAD_INVALID_REQUEST:3700,LABYRINTH_WEB_ECHO_MESSAGE_UPLOAD_BEGIN:3701,LABYRINTH_WEB_ECHO_MESSAGE_UPLOAD_FAILURE:3702,LABYRINTH_WEB_UPLOAD_THREAD_NOT_PRESENT:3703,LABYRINTH_WEB_UPLOAD_THREAD_PRESENT:3704,LABYRINTH_WEB_UPLOAD_GET_SENDER_INFO_UNSUCCESSFUL:3705,LABYRINTH_WEB_UPLOAD_GET_SENDER_INFO_SUCCESSFUL:3706,LABYRINTH_WEB_UPLOAD_CONTACT_NAME_NULL:3707,LABYRINTH_WEB_UPLOAD_CONTACT_NAME_NOT_NULL:3708,LABYRINTH_WEB_UPLOAD_GET_RECEIPT_STATUS_LIST_SUCCESSFUL:3709,LABYRINTH_WEB_UPLOAD_GET_SENDER_DISPLAY_NAME_FOR_QUOTED_MSG_NULL:3710,LABYRINTH_WEB_UPLOAD_GET_SENDER_DISPLAY_NAME_FOR_QUOTED_MSG_NOT_NULL:3711,LABYRINTH_WEB_UPLOAD_XMA_DATA_UPLOAD_SUCCESSFUL:3712,LABYRINTH_WEB_UPLOAD_XMA_DATA_UPLOAD_UNSUCCESSFUL:3713,LABYRINTH_WEB_UPLOAD_INVALID_MSG_TYPE_FOR_MEDIA_TYPE:3714,LABYRINTH_WEB_UPLOAD_IS_MEDIA_MSG_TRUE:3715,LABYRINTH_WEB_UPLOAD_IS_MEDIA_MSG_FALSE:3716,LABYRINTH_WEB_UPLOAD_UNSUPPORTED_MEDIA_TYPE:3717,LABYRINTH_WEB_UPLOAD_NO_MEDIA_ID_FOUND_IN_MEDIA_MSG:3718,LABYRINTH_WEB_UPLOAD_NO_MEDIA_ENTRY_FOR_MEDIA_ID:3719,LABYRINTH_WEB_UPLOAD_GET_REACTION_DATA_SUCCESSFUL:3720,LABYRINTH_WEB_UPLOAD_GET_QUOTE_MSG_SUCCESSFUL:3721,LABYRINTH_WEB_UPLOAD_GET_QUOTE_SENDER_NAME_SUCCESSFUL:3722,LABYRINTH_WEB_UPLOAD_FB_ID_NULL_FOR_XMA_MSG:3723,LABYRINTH_WEB_UPLOAD_GET_XMA_DATA_SUCCESSFUL:3724,LABYRINTH_WEB_UPLOAD_NO_XMA_DB_ENTRY_FOR_EXTERNAL_ID:3725,LABYRINTH_WEB_UPLOAD_ECHO_MESSAGE_CREATION_SUCCESSFUL:3726,LABYRINTH_WEB_UPLOAD_MISSING_MEDIA_DATA_FOR_MEDIA_MSG:3727,LABYRINTH_WEB_UPLOAD_INVOKE_MESSAGE_UPLOAD_SPROC:3728,LABYRINTH_WEB_UPLOAD_ISSUE_MESSAGE_UPLOAD_UI_EVENT:3729,LABYRINTH_WEB_UPLOAD_USER_DEVICE_NOT_ENROLLED:3730,LABYRINTH_WEB_GET_BACKUP_TENANCY:3731,LABYRINTH_WEB_UPLOAD_ERROR_OCCURRED_ON_ISSUE_MESSAGE_UPLOAD_UI_EVENT:3739,LABYRINTH_WEB_UPLOAD_XMA_NOT_FOUND_IN_IDB:3740,LABYRINTH_WEB_UPLOAD_MEDIA_NOT_FOUND_FOR_XMA_IN_IDB:3741,LABYRINTH_WEB_UPLOAD_INVALID_ECHO_MESSAGE_SERIALIZATION_RESPONSE:3742,LABYRINTH_WEB_UPLOAD_DUPLICATE_REQUEST:3743,LABYRINTH_WEB_RETROACTIVE_BACKUPS_START_UPLOAD_MSG:3744,LABYRINTH_WEB_RETROACTIVE_BACKUPS_START_UPLOAD_MEDIA:3745,LABYRINTH_WEB_RETROACTIVE_BACKUPS_UPLOAD_MSG_ERROR:3746,LABYRINTH_WEB_RETROACTIVE_BACKUPS_UPLOAD_MEDIA_ERROR:3747,LABYRINTH_WEB_UPLOAD_XMA_DATA_IS_NULL:3748,LABYRINTH_WEB_UPLOAD_REPLIED_MESSAGE_NOT_IN_DB:3749,LABYRINTH_WEB_UPLOAD_REPLIED_MESSAGE_IN_DB:3750,MQTT_STATE_DISCONNECTED_EVENT:10000001,MQTT_STATE_CONNECTED_EVENT:10000002,APP_STATEBACKGROUND:10000003,APP_STATEFOREGROUND:10000004,MQTT_STATE_CONNECTING_EVENT:10000005,GLOBAL_CONNECTIVITY_BANNER_DISPLAY:10000006,GLOBAL_CONNECTIVITY_BANNER_VANISH:10000007,SWITCH_ACCOUNT_EVENT:10000008,ADVANCED_CRYPTO_MEM_WA_CONNECTION_DISCONNECTED_EVENT:10001205,ADVANCED_CRYPTO_MEM_WA_CONNECTION_CONNECTING_EVENT:10001206,ADVANCED_CRYPTO_MEM_WA_CONNECTION_CONNECTED_EVENT:10001207});f["default"]=a}),66);
__d("ReQLTable",["asyncToGeneratorRuntime"],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){return g.apply(this,arguments)}function g(){g=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){var d=(yield a.get.apply(a,b));c=c(d);yield a.upsert(b,c)});return g.apply(this,arguments)}f.update=a}),66);
__d("updateAndFlushLSDataTrace",["I64","LSAppendDataTraceAddonStoredProcedure","LSDataTraceCheckPoint","LSFactory","LSIntEnum","Promise","ReQLTable","requireDeferred","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=c("requireDeferred")("LSDataTraceFlush").__setRef("updateAndFlushLSDataTrace");function a(a,e){return e==null?(j||(j=b("Promise"))).resolve():c("LSAppendDataTraceAddonStoredProcedure")(c("LSFactory")(a),{checkPointId:(h||(h=d("LSIntEnum"))).ofNumber(c("LSDataTraceCheckPoint").CLIENT_READY_TO_FLUSH),dataTraceId:e,syncChannel:(i||(i=d("I64"))).neg_one}).then(function(){return d("ReQLTable").update(a.table("data_trace_meta"),[e],function(a){if(a!=null)return{contextOne:a.contextOne,contextThree:a.contextThree,contextTwo:a.contextTwo,foregroundTimestampMs:a.foregroundTimestampMs,initTimestampMs:a.initTimestampMs,predefinedId:a.predefinedId,shouldFlush:!0,traceId:a.traceId,traceType:a.traceType};else throw c("unrecoverableViolation")("Data trace is missing "+e,"messenger_web_product")}).then(function(){return k.load().then(function(b){return b.flush(a,e)})})})}g["default"]=a}),98);
__d("LSFlushDataTrace.nop",["MetaConfig","Promise","ReQL","updateAndFlushLSDataTrace"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(a,e,f){return!c("MetaConfig")._("62")?(h||(h=b("Promise"))).resolve():d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.table("data_trace_meta")).getKeyRange(f)).then(function(d){if(d!=null)return c("updateAndFlushLSDataTrace")(a,f);else return(h||(h=b("Promise"))).resolve()})};g["default"]=a}),98);
__d("LSGetBlobFromInt64BE.bs",["I64","LSResult","Promise"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,e,f){var g=new Uint8Array(8);g.reduceRight(function(a,b,c){b=(i||(i=d("I64"))).to_int32(i.mod_(a,i.of_string("256")));g[c]=b;return i.div(a,i.of_string("256"))},f);return(h||(h=b("Promise"))).resolve(c("LSResult")(g.buffer))}g.call=a}),98);
__d("LSGetBlobFromInt64BE.nop",["LSGetBlobFromInt64BE.bs"],(function(a,b,c,d,e,f,g){"use strict";a=function(a,b,c){return d("LSGetBlobFromInt64BE.bs").call(a,b,c)};g["default"]=a}),98);
__d("LSTextEncoder",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){return a.encode(b).buffer}f.encodeToArrayBuffer=a}),66);
__d("LSGetBlobFromString.bs",["CryptoLogger","LSResult","LSTextEncoder","Promise"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,e,f){a=new TextEncoder();try{return(h||(h=b("Promise"))).resolve(c("LSResult")(d("LSTextEncoder").encodeToArrayBuffer(a,f)))}catch(f){e=d("CryptoLogger").CryptoLogger("get_blob_from_string");e.catching(f).mustfix(f.message?f.message:"Error in get blob from string.");return(h||(h=b("Promise"))).resolve(c("LSResult")(d("LSTextEncoder").encodeToArrayBuffer(a,"")))}}g.call=a}),98);
__d("LSGetBlobFromString.nop",["LSGetBlobFromString.bs"],(function(a,b,c,d,e,f,g){"use strict";a=function(a,b,c){return d("LSGetBlobFromString.bs").call(a,b,c)};g["default"]=a}),98);
__d("LSHmac_v2.nop",["CryptoLogger","LSResult","Promise","globalCryptoSubtle"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(a,e,f,g){return c("globalCryptoSubtle").importKey("raw",f,{hash:"SHA-256",name:"HMAC"},!1,["sign"]).then(function(a){return c("globalCryptoSubtle").sign("HMAC",a,g)}).then(function(a){return(h||(h=b("Promise"))).resolve(c("LSResult")(a))})["catch"](function(a){d("CryptoLogger").captureError(d("CryptoLogger").CryptoLogger("hmac_v2"),a).mustfix("Crypto signing failed");throw a})};g["default"]=a}),98);
__d("MebClientLogsFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("3226");b=d("FalcoLoggerInternal").create("meb_client_logs",a);e=b;g["default"]=e}),98);
__d("LSLogMebClientEvent.nop",["I64","LSVec","MebClientLogsFalcoEvent","Promise"],(function(a,b,c,d,e,f,g){"use strict";var h,i;a=function(a,e,f,g,j,k){c("MebClientLogsFalcoEvent").log(function(){return{calling_class:f,device_family_id:void 0,device_registration_id:void 0,log_level:(i||(i=d("I64"))).to_string(k),msg:g,trace_ids:c("LSVec").toArray(j)}});return(h||(h=b("Promise"))).resolve()};g["default"]=a}),98);
__d("LSOcmfClientMap.nop",["CryptoLogger","LSResult","Promise","globalCryptoSubtle","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i=c("requireDeferred")("ristretto255").__setRef("LSOcmfClientMap.nop");a=function(a,e,f,g){return(h||(h=b("Promise"))).all([c("globalCryptoSubtle").digest("SHA-512",g),i.load()]).then(function(a){var b=a[0];a=a[1];b=a.fromHash(new Uint8Array(b));a=a.scalarMult(new Uint8Array(f),b);return c("LSResult")(a.buffer)})["catch"](function(a){d("CryptoLogger").captureError(d("CryptoLogger").CryptoLogger("ocmf_client_map"),a).mustfix("Failed OcmfClientMap.");throw a})};g["default"]=a}),98);
__d("LSCryptoUtils",["FBLogger"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return new Uint8Array(a)}function h(a){var b=new TextEncoder();return b.encode(a)}function i(a){var b=new TextDecoder();return b.decode(a)}function b(a){return i(new Uint8Array(a))}function d(a){return h(a).buffer}function e(a,b){var d=a.byteLength,e=b.byteLength;if(d!==e)throw c("FBLogger")("mpf_web_foundations").mustfixThrow("Mismatched lengths for modAdd, %d != %d",d,e);var f=new Uint8Array(d);new Uint8Array(d).reduceRight(function(c,d,e){d=a[e];var g=b[e];d=d+g+c;g=d>255?[d-256,1]:[d,0];f[e]=g[0];return g[1]},0);return f}g.bufToUint8=a;g.strToUint8=h;g.uint8ToStr=i;g.bufToStr=b;g.strToBuf=d;g.modAddBytes=e}),98);
__d("UInt8Array",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=a.length;if(!(b>0&&b%2===0&&/^[\da-f]+$/gi.test(a)))return;var c=[];for(var d=0,b=b/2|0;d<b;++d){var e=parseInt(a.substring(d<<1,(d<<1)+2|0),16);c.push(e)}return new Uint8Array(c)}function b(a){return window.crypto.getRandomValues(new Uint8Array(a)).buffer}function c(a){a=a.filter(function(a){return a.byteLength!==0});var b=a.reduce(function(a,b){return a+b.byteLength|0},0),c=new Uint8Array(b);a.reduce(function(a,b){c.set(b,a);return a+b.byteLength|0},0);return c}f.fromHexString=a;f.getBufferWithRandomValuesFromLength=b;f.concatBytes=c}),66);
__d("OrderPreservingEncryption",["FBLogger","LSCryptoUtils","Promise","UInt8Array","globalCryptoSubtle"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(){return window.crypto.getRandomValues(new Uint8Array(32)).buffer}function i(a){var b=a.length;return b%2!==0?"0"+a:a}function j(a){a=BigInt(a);var b=i(a.toString(16));a=b.length;a=a/2;var c=[];for(var d=0;d<a;++d)c.push(d<<1);return new Uint8Array(c.map(function(a){var c=a+2;return b.slice(a,c)}).map(function(a){return parseInt(a,16)}))}function k(a){a=a.map(function(a){return a._0});return{_0:d("UInt8Array").concatBytes(a)}}function l(a){return"OPE key has length "+String(a)+", expected  "+String(32)}function m(a,b,e){return c("globalCryptoSubtle").importKey("raw",a.buffer,"HKDF",!1,["deriveKey","deriveBits"]).then(function(a){var d=new ArrayBuffer(0);return c("globalCryptoSubtle").deriveBits({hash:"SHA-256",info:b.buffer,name:"HKDF",salt:d},a,e<<3)}).then(function(a){return{_0:d("LSCryptoUtils").bufToUint8(a)}})}function n(a,b){return{_0:d("LSCryptoUtils").modAddBytes(a._0,b)}}function o(a,e,f,g){var i=f.byteLength;if(i!==32)throw c("FBLogger")("labyrinth_web").mustfixThrow(l(i));var j=g.byteLength,o=function(a,b){var c=new Uint8Array(1+j),d=new Uint8Array(j-b).fill(0);c.set([b]);c.set(a.subarray(0,b),1);c.set(d,b+1);return c};if(j>=255)throw c("FBLogger")("labyrinth_web").mustfixThrow("Input is too large");return(h||(h=b("Promise"))).all(Array.from(g).map(function(b,c){c=o(g,c);var e=new Uint8Array(a);e[a-1]=b;b=d("LSCryptoUtils").bufToUint8(f);return m(b,c,a).then(function(a){return n(a,e)})})).then(function(a){return d("UInt8Array").concatBytes([new Uint8Array([e]),k(a)._0])})}function e(a,b,c,d){d=j(d);return o(a,b,c,d)}g.keyGen=a;g.intStringToBEBytes=j;g.buildKeyLengthErrorMsg=l;g.encryptBigEndianBytes=o;g.encryptIntString=e}),98);
__d("LSOpeEncrypt.bs",["CryptoLogger","I64","LSResult","OrderPreservingEncryption","Promise"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,e,f,g,j){var k=d("CryptoLogger").CryptoLogger("ope_encrypt");return d("OrderPreservingEncryption").encryptBigEndianBytes((i||(i=d("I64"))).to_int32(j),1,f,new Uint8Array(g)).then(function(a){return(h||(h=b("Promise"))).resolve(c("LSResult")(a.buffer))})["catch"](function(a){d("CryptoLogger").captureError(k,a).mustfix("OpeEncrypt_impl failed");throw a})}g.call=a}),98);
__d("LSOpeEncrypt.nop",["LSOpeEncrypt.bs"],(function(a,b,c,d,e,f,g){"use strict";a=function(a,b,c,e,f){return d("LSOpeEncrypt.bs").call(a,b,c,e,f)};g["default"]=a}),98);
__d("LSTruncateSortKey.nop",["CryptoLogger","LSResult","Promise"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("CryptoLogger").CryptoLogger("truncate_sort_key");a=function(a,d,e){if(e.byteLength!==8)throw i.mustfixThrow("Bad length on sort key for truncation");a=new Uint8Array(e);d=a.subarray(0,2);if(d.some(function(a){return a!==0}))throw i.mustfixThrow("Bad prefix on sort key for truncation");return(h||(h=b("Promise"))).resolve(c("LSResult")(e.slice(2)))};g["default"]=a}),98);
__d("LSPlatformSyncSystemDeferred",["requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("LSPlatformSyncSystem").__setRef("LSPlatformSyncSystemDeferred");function a(){return h.load()}g["default"]=a}),98);
__d("LSPlatformTaskSystemTransportDeferred",["requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("LSPlatformTaskSystemTransport").__setRef("LSPlatformTaskSystemTransportDeferred");function a(){return h.load()}g["default"]=a}),98);
__d("LSPlatformClientDeferred",["requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";a=c("requireDeferred")("LSPlatformClient").__setRef("LSPlatformClientDeferred");b=a;g["default"]=b}),98);/*FB_PKG_DELIM*/
/**
 * License: https://www.facebook.com/legal/license/t3hOLs8wlXy/
 */
__d("base64-js-1.3.0",[],(function(a,b,c,d,e,f){"use strict";var g={},h={exports:g};function i(){g.byteLength=e;g.toByteArray=h;g.fromByteArray=k;var a=[],b=[],c=typeof Uint8Array!=="undefined"?Uint8Array:Array;e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(h=0,k=e.length;h<k;++h)a[h]=e[h],b[e.charCodeAt(h)]=h;b["-".charCodeAt(0)]=62;b["_".charCodeAt(0)]=63;function d(a){var b=a.length;if(b%4>0)throw new Error("Invalid string. Length must be a multiple of 4");a=a.indexOf("=");a===-1&&(a=b);b=a===b?0:4-a%4;return[a,b]}function e(a){a=d(a);var b=a[0];a=a[1];return(b+a)*3/4-a}function f(a,b,c){return(b+c)*3/4-c}function h(a){var e,g=d(a),h=g[0];g=g[1];var i=new c(f(a,h,g)),j=0;h=g>0?h-4:h;for(var k=0;k<h;k+=4)e=b[a.charCodeAt(k)]<<18|b[a.charCodeAt(k+1)]<<12|b[a.charCodeAt(k+2)]<<6|b[a.charCodeAt(k+3)],i[j++]=e>>16&255,i[j++]=e>>8&255,i[j++]=e&255;g===2&&(e=b[a.charCodeAt(k)]<<2|b[a.charCodeAt(k+1)]>>4,i[j++]=e&255);g===1&&(e=b[a.charCodeAt(k)]<<10|b[a.charCodeAt(k+1)]<<4|b[a.charCodeAt(k+2)]>>2,i[j++]=e>>8&255,i[j++]=e&255);return i}function i(b){return a[b>>18&63]+a[b>>12&63]+a[b>>6&63]+a[b&63]}function j(a,b,c){var d,e=[];for(b=b;b<c;b+=3)d=(a[b]<<16&16711680)+(a[b+1]<<8&65280)+(a[b+2]&255),e.push(i(d));return e.join("")}function k(b){var c=b.length,d=c%3,e=[],f=16383;for(var g=0,h=c-d;g<h;g+=f)e.push(j(b,g,g+f>h?h:g+f));d===1?(g=b[c-1],e.push(a[g>>2]+a[g<<4&63]+"==")):d===2&&(g=(b[c-2]<<8)+b[c-1],e.push(a[g>>10]+a[g>>4&63]+a[g<<2&63]+"="));return e.join("")}}var j=!1;function k(){j||(j=!0,i());return h.exports}function a(a){switch(a){case void 0:return k()}}e.exports=a}),null);
__d("base64-js",["base64-js-1.3.0"],(function(a,b,c,d,e,f){e.exports=b("base64-js-1.3.0")()}),null);
/**
 * License: https://www.facebook.com/legal/license/t3hOLs8wlXy/
 */
__d("javascript-blowfish-1.0.5",[],(function(a,b,c,d,e,f){"use strict";b={};var g={exports:b};function h(){var a=function(b,c){this.key=b,(c==="ecb"||c==="cbc")&&(this.mode=c),this.sBox0=a.sBox0.slice(),this.sBox1=a.sBox1.slice(),this.sBox2=a.sBox2.slice(),this.sBox3=a.sBox3.slice(),this.pArray=a.pArray.slice(),this.generateSubkeys(b)};a.prototype={sBox0:null,sBox1:null,sBox2:null,sBox3:null,pArray:null,key:null,mode:"ecb",iv:"abc12345",keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encrypt:function(a,b){if(this.mode==="ecb")return this.encryptECB(a);if(this.mode==="cbc")return this.encryptCBC(a,b);throw new Error("\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u044b\u0439 \u0440\u0435\u0436\u0438\u043c \u0448\u0438\u0444\u0440\u043e\u0432\u0430\u043d\u0438\u044f.")},decrypt:function(a,b){if(this.mode==="ecb")return this.decryptECB(a);if(this.mode==="cbc")return this.decryptCBC(a,b);throw new Error("\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u044b\u0439 \u0440\u0435\u0436\u0438\u043c \u0448\u0438\u0444\u0440\u043e\u0432\u0430\u043d\u0438\u044f.")},encryptECB:function(a){a=this.utf8Decode(a);var b=Math.ceil(a.length/8),c="";for(var d=0;d<b;d++){var e=a.substr(d*8,8);if(e.length<8){var f=8-e.length;while(0<f--)e+="\0"}var g;f=this.split64by32(e);e=f[0];g=f[1];f=this.encipher(e,g);e=f[0];g=f[1];c+=this.num2block32(e)+this.num2block32(g)}return c},encryptCBC:function(a,b){a=this.utf8Decode(a);var c=Math.ceil(a.length/8),d;b=this.split64by32(b);d=b[0];b=b[1];var e="";for(var f=0;f<c;f++){var g=a.substr(f*8,8);if(g.length<8){var h=8-g.length;while(0<h--)g+="\0"}var i;h=this.split64by32(g);g=h[0];i=h[1];g=this.xor(g,d);i=this.xor(i,b);h=this.encipher(g,i);g=h[0];i=h[1];d=g;b=i;e+=this.num2block32(g)+this.num2block32(i)}return e},decryptECB:function(a){var b=Math.ceil(a.length/8),c="";for(var d=0;d<b;d++){var e=a.substr(d*8,8);if(e.length<8)throw new Error("\u0417\u0430\u0448\u0438\u0444\u0440\u043e\u0432\u0430\u043d\u043d\u0430\u044f \u0441\u0442\u0440\u043e\u043a\u0430 \u043f\u043e\u0432\u0440\u0435\u0436\u0434\u0435\u043d\u0430: \u0434\u043b\u0438\u043d\u043d\u0430 \u0437\u0430\u0448\u0438\u0444\u0440\u043e\u0432\u0430\u043d\u043d\u043e\u0439 \u0441\u0442\u0440\u043e\u043a\u0438 \u0434\u043e\u043b\u0436\u043d\u0430 \u0431\u044b\u0442\u044c \u043a\u0440\u0430\u0442\u043d\u0430 8 \u0431\u0430\u044b\u0439\u0442\u0430\u043c.");var f,g;e=this.split64by32(e);f=e[0];g=e[1];e=this.decipher(f,g);f=e[0];g=e[1];c+=this.num2block32(f)+this.num2block32(g)}c=this.utf8Encode(c);return c},decryptCBC:function(a,b){var c=Math.ceil(a.length/8),d,e,f;b=this.split64by32(b);d=b[0];b=b[1];var g="";for(var h=0;h<c;h++){var i=a.substr(h*8,8);if(i.length<8)throw new Error("\u0417\u0430\u0448\u0438\u0444\u0440\u043e\u0432\u0430\u043d\u043d\u0430\u044f \u0441\u0442\u0440\u043e\u043a\u0430 \u043f\u043e\u0432\u0440\u0435\u0436\u0434\u0435\u043d\u0430: \u0434\u043b\u0438\u043d\u043d\u0430 \u0437\u0430\u0448\u0438\u0444\u0440\u043e\u0432\u0430\u043d\u043d\u043e\u0439 \u0441\u0442\u0440\u043e\u043a\u0438 \u0434\u043e\u043b\u0436\u043d\u0430 \u0431\u044b\u0442\u044c \u043a\u0440\u0430\u0442\u043d\u0430 8 \u0431\u0430\u0439\u0442\u0430\u043c.");var j,k;i=this.split64by32(i);j=i[0];k=i[1];e=j;f=k;i=this.decipher(j,k);j=i[0];k=i[1];j=this.xor(j,d);k=this.xor(k,b);d=e;b=f;g+=this.num2block32(j)+this.num2block32(k)}g=this.utf8Encode(g);return g},F:function(a){var b=a>>>24,c=a<<8>>>24,d=a<<16>>>24;a=a<<24>>>24;b=this.addMod32(this.sBox0[b],this.sBox1[c]);b=this.xor(b,this.sBox2[d]);b=this.addMod32(b,this.sBox3[a]);return b},encipher:function(a,b){var c;for(var d=0;d<16;d++)a=this.xor(a,this.pArray[d]),b=this.xor(this.F(a),b),c=a,a=b,b=c;c=a;a=b;b=c;b=this.xor(b,this.pArray[16]);a=this.xor(a,this.pArray[17]);return[a,b]},decipher:function(a,b){var c;a=this.xor(a,this.pArray[17]);b=this.xor(b,this.pArray[16]);c=a;a=b;b=c;for(var d=15;d>=0;d--)c=a,a=b,b=c,b=this.xor(this.F(a),b),a=this.xor(a,this.pArray[d]);return[a,b]},generateSubkeys:function(a){var b=0,c=0,d,e;for(d=0;d<18;d++){for(e=4;e>0;e--)b=this.fixNegative(b<<8|a.charCodeAt(c)),c=(c+1)%a.length;this.pArray[d]=this.xor(this.pArray[d],b);b=0}e=[0,0];for(d=0;d<18;d+=2)e=this.encipher(e[0],e[1]),this.pArray[d]=e[0],this.pArray[d+1]=e[1];for(d=0;d<256;d+=2)e=this.encipher(e[0],e[1]),this.sBox0[d]=e[0],this.sBox0[d+1]=e[1];for(d=0;d<256;d+=2)e=this.encipher(e[0],e[1]),this.sBox1[d]=e[0],this.sBox1[d+1]=e[1];for(d=0;d<256;d+=2)e=this.encipher(e[0],e[1]),this.sBox2[d]=e[0],this.sBox2[d+1]=e[1];for(d=0;d<256;d+=2)e=this.encipher(e[0],e[1]),this.sBox3[d]=e[0],this.sBox3[d+1]=e[1]},block32toNum:function(a){return this.fixNegative(a.charCodeAt(0)<<24|a.charCodeAt(1)<<16|a.charCodeAt(2)<<8|a.charCodeAt(3))},num2block32:function(a){return String.fromCharCode(a>>>24)+String.fromCharCode(a<<8>>>24)+String.fromCharCode(a<<16>>>24)+String.fromCharCode(a<<24>>>24)},xor:function(a,b){return this.fixNegative(a^b)},addMod32:function(a,b){return this.fixNegative(a+b|0)},fixNegative:function(a){return a>>>0},split64by32:function(a){var b=a.substring(0,4);a=a.substring(4,8);return[this.block32toNum(b),this.block32toNum(a)]},utf8Decode:function(a){var b="";for(var c=0;c<a.length;c++){var d=a.charCodeAt(c);d<128?b+=String.fromCharCode(d):d>127&&d<2048?(b+=String.fromCharCode(d>>6|192),b+=String.fromCharCode(d&63|128)):(b+=String.fromCharCode(d>>12|224),b+=String.fromCharCode(d>>6&63|128),b+=String.fromCharCode(d&63|128))}return b},utf8Encode:function(a){var b="",c=0,d=0,e=0,f;while(c<a.length)d=a.charCodeAt(c),d<128?(b+=String.fromCharCode(d),c++):d>191&&d<224?(e=a.charCodeAt(c+1),b+=String.fromCharCode((d&31)<<6|e&63),c+=2):(e=a.charCodeAt(c+1),f=a.charCodeAt(c+2),b+=String.fromCharCode((d&15)<<12|(e&63)<<6|f&63),c+=3);return b},base64Encode:function(a){var b="",c,d,e,f,g,h,i=0;while(i<a.length)c=a.charCodeAt(i++),d=a.charCodeAt(i++),e=a.charCodeAt(i++),f=c>>2,c=(c&3)<<4|d>>4,g=(d&15)<<2|e>>6,h=e&63,isNaN(d)?g=h=64:isNaN(e)&&(h=64),b=b+this.keyStr.charAt(f)+this.keyStr.charAt(c)+this.keyStr.charAt(g)+this.keyStr.charAt(h);return b},base64Decode:function(a){var b="",c,d,e,f,g,h=0;a=a.replace(/[^A-Za-z0-9\+\/\=]/g,"");while(h<a.length)d=this.keyStr.indexOf(a.charAt(h++)),e=this.keyStr.indexOf(a.charAt(h++)),f=this.keyStr.indexOf(a.charAt(h++)),g=this.keyStr.indexOf(a.charAt(h++)),d=d<<2|e>>4,e=(e&15)<<4|f>>2,c=(f&3)<<6|g,b=b+String.fromCharCode(d),f!=64&&(b=b+String.fromCharCode(e)),g!=64&&(b=b+String.fromCharCode(c));return b},trimZeros:function(a){return a.replace(/\0+$/g,"")}};a.pArray=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731];a.sBox0=[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946];a.sBox1=[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055];a.sBox2=[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504];a.sBox3=[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462];g.exports=a}var i=!1;function j(){i||(i=!0,h());return g.exports}function a(a){switch(a){case void 0:return j()}}e.exports=a}),null);
__d("javascript-blowfish",["javascript-blowfish-1.0.5"],(function(a,b,c,d,e,f){e.exports=b("javascript-blowfish-1.0.5")()}),null);/*FB_PKG_DELIM*/
__d("PolarisUnfollowDialog_user.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisUnfollowDialog_user",selections:[{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null},action:"THROW",path:"pk"},{alias:null,args:null,kind:"ScalarField",name:"profile_pic_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_private",storageKey:null},{alias:null,args:null,concreteType:"XDTGroupMetadata",kind:"LinkedField",name:"group_metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_group",storageKey:null}],storageKey:null}],type:"XDTUserDict",abstractKey:null};e.exports=a}),null);
__d("PolarisUserHoverCardStatisticsSectionQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"userID"}],b=[{kind:"Literal",name:"_request_data",value:{}},{kind:"Literal",name:"user_id",value:0},{kind:"Variable",name:"user_id_str_override",variableName:"userID"}],c={alias:null,args:null,kind:"ScalarField",name:"follower_count",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"following_count",storageKey:null},e={alias:null,args:null,kind:"ScalarField",name:"media_count",storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"PolarisUserHoverCardStatisticsSectionQuery",selections:[{alias:null,args:b,concreteType:"XDTUserInfoResponse",kind:"LinkedField",name:"xdt_api__v1__users__info",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"user",plural:!1,selections:[c,d,e],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"PolarisUserHoverCardStatisticsSectionQuery",selections:[{alias:null,args:b,concreteType:"XDTUserInfoResponse",kind:"LinkedField",name:"xdt_api__v1__users__info",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"user",plural:!1,selections:[c,d,e,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:"6547526092004381",metadata:{},name:"PolarisUserHoverCardStatisticsSectionQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("IGDSHoverCardContent.react",["BaseContextualLayerOrientationContext","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react")),k=i.useContext,l={root:{backgroundColor:"xvbhtw8",borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",boxShadow:"x1rj4ezl",paddingTop:"xyamay9",paddingEnd:"x1pi30zi",paddingBottom:"x1l90r2v",paddingStart:"x1swvt13",position:"x1n2onr6",$$css:!0},rootAbove:{top:"x1v4kod4",$$css:!0},rootBelow:{top:"xfr5jun",$$css:!0},rootEnd:{start:"xr6gfmr",left:null,right:null,$$css:!0},rootStart:{start:"x1mb8mph",left:null,right:null,$$css:!0}};function a(a){var b=a.children;a=a.xstyle;var d=k(c("BaseContextualLayerOrientationContext"));d=d.position;return j.jsx("div",{className:(h||(h=c("stylex")))([l.root,d==="above"&&l.rootAbove,d==="below"&&l.rootBelow,d==="start"&&l.rootStart,d==="end"&&l.rootEnd,a]),children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisFeedPagePostModal.react",["PolarisErrorBoundary.react","PolarisIsLoggedInDesktop","PolarisLinkBuilder","PolarisMonitorErrors","PolarisPanavisionQEHelpers","PolarisPost.react","PolarisPostModal.react","PolarisReactRedux","PolarisRoutes","PolarisSponsoredPost.react","err","nullthrows","polarisPostSelectors","react","usePolarisFeedAnalyticsContext"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useEffect;function a(a){var b=a.onClose,e=a.onOpen,f=a.postId;a=a.sidecarIndex;j(function(){return function(){b()}},[b]);var g=c("nullthrows")(d("PolarisReactRedux").useSelector(function(a){return d("polarisPostSelectors").getPostById(a,f)})),h=d("PolarisReactRedux").useSelector(function(a){return a.ads.feed}),k=new Set(Array.from(h.keys()));h=g.code;g=g.dimensions;var l=c("usePolarisFeedAnalyticsContext")(),m=function(a){d("PolarisMonitorErrors").logError(a),d("PolarisPanavisionQEHelpers").hasPolarisFeedRevamp()&&(k.has(f)?d("PolarisMonitorErrors").logError(c("err")("PolarisFeedPagePostModal.react threw an error for ad in Relay",f)):d("PolarisMonitorErrors").logError(c("err")("PolarisFeedPagePostModal.react threw an error for post in Relay",f)))};return i.jsx(c("PolarisErrorBoundary.react"),{onError:m,children:i.jsx(c("PolarisPostModal.react"),{analyticsContext:l,"data-testid":void 0,dimensions:g,mediaLinkBuilder:d("PolarisLinkBuilder").buildMediaLink,modalEntryPath:d("PolarisRoutes").FEED_PATH,onClose:b,onOpen:e,postCode:h||"",postId:f,children:k.has(f)?i.jsx(c("PolarisSponsoredPost.react"),{analyticsContext:l+"Modal",autoplay:d("PolarisIsLoggedInDesktop").isLoggedInDesktop(),id:f,initialCarouselIndex:(m=a)!=null?m:void 0,isVisible:!0,visiblePosition:0}):i.jsx(c("PolarisPost.react"),{analyticsContext:l+"Modal",autoplay:d("PolarisIsLoggedInDesktop").isLoggedInDesktop(),id:f,initialCarouselIndex:(g=a)!=null?g:void 0,isVisible:!0,visiblePosition:0})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisUnfollowDialog.next.react",["CometRelay","IGCoreDialog","PolarisConnectionsLogger","PolarisUnfollowDialogContent.react","PolarisUnfollowDialog_user.graphql","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));e=i;var k=e.useCallback,l=e.useEffect;function a(a){var e=a.analyticsContext,f=a.onClose,g=a.onUnfollowUser,i=a.size;i=i===void 0?90:i;a=a.user;a=d("CometRelay").useFragment(h!==void 0?h:h=b("PolarisUnfollowDialog_user.graphql"),a);var m=a.group_metadata,n=a.is_private,o=a.pk,p=a.profile_pic_url;a=a.username;m=(m=m==null?void 0:m.is_group)!=null?m:!1;var q=k(function(a){d("PolarisConnectionsLogger").logConnectionAction({containerModule:e,eventName:a,targetId:o})},[e,o]);l(function(){q("unfollow_dialog_impresssion")},[q]);var r=function(){q("unfollow_dialog_confirmed"),g!=null&&g(),f()},s=function(){q("unfollow_dialog_cancelled"),f()};return j.jsx(d("IGCoreDialog").IGCoreDialog,{"data-testid":void 0,onModalClose:f,children:j.jsx(c("PolarisUnfollowDialogContent.react"),{isUserGroupProfile:m,isUserPrivate:n,onCancel:s,onUnfollow:r,profilePictureSize:i,profilePictureUrl:p,username:a})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("usePolarisHoverCardLogger",["PolarisLogger","react","throttle","usePolarisAnalyticsContext"],(function(a,b,c,d,e,f,g){"use strict";var h;e=h||d("react");var i=e.useCallback,j=e.useEffect,k=e.useState;function l(a,b,c,e,f,g,h){d("PolarisLogger").logAction("hoverCardTriggered",{analytics_context:h,card_cutoff:a.bottom<0||a.left<0||window.innerWidth-a.right<0||a.top<0,card_resource_id:g,card_space_bottom:a.bottom,card_space_left:a.left,card_space_right:window.innerWidth-a.right,card_space_top:a.top,card_type:f,interaction_duration:window.performance.now()-c,load_duration:c-b,trigger_analytics_context:e,viewport_height:window.innerHeight,viewport_width:window.innerWidth})}function a(a,b,d,e,f){var g=k(0),h=g[0],i=g[1];g=k(0);var m=g[0],n=g[1],o=c("usePolarisAnalyticsContext")();j(function(){h===0&&i(window.performance.now());var c;a.current&&(c=a.current);return function(){if(m&&c){var a=c.getBoundingClientRect(),d=a.bottom,g=a.left,i=a.right;a=a.top;d={bottom:window.innerHeight-d,left:g,right:window.innerWidth-i,top:a};l(d,h,m,b,e,f,o)}}},[o,a,f,e,h,m,b]);j(function(){d&&m===0&&n(window.performance.now())},[a,d,m])}function b(a,b,e,f,g){var h=c("usePolarisAnalyticsContext")();return i(c("throttle")(function(){var c;d("PolarisLogger").logAction("hoverCardInteraction",babelHelpers["extends"]({},(c=g)!=null?c:{},{analytics_context:h,card_resource_id:b,card_type:a,interaction:f,trigger_analytics_context:e}))},500),[h,a,b,f,e,g])}g.useHoverCardLoadedLogger=a;g.useHoverCardInteractionLoggerCallback=b}),98);
__d("PolarisUserHoverCardButtonSection.react",["IGDSAppMessengerPanoOutlineIcon","IGDSButton.react","IGDSDirectPanoOutlineIcon","IGDSGlimmer.react","PolarisConfig","PolarisDirectStrings","PolarisFollowButtonContainer.react","PolarisGroupProfileUtils","PolarisNavigationStrings","PolarisRelationshipTypes","gkx","polarisRelationshipSelectors","react","usePolarisDirectFeatures","usePolarisDirectMessageClick","usePolarisHoverCardLogger","usePolarisSelector"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useMemo,k={actionButtonsContainer:{display:"x78zum5",$$css:!0},followButton:{flexGrow:"x1iyjqo2",marginStart:"xsgj6o6",marginLeft:null,marginRight:null,maxWidth:"x1ncir08",$$css:!0},glimmer:{borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",height:"x90ne7k",width:"xh8yej3",$$css:!0},messageButton:{flexGrow:"x1iyjqo2",marginEnd:"xw3qccf",marginLeft:null,marginRight:null,maxWidth:"x1ncir08",$$css:!0},root:{paddingStart:"x1swvt13",paddingLeft:null,paddingRight:null,paddingEnd:"x1pi30zi",$$css:!0}};function l(a){var b=a.triggerAnalyticsContext;a=a.userId;a=d("usePolarisHoverCardLogger").useHoverCardInteractionLoggerCallback("user",a,b,"editProfileClicked");return i.jsx(c("IGDSButton.react"),{display:"block",fullWidth:!0,href:"/accounts/edit",label:d("PolarisNavigationStrings").PROFILE_EDIT_TEXT,onClick:a,variant:"secondary"})}l.displayName=l.name+" [from "+f.id+"]";function m(a){var b=a.triggerAnalyticsContext,e=a.userId;a=a.username;var f=c("usePolarisSelector")(function(a){return a.relationships[e]}),g=f!=null&&d("polarisRelationshipSelectors").followedByViewer(f);f=j(function(){return{followed:g}},[g]);b=d("usePolarisHoverCardLogger").useHoverCardInteractionLoggerCallback("user",e,b,"followButtonClicked",f);return i.jsx(c("PolarisFollowButtonContainer.react"),{analyticsContext:"UNKNOWN__POLARIS_USER_HOVER_CARD_BUTTON_SECTION",fullWidth:!0,onClick:b,useFollowIcon:!0,userId:e,username:(f=a)!=null?f:""})}m.displayName=m.name+" [from "+f.id+"]";function n(a){var b=a.interopMessagingUserFbid;a=a.userId;a=c("usePolarisDirectMessageClick")(a,b);b=a[0];a=a[1];var e=c("usePolarisDirectFeatures")();e=e.hasMessagingRedesign;e=e?c("IGDSAppMessengerPanoOutlineIcon"):c("IGDSDirectPanoOutlineIcon");return i.jsx(c("IGDSButton.react"),{display:"block",fullWidth:!0,icon:i.jsx(e,{alt:"",color:"web-always-white",size:20}),isLoading:a,label:d("PolarisDirectStrings").MESSAGE_STRING,onClick:b,variant:"primary"})}n.displayName=n.name+" [from "+f.id+"]";function o(a){var b=a.glimmerStartIndex,e=a.triggerAnalyticsContext,f=a.user,g=a.userId;a=c("usePolarisSelector")(function(a){return a.relationships[g]});var h=d("PolarisConfig").getViewerId();if(g===h)return i.jsx(l,{triggerAnalyticsContext:e,userId:g});if((a==null?void 0:(h=a.followedByViewer)==null?void 0:h.state)==null||f==null)return i.jsx(c("IGDSGlimmer.react"),{index:b,xstyle:k.glimmer});h=d("PolarisGroupProfileUtils").getIsUserGroupProfile(f);b=a.followedByViewer.state===d("PolarisRelationshipTypes").FOLLOW_STATUS_FOLLOWING;a=f.aiAgentType!=null;a=a&&c("gkx")("4977")===!0;return h||!b||!a?i.jsx(m,{triggerAnalyticsContext:e,userId:g,username:f.username}):i.jsxs("div",{className:"x78zum5",children:[i.jsx("div",{className:"x1iyjqo2 xw3qccf x1ncir08",children:i.jsx(n,{interopMessagingUserFbid:f.interopMessagingUserFbid,userId:g})}),i.jsx("div",{className:"x1iyjqo2 xsgj6o6 x1ncir08",children:i.jsx(m,{triggerAnalyticsContext:e,userId:g,username:f.username})})]})}o.displayName=o.name+" [from "+f.id+"]";function a(a){var b=a.glimmerStartIndex,c=a.triggerAnalyticsContext,d=a.user;a=a.userId;return i.jsx("div",{className:"x1swvt13 x1pi30zi",children:i.jsx(o,{glimmerStartIndex:b,triggerAnalyticsContext:c,user:d,userId:a})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisUserHoverCardNoticeSection.react",["CometImage.react","IGDSText.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.description,d=a.icon;a=a.title;return i.jsxs("div",{className:"x1bs97v6 x1q0q8m5 xso031l x5ur3kl x13fuv20 x178xt8z xrvj5dj x3pnbk8 x1o2pa38 xyamay9 x1pi30zi x1l90r2v x1swvt13 x2b8uid",children:[i.jsx(c("CometImage.react"),{alt:"",height:48,src:d,width:48}),i.jsx(c("IGDSText.react"),{weight:"bold",children:a}),i.jsx(c("IGDSText.react"),{color:"secondaryText",children:b})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisUserHoverCardStrings",["fbt"],(function(a,b,c,d,e,f,g,h){"use strict";b=h._("__JHASH__tk6YGldFWHI__JHASH__");c=h._("__JHASH__1eydgvdFVJo__JHASH__");d=h._("__JHASH__2cQUsCR4pd6__JHASH__");function a(a){return h._("__JHASH__bQ_F-fLfH80__JHASH__",[h._param("Username of current user",a)])}g.PRIVATE_ACCOUNT_TITLE=b;g.PRIVATE_ACCOUNT_SUBTEXT=c;g.NO_POSTS_TITLE=d;g.noPostsSubtext=a}),98);
__d("PolarisUserHoverCardPostsSection.react",["ix","CometImage.react","IGDSGlimmer.react","PolarisFastLink.react","PolarisLinkBuilder","PolarisRelationshipTypes","PolarisUserHoverCardNoticeSection.react","PolarisUserHoverCardStrings","polarisPostSelectors","react","usePolarisHoverCardLogger","usePolarisSelector"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k={glimmer:{borderTopStartRadius:"x168nmei",borderTopEndRadius:"x13lgxp2",borderBottomEndRadius:"x5pf9jr",borderBottomStartRadius:"xo71vjh",height:"x1wkxgih",width:"xygnafs",$$css:!0},mediaContainer:{backgroundColor:"xnz67gz",display:"x78zum5",height:"x1wkxgih",":active_opacity":"x162lpob",$$css:!0},root:{alignItems:"x6s0dn4",display:"xrvj5dj",columnGap:"x1ihrfj4",gridTemplateColumns:"x1rp53t7",$$css:!0}};function l(a){var b=a.postId,e=a.triggerAnalyticsContext;a=a.userId;a=d("usePolarisHoverCardLogger").useHoverCardInteractionLoggerCallback("user",a,e,"postGridPostLinkClicked");e=c("usePolarisSelector")(function(a){return d("polarisPostSelectors").getPostOrNullById(a,b)});var f=e==null?void 0:e.src;if(f==null||(e==null?void 0:e.code)==null)return j.jsx("div",{className:"xnz67gz x78zum5 x1wkxgih x162lpob"});e=d("PolarisLinkBuilder").buildMediaLink(e.code);return j.jsx(c("PolarisFastLink.react"),{className:"xnz67gz x78zum5 x1wkxgih x162lpob",href:e,onClick:a,children:j.jsx(c("CometImage.react"),{height:120,objectFit:"cover",src:f,width:120})})}l.displayName=l.name+" [from "+f.id+"]";function a(a){var b=a.glimmerStartIndex,e=a.postIds,f=a.triggerAnalyticsContext,g=a.user,i=a.userId;a=c("usePolarisSelector")(function(a){return a.relationships[i]});if(g!=null&&g.isPrivate===!0&&a!=null&&a.followedByViewer.state!==d("PolarisRelationshipTypes").FOLLOW_STATUS_FOLLOWING)return j.jsx(c("PolarisUserHoverCardNoticeSection.react"),{description:d("PolarisUserHoverCardStrings").PRIVATE_ACCOUNT_SUBTEXT,icon:h("295615"),title:d("PolarisUserHoverCardStrings").PRIVATE_ACCOUNT_TITLE});if(e==null||a==null||g==null)return j.jsxs("div",{className:"x6s0dn4 xrvj5dj x1ihrfj4 x1rp53t7",children:[j.jsx(c("IGDSGlimmer.react"),{index:b,xstyle:k.glimmer}),j.jsx(c("IGDSGlimmer.react"),{index:b+1,xstyle:k.glimmer}),j.jsx(c("IGDSGlimmer.react"),{index:b+2,xstyle:k.glimmer})]});return e.length===0?g.username==null?null:j.jsx(c("PolarisUserHoverCardNoticeSection.react"),{description:d("PolarisUserHoverCardStrings").noPostsSubtext(g.username),icon:h("295614"),title:d("PolarisUserHoverCardStrings").NO_POSTS_TITLE}):j.jsx("div",{className:"x6s0dn4 xrvj5dj x1ihrfj4 x1rp53t7",children:e.map(function(a){return j.jsx(l,{postId:a,triggerAnalyticsContext:f,userId:i},a)})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisUserHoverCardStatisticsSection.react",["fbt","CometPlaceholder.react","CometRelay","IGDSGlimmer.react","IGDSText.react","PolarisBigNumber.react","PolarisUserHoverCardStatisticsSectionQuery.graphql","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||d("react"),l={root:{alignItems:"x6s0dn4",display:"xrvj5dj",columnGap:"x1ihrfj4",gridTemplateColumns:"x1rp53t7",$$css:!0},statistic:{paddingTop:"xexx8yu",paddingEnd:"x1sxyh0",paddingBottom:"x18d9i69",paddingStart:"xurb0ha",textAlign:"x2b8uid",$$css:!0},statisticCountGlimmer:{borderTopStartRadius:"x1lcm9me",borderTopEndRadius:"x1yr5g0i",borderBottomEndRadius:"xrt01vj",borderBottomStartRadius:"x10y3i5r",height:"x1v9usgg",marginStart:"x1gryazu",marginLeft:null,marginRight:null,marginEnd:"xkrivgy",width:"x100vrsf",$$css:!0},statisticLabel:{marginTop:"x1gslohp",$$css:!0},statisticLabelGlimmer:{borderTopStartRadius:"x1lcm9me",borderTopEndRadius:"x1yr5g0i",borderBottomEndRadius:"xrt01vj",borderBottomStartRadius:"x10y3i5r",height:"x1v9usgg",marginStart:"x1gryazu",marginLeft:null,marginRight:null,marginEnd:"xkrivgy",marginTop:"x1gslohp",width:"x1fu8urw",$$css:!0}};function m(a){a=a.glimmerStartIndex;return k.jsxs("div",{className:"xexx8yu x1sxyh0 x18d9i69 xurb0ha x2b8uid",children:[k.jsx(c("IGDSGlimmer.react"),{index:a,xstyle:l.statisticCountGlimmer}),k.jsx(c("IGDSGlimmer.react"),{index:a+1,xstyle:l.statisticLabelGlimmer})]})}m.displayName=m.name+" [from "+f.id+"]";function n(a){var b=a.count;a=a.label;return k.jsxs("div",{className:"xexx8yu x1sxyh0 x18d9i69 xurb0ha x2b8uid",children:[k.jsx("div",{children:k.jsx(c("IGDSText.react"),{weight:"bold",children:k.jsx(c("PolarisBigNumber.react"),{shortenNumber:!0,value:b})})}),k.jsx("div",{className:"x1gslohp",children:k.jsx(c("IGDSText.react"),{children:a})})]})}n.displayName=n.name+" [from "+f.id+"]";function o(a){var c,e;a=a.userId;a=d("CometRelay").useLazyLoadQuery(i!==void 0?i:i=b("PolarisUserHoverCardStatisticsSectionQuery.graphql"),{userID:a});a=a.xdt_api__v1__users__info.user;c=(c=a==null?void 0:a.media_count)!=null?c:0;e=(e=a==null?void 0:a.follower_count)!=null?e:0;a=(a=a==null?void 0:a.following_count)!=null?a:0;return k.jsxs(k.Fragment,{children:[k.jsx(n,{count:c,label:h._("__JHASH__4TvrpCYBYlw__JHASH__",[h._plural((c=c)!=null?c:0)])}),k.jsx(n,{count:e,label:h._("__JHASH__iPewtgDkrBS__JHASH__",[h._plural((c=e)!=null?c:0)])}),k.jsx(n,{count:a,label:h._("__JHASH__5OGpybB5qMf__JHASH__",[h._plural((e=a)!=null?e:0)])})]})}o.displayName=o.name+" [from "+f.id+"]";function a(a){var b=a.glimmerStartIndex;a.user;a=a.userId;return k.jsx("div",{className:"x6s0dn4 xrvj5dj x1ihrfj4 x1rp53t7",children:k.jsx(c("CometPlaceholder.react"),{fallback:k.jsxs(k.Fragment,{children:[k.jsx(m,{glimmerStartIndex:b}),k.jsx(m,{glimmerStartIndex:b+1}),k.jsx(m,{glimmerStartIndex:b+2})]}),children:k.jsx(o,{userId:a})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisUserHoverCardUserInfoSection.react",["IGDSGlimmer.react","IGDSText.react","IGDSVerifiedBadge.react","PolarisFastLink.react","PolarisSponsoredPostContext.react","PolarisUserAvatarWithStories.react","isStringNullOrWhitespaceOnly","react","usePolarisHoverCardLogger","usePolarisTrackingDataProfileURLParams"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useContext,k={fullName:{height:"xmix8c7",marginTop:"x1gslohp",width:"x1rva8in",$$css:!0},fullNameGlimmer:{borderTopStartRadius:"x1lcm9me",borderTopEndRadius:"x1yr5g0i",borderBottomEndRadius:"xrt01vj",borderBottomStartRadius:"x10y3i5r",height:"xlup9mm",marginTop:"x1gslohp",width:"xzjbwwf",$$css:!0},profilePictureGlimmer:{borderTopStartRadius:"xv4rd2r",borderTopEndRadius:"x19baegm",borderBottomEndRadius:"x1vswc8w",borderBottomStartRadius:"x1jq0agw",height:"xnnlda6",width:"x15yg21f",$$css:!0},root:{alignItems:"x6s0dn4",display:"xrvj5dj",columnGap:"xfex06f",gridTemplateColumns:"x1wdtju6",paddingStart:"x1swvt13",paddingLeft:null,paddingRight:null,paddingEnd:"x1pi30zi",$$css:!0},username:{alignItems:"x6s0dn4",display:"x78zum5",height:"xmix8c7",$$css:!0},usernameGlimmer:{borderTopStartRadius:"x1lcm9me",borderTopEndRadius:"x1yr5g0i",borderBottomEndRadius:"xrt01vj",borderBottomStartRadius:"x10y3i5r",height:"xlup9mm",width:"xja02kk",$$css:!0},verifiedBadge:{marginStart:"xsgj6o6",marginLeft:null,marginRight:null,$$css:!0}};function a(a){var b=a.glimmerStartIndex,e=a.triggerAnalyticsContext,f=a.user;a=a.userId;var g=f==null?void 0:f.fullName,h=f==null?void 0:f.username,l=f==null?void 0:f.isVerified,m=f==null?void 0:f.profilePictureUrl;a=d("usePolarisHoverCardLogger").useHoverCardInteractionLoggerCallback("user",a,e,"profileLinkClicked");e=d("usePolarisTrackingDataProfileURLParams").usePolarisTrackingDataProfileURLParams(j(d("PolarisSponsoredPostContext.react").PolarisSponsoredPostContext).canUserSeePersistentCta);return i.jsxs("div",{className:"x6s0dn4 xrvj5dj xfex06f x1wdtju6 x1swvt13 x1pi30zi",children:[i.jsx("div",{children:m==null?i.jsx(c("IGDSGlimmer.react"),{index:b,xstyle:k.profilePictureGlimmer}):i.jsx(c("PolarisUserAvatarWithStories.react"),{isClickable:!0,profilePictureUrl:m,size:56,storyEntrypoint:"user_hover_card",userId:f==null?void 0:f.id,username:f==null?void 0:f.username})}),i.jsx("div",{children:i.jsx("div",{children:h==null?i.jsxs(i.Fragment,{children:[i.jsx(c("IGDSGlimmer.react"),{index:b+1,xstyle:k.usernameGlimmer}),i.jsx(c("IGDSGlimmer.react"),{index:b+2,xstyle:k.fullNameGlimmer})]}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"x6s0dn4 x78zum5 xmix8c7",children:[i.jsx(c("PolarisFastLink.react"),{href:"/"+h,onClick:a,params:e,children:i.jsx(c("IGDSText.react").LabelEmphasized,{children:h})}),l===!0&&i.jsx("span",{className:"xsgj6o6",children:i.jsx(c("IGDSVerifiedBadge.react"),{})})]}),c("isStringNullOrWhitespaceOnly")(g)?null:i.jsx("div",{className:"xmix8c7 x1gslohp x1rva8in",children:i.jsx(c("IGDSText.react"),{color:"secondaryText",maxLines:1,textAlign:"start",children:g})})]})})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisUserHoverCardContent.react",["PolarisLogger","PolarisProfilePostsActions","PolarisProfilePostsSelectors","PolarisReactRedux","PolarisRelationshipActionGetRelationshipInfoWithViewerByUserId","PolarisUserActionGetUserInfo","PolarisUserHoverCardButtonSection.react","PolarisUserHoverCardPostsSection.react","PolarisUserHoverCardStatisticsSection.react","PolarisUserHoverCardUserInfoSection.react","polarisUserSelectors","react","usePolarisAnalyticsContext","usePolarisSelector"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useEffect,k=b.useRef;function a(a){var b=a.triggerAnalyticsContext,e=a.userId;a=k(null);var f=c("usePolarisSelector")(function(a){return d("polarisUserSelectors").maybeGetUserById(a,e)}),g=d("PolarisReactRedux").useDispatch(),h=c("usePolarisSelector")(function(a){return d("PolarisProfilePostsSelectors").getUserHoverCardProfilePostsForUserId(a,e)});h=h.postIds;var l=h==null,m=f==null||f.isVerified==null||f.profilePictureUrl==null||f.username==null||f.interopMessagingUserFbid==null,n=c("usePolarisSelector")(function(a){return a.relationships[e]}),o=(n==null?void 0:n.followedByViewer.state)==null;j(function(){l&&g(d("PolarisProfilePostsActions").requestProfilePostsV2(e))},[g,l,e]);j(function(){m&&g(d("PolarisUserActionGetUserInfo").getUserInfo(e))},[g,m,e]);j(function(){o&&g(d("PolarisRelationshipActionGetRelationshipInfoWithViewerByUserId").getRelationshipInfoWithViewerByUserId(e))},[g,o,e]);var p=c("usePolarisAnalyticsContext")(),q=k(!1);j(function(){q.current===!1&&(q.current=!0,d("PolarisLogger").logAction("hoverCardTriggered",{analytics_context:p,trigger_analytics_context:b}))},[p,b]);return i.jsxs("div",{className:"x6s0dn4 xrvj5dj xgpatz3 x1dh5ka xyamay9 x1l90r2v x1mu97ne",ref:a,children:[i.jsx("div",{children:i.jsx(c("PolarisUserHoverCardUserInfoSection.react"),{glimmerStartIndex:0,triggerAnalyticsContext:b,user:f,userId:e})}),i.jsx("div",{children:i.jsx(c("PolarisUserHoverCardStatisticsSection.react"),{glimmerStartIndex:3,user:f,userId:e})}),i.jsx("div",{children:i.jsx(c("PolarisUserHoverCardPostsSection.react"),{glimmerStartIndex:6,postIds:h,triggerAnalyticsContext:b,user:f,userId:e})}),i.jsx("div",{children:i.jsx(c("PolarisUserHoverCardButtonSection.react"),{glimmerStartIndex:9,triggerAnalyticsContext:b,user:f,userId:e})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisUserHoverCardImpl.react",["IGDSHoverCardContent.react","PolarisUserHoverCardContent.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={content:{paddingTop:"xexx8yu",paddingEnd:"x4uap5",paddingBottom:"x18d9i69",paddingStart:"xkhd6sd",$$css:!0}};function a(a){var b=a.triggerAnalyticsContext;a=a.userId;return i.jsx(c("IGDSHoverCardContent.react"),{xstyle:j.content,children:i.jsx(c("PolarisUserHoverCardContent.react"),{triggerAnalyticsContext:b,userId:a})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("MAWDropCutoverThreadsTable",["Promise","ReQL"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var c=d("ReQL").fromTableAscending(a.table("cutover_threads"));return d("ReQL").toArrayAsync(c).then(function(c){return c.reduce(function(b,c){return b.then(function(){return a.table("cutover_threads")["delete"](c.openThreadId)})},(h||(h=b("Promise"))).resolve())})}g.call=a}),98);
__d("LSMailboxInitialSyncCursor",["I64","LSPlatformMessengerSyncParams","LSPlatformWorkplaceSyncParams","gkx","qex"],(function(a,b,c,d,e,f,g){"use strict";var h;a=c("gkx")("1224637")?c("LSPlatformWorkplaceSyncParams").mailbox:c("LSPlatformMessengerSyncParams").mailbox;b=(h||(h=d("I64"))).of_int32(c("qex")._("279")===!0?3:1);e=h.of_int32(0);g.syncParams=a;g.syncChannel=b;g.lastSyncTimestampMs=e}),98);
__d("LSDatabase",[],(function(a,b,c,d,e,f){}),null);
__d("LSSyncGroupsUtils",["CurrentLocale","LSIntEnum"],(function(a,b,c,d,e,f,g){"use strict";var h;a={canIgnoreTimestamp:!1,currentCursor:void 0,dataTraceId:void 0,groupId:(h||(h=d("LSIntEnum"))).ofNumber(0),initTraceTimestampMs:void 0,lastSyncCompletedTimestampMs:void 0,lastSyncRequestTimestampMs:h.ofNumber(0),minTimeToSyncTimestampMs:h.ofNumber(-1),priority:h.ofNumber(0),regionHint:void 0,sendSyncParams:!0,syncChannel:h.ofNumber(1),syncParams:JSON.stringify({locale:c("CurrentLocale").get()}),syncStatus:h.ofNumber(0)};b={epochId:void 0,failureCount:h.ofNumber(0),lastDelayedRequestTimestampMs:void 0,lastSentTimestampMs:h.ofNumber(0),lastSyncRequestTimestampMs:h.ofNumber(0),networkTaskIdentifier:void 0,syncDatabaseId:h.ofNumber(0),taskQueueName:""};e=h.ofNumber(9999999999999);g.defaultSyncGroup=a;g.defaultNetworkRequest=b;g.neverSyncTimestamp=e}),98);
__d("MNetRankType",[],(function(a,b,c,d,e,f){a=Object.freeze({INBOX_ACTIVE_NOW:0,MESSENGER_USER_SEARCH:1,MONTAGE_USER:2,BROADCAST_FLOW_TOP_CONTACTS:3,BROADCAST_FLOW_NEEDY_CONTACTS:4,MESSENGER_GROUP_SEARCH:5,RTC_TOP_CONTACTS:6,PSTN_TOP_CONTACTS:7,MESSENGER_NON_CONTACT_SEARCH:8,MESSENGER_SEARCH_BOOTSTRAP:9,ACTIVE_BEEPER:10,MONTAGE_AND_ACTIVE_NOW:11,MESSENGER_PAGE_SEARCH:12,MESSENGER_GAME_SEARCH:13,WWW_NULLSTATE:14,RTC_GROWTH:15,MESSENGER_OMNIPICKER_NULLSTATE:16,RTC_SEQUENTIAL_TOP_CONTACTS:17,MESSENGER_USER_SEARCH_NULLSTATE:18,MLITE_DIODE_PROMOTION:19,MESSENGER_PENDING_REQUEST:20,MESSENGER_CLOSE_CONNECTION:21,MESSENGER_MONTAGE_SEEN_SHEET:22,MESSENGER_OMNIPICKER_KEYPRESS:23,MESSENGER_NOTIF_QP_TARGETING_UPSELL_TYPE:24,CONTACT_TAB_ACTIVE_NOW:26,MESSENGER_UNIV_NULLSTATE_BLEND:27,MESSENGER_INBOX_THREADS:28,INBOX_ACTIVE_NOW_NO_BOOSTING:29,BROADCAST_FLOW_TOP_CONTACTS_FB_SHARE:30,BROADCAST_FLOW_TOP_CONTACTS_MESSENGER_SHARE:31,BROADCAST_FLOW_TOP_CONTACTS_EXTERNAL_SHARE:32,MESSENGER_TRENDING_STICKERS:33,MESSENGER_BROADCAST_FLOW_TOP_THREADS:34,MESSENGER_SENDS_28D:35,MESSENGER_ROOM_INVITE:36,MESSENGER_ROOM_INVITE_SEARCH:37,INBOX_ACTIVE_NOW_PREFETCH:38,MESSENGER_BLENDED_KEYPRESS:39,MESSENGER_BLENDED_NULLSTATE:40,MESSENGER_CARRIER_MESSAGING:41,MESSENGER_ROOM_INVITE_GROUP:42,MESSENGER_INBOX_BIRTHDAY_ITEM:43,INSTAGRAM_DIRECT_SEARCH_NULLSTATE:44,BROADCAST_FLOW_TOP_CONTACTS_AND_TOP_THREAD_FB_SHARE:45,BROADCAST_FLOW_TOP_THREADS_FB_SHARE:46,FB_H_SCROLL_RANKING:47,FB_MESSAGING_USER_SEARCH:48,FB_MESSAGING_USER_SEARCH_NULLSTATE:49,MESSENGER_ACTIVE_NOW_TRAY_ACTIVE_CC:50,MESSENGER_SHARE_SHEET:51,MESSENGER_COMMUNITY_TAB_UNJOINED_COMMUNITIES:52});f["default"]=a}),66);
__d("isOccamadilloResumeSyncEnabled",["gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("gkx")("6551")&&c("gkx")("4471")&&c("gkx")("4463")}g["default"]=a}),98);
__d("seedUserInfo",["CurrentMessengerUser","I64","LSIntEnum"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){var b=d("CurrentMessengerUser").getIDorEIMU();return a.table("_user_info").put({facebookUserId:(h||(h=d("I64"))).of_string(b),id:(i||(i=d("LSIntEnum"))).ofNumber(1)})}g["default"]=a}),98);
__d("LSDefaultSyncGroups",["CurrentEnvironment","LSIntEnum","LSMailboxInitialSyncCursor","LSPlatformLsInitLog","LSSyncGroupsUtils","MNetRankType","Promise","ReQL","asyncToGeneratorRuntime","gkx","isArmadillo","isInstamadillo","isOccamadilloResumeSyncEnabled","qex","seedUserInfo"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=new Set();e=c("isArmadillo")()||c("gkx")("9017")===!0&&!c("isInstamadillo")();f=c("qex")._("923")===!0&&!c("isInstamadillo")();e&&!c("isOccamadilloResumeSyncEnabled")()&&j.add(95);e=e?{groupId:95}:null;var k=[{groupId:1},{groupId:2},{groupId:6},{groupId:7,syncParams:JSON.stringify({mnet_rank_types:[c("MNetRankType").INSTAGRAM_DIRECT_SEARCH_NULLSTATE]})},{groupId:16},{groupId:28},{groupId:196},{groupId:198},f?{groupId:95}:null,{groupId:118,minTimeToSyncTimestampMs:d("LSSyncGroupsUtils").neverSyncTimestamp}],l=[{groupId:1,lastSyncRequestTimestampMs:d("LSMailboxInitialSyncCursor").lastSyncTimestampMs,syncChannel:d("LSMailboxInitialSyncCursor").syncChannel,syncParams:d("LSMailboxInitialSyncCursor").syncParams},{groupId:2,lastSyncRequestTimestampMs:d("LSMailboxInitialSyncCursor").lastSyncTimestampMs,syncChannel:d("LSMailboxInitialSyncCursor").syncChannel},{groupId:7,minTimeToSyncTimestampMs:d("LSSyncGroupsUtils").neverSyncTimestamp,syncParams:JSON.stringify({mnet_rank_types:[c("MNetRankType").MESSENGER_USER_SEARCH,c("MNetRankType").MESSENGER_USER_SEARCH_NULLSTATE,c("MNetRankType").INBOX_ACTIVE_NOW,c("MNetRankType").MESSENGER_OMNIPICKER_NULLSTATE,c("MNetRankType").MESSENGER_BROADCAST_FLOW_TOP_THREADS,c("MNetRankType").BROADCAST_FLOW_TOP_CONTACTS]})},{groupId:15,minTimeToSyncTimestampMs:d("LSSyncGroupsUtils").neverSyncTimestamp},{groupId:12,minTimeToSyncTimestampMs:d("LSSyncGroupsUtils").neverSyncTimestamp},{groupId:16},{groupId:140},{groupId:141},{groupId:142},{groupId:143},{groupId:26},{groupId:5},{groupId:28},{groupId:118,minTimeToSyncTimestampMs:d("LSSyncGroupsUtils").neverSyncTimestamp},{groupId:196},{groupId:104},{groupId:198},e,c("gkx")("2096")?{groupId:120}:null,c("gkx")("10640")?{groupId:208}:null,c("qex")._("274")||c("gkx")("5849")?{groupId:6,minTimeToSyncTimestampMs:d("LSSyncGroupsUtils").neverSyncTimestamp}:null,c("gkx")("2250")?{groupId:108}:null];function m(a,b){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c){var e=(yield d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.table("network_requests")).getKeyRange(""))),f=e.map(function(a){a=a.syncDatabaseId;return(i||(i=d("LSIntEnum"))).toNumber(a)});return(h||(h=b("Promise"))).all(c.map(function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){b!=null&&(!f.includes(b.groupId)||j.has(b.groupId))&&(yield a.table("network_requests").put(babelHelpers["extends"]({},d("LSSyncGroupsUtils").defaultNetworkRequest,{syncDatabaseId:(i||(i=d("LSIntEnum"))).ofNumber(b.groupId)})))});return function(a){return c.apply(this,arguments)}}()))});return n.apply(this,arguments)}function o(a,b){return p.apply(this,arguments)}function p(){p=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c){var e=(yield d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.table("sync_groups")))),f=e.map(function(a){a=a.groupId;return(i||(i=d("LSIntEnum"))).toNumber(a)});function g(a){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){var c=b.groupId;b=babelHelpers.objectWithoutPropertiesLoose(b,["groupId"]);(!f.includes(c)||j.has(c))&&(yield a.table("sync_groups").put(babelHelpers["extends"]({},d("LSSyncGroupsUtils").defaultSyncGroup,b,{groupId:(i||(i=d("LSIntEnum"))).ofNumber(c)})))});return k.apply(this,arguments)}yield (h||(h=b("Promise"))).all(c.map(function(a){return a&&g(a)}))});return p.apply(this,arguments)}function q(a){return a!=null?a:c("CurrentEnvironment").instagramdotcom?k:l}function a(a,b){return r.apply(this,arguments)}function r(){r=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){b=q(b);d("LSPlatformLsInitLog").addPoint("db_seed_start");yield c("seedUserInfo")(a);yield m(a,b);yield o(a,b);d("LSPlatformLsInitLog").addPoint("db_seed_end")});return r.apply(this,arguments)}g.e2eeMetadataSyncGroup=e;g.igdSyncGroups=k;g.defaultSyncGroups=l;g.seedDb=a}),98);
__d("MWConditionallySetupEBStateDB",["asyncToGeneratorRuntime","cr:6693"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a===void 0&&(a=!1);if(b("cr:6693")!=null){a=(yield b("cr:6693").makeEBStateDB(a));return a}});return h.apply(this,arguments)}g.conditionallyMakeEBStateDB=a}),98);
__d("MWLSSchemaEphemeral",["FBLogger","LSJSInMemoryStorage","LSMetadata","LSPlatformLsInitLog","MAWLSVaultingHooks","MWConditionallySetupEBStateDB","MessengerLogHistory","ReStore","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h=d("MessengerLogHistory").getInstance("db_init");function a(){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){d("LSPlatformLsInitLog").addPoint("init_start");var a;try{var b=(yield d("MWConditionallySetupEBStateDB").conditionallyMakeEBStateDB());b!=null&&(h.debug("Creating EB State DB"),a=c("ReStore")(b,d("LSMetadata").metadata,[c("MAWLSVaultingHooks")]),h.debug("EB State DB inited"))}catch(a){c("FBLogger")("messenger_web_clients").catching(a).mustfix("EBSM failed")}a==null&&(h.debug("Creating EDB"),a=c("LSJSInMemoryStorage")(d("LSMetadata").metadata),h.debug("EDB inited"));d("LSPlatformLsInitLog").addPoint("init_end");return a});return i.apply(this,arguments)}g.createDB=a}),98);
__d("MWLSSchemaEphemeralProxy",["MWLSSchemaEphemeral"],(function(a,b,c,d,e,f){"use strict";Object.keys(importNamespace("MWLSSchemaEphemeral")).forEach(function(a){if(a==="default"||a==="__esModule")return;f[a]=importNamespace("MWLSSchemaEphemeral")[a]})}),null);
__d("UserTimingUtils",["performance","regeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=typeof (h||(h=c("performance"))).mark==="function"&&typeof (h||(h=c("performance"))).clearMarks==="function"&&typeof (h||(h=c("performance"))).measure==="function"&&typeof (h||(h=c("performance"))).clearMeasures==="function",j=!1;if(i&&(h||(h=c("performance"))).mark!=null){var k="__v3",l={};Object.defineProperty(l,"startTime",{get:function(){j=!0}});try{(h||(h=c("performance"))).mark(k,l)}catch(a){}finally{(h||(h=c("performance"))).clearMarks(k)}}function a(a){i&&(h||(h=c("performance"))).mark(a)}function d(a,b,d){d===void 0&&(d=!0);if(i){try{(h||(h=c("performance"))).measure(a,b)}catch(a){}d&&(h||(h=c("performance"))).clearMarks(b);(h||(h=c("performance"))).clearMeasures(a)}}function e(a){if(i){try{a=(h||(h=c("performance"))).getEntriesByName(a,"mark");if(a!=null&&a.length>0)return!0}catch(a){}return!1}}function f(a){if(i)try{(h||(h=c("performance"))).clearMarks(a)}catch(a){}}function m(a,b){if(j)try{(h||(h=c("performance"))).measure(a,b),h.clearMeasures(a)}catch(a){}}function n(a,b){j&&((h||(h=c("performance"))).mark(a,b),h.clearMarks(a))}function o(a,d){var e,f,g;return b("regeneratorRuntime").async(function(i){while(1)switch(i.prev=i.next){case 0:e=(h||(h=c("performance"))).now();i.next=3;return b("regeneratorRuntime").awrap(d());case 3:f=i.sent;g=(h||(h=c("performance"))).now();m(a,{end:g,start:e});return i.abrupt("return",f);case 7:case"end":return i.stop()}},null,this)}g.measureStart=a;g.measureEnd=d;g.hasMark=e;g.clearMarks=f;g.measureModern=m;g.markModern=n;g.asyncMeasure=o}),98);
__d("GetLsDatabase",["ExecutionEnvironment","FBLogger","InteractionTracing","LSDefaultSyncGroups","LSPlatformLsInitLog","MAWDropCutoverThreadsTable","MWLSSchemaEphemeralProxy","MessengerLogHistory","MultipleTabsLogger","Promise","UserTimingUtils","asyncToGeneratorRuntime","cr:4489","cr:5774","cr:665","cr:7000","cr:7351","gkx","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(e=b("cr:7000"))!=null?e:b("cr:7351"),k=c("gkx")("4471")&&c("gkx")("4463"),l=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=d("MessengerLogHistory").getInstance("db_init"),e=(yield d("MultipleTabsLogger").getMultipleTabsAnnotation());a.debug("Has multiple tabs: "+e);d("MultipleTabsLogger").addAnnotationToQPLEvent(c("qpl")._(25305590,"1127"));a.debug("====Creating DB====");b("cr:4489")!=null&&b("cr:665")!=null&&(a.debug("Vaulting setup started"),b("cr:665").setupMainWaLogger(),yield d("UserTimingUtils").asyncMeasure("Setup Vaulting Materials",b("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield b("cr:4489").setupVaultMaterials()})),a.debug("Vaulting setup finished"));d("LSPlatformLsInitLog").addPoint("support_check_start");var f=b("cr:5774").isSupported!=null?yield b("cr:5774").isSupported():!1;d("LSPlatformLsInitLog").addPoint("support_check_end",{bool:{using_pdb:f}});c("InteractionTracing").getPendingInteractions().forEach(function(a){a.addAnnotationBoolean("using_pdb",f)});f&&self.navigator.locks==null&&c("FBLogger")("messenger_web_product").mustfix("PDB exposed to people without navigator.locks");a.debug("Connecting to DB");e=f?yield b("cr:5774").createDB():yield d("MWLSSchemaEphemeralProxy").createDB();a.debug("Connecting established");yield e.runInTransaction(function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(c){var e=k||j==null?[(i||(i=b("Promise"))).resolve(),(i||(i=b("Promise"))).resolve()]:[j.call(c),d("MAWDropCutoverThreadsTable").call(c)],f=e[0];e=e[1];yield (i||(i=b("Promise"))).all([f,e]);d("LSPlatformLsInitLog").addPoint("success_maw_data_deletion");a.debug("Seeding DB");yield d("LSDefaultSyncGroups").seedDb(c,void 0);a.debug("DB seeded")});return function(a){return c.apply(this,arguments)}}(),"readwrite","ui");a.debug("====DB created====");return e});return function(){return a.apply(this,arguments)}}(),m;function a(){m==null&&(m=(h||(h=c("ExecutionEnvironment"))).isInBrowser?l():new(i||(i=b("Promise")))(function(){}));return m}g.get=a}),98);/*FB_PKG_DELIM*/
__d("LSGetCursor",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[],e;return b.seq([function(f){return b.seq([function(d){return b.db.table(1).fetch([[[a[0]]]]).next().then(function(a,b){var d=a.done;a=a.value;return d?c[0]=e:(b=a.item,c[0]=b.currentCursor)})},function(a){return d[0]=c[0]}])},function(a){return b.resolve(d)}])}b=a;f["default"]=b}),66);
__d("LSIssueNewTaskAndGetTaskID",["LSIssueNewTask","LSLogEventAnnotate.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[];return c.seq([function(f){return c.seq([function(d){return c.sp(b("LSIssueNewTask"),a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],a[8],a[9],a[10])},function(b){return d[3]=c.i64.to_string(a[1]),c.ftr(c.db.table(2).fetchDesc([[[a[0]]],"queueNameTaskId"]),function(b){return b.queueName===a[0]&&b.context===d[3]&&b.taskValue===a[2]}).next().then(function(a,b){var e=a.done;a=a.value;return e?d[0]=c.i64.cast([-1,4294967295]):(b=a.item,d[0]=b.taskId)})},function(e){return d[2]=new c.Map(),d[2].set("task_id",d[0]),d[2].set("task_queue_name",a[0]),d[2].set("task_label",d[3]),c.nop(b("LSLogEventAnnotate.nop"),c.i64.cast([0,16]),c.i64.cast([0,23]),c.i64.cast([0,0]),d[2])},function(a){return e[0]=d[0]}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSAppendDataTraceAddonStoredProcedure",["LSAppendDataTraceAddon"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.dataTraceId;d[1]=b.checkPointId;d[2]=b.syncChannel;d[3]=b.errorMessage;d[4]=b.tags;return c("LSAppendDataTraceAddon").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("LSSetMessageDisplayedContentTypes",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[],e;return b.seq([function(d){return b.seq([function(d){return b.db.table(16).fetch([[[a[0],a[1]]]]).next().then(function(a,b){var d=a.done;a=a.value;return d?(d=[e,e],c[0]=d[0],c[1]=d[1],d):(b=a.item,d=[b.attachmentType,b.xmaLayoutType],c[0]=d[0],c[1]=d[1],d)})},function(d){return b.ftr(b.db.table(12).fetch([[[a[0],a[2],a[1]]]]),function(c){return b.i64.eq(c.threadKey,a[0])&&b.i64.eq(b.i64.cast([0,0]),b.i64.cast([0,0]))&&b.i64.eq(c.timestampMs,a[2])&&c.messageId===a[1]}).next().then(function(a,d){var f=a.done;a=a.value;return f?(f=[b.i64.cast([0,0]),e,e],c[3]=f[0],c[4]=f[1],c[5]=f[2],f):(d=a.item,f=[d.replySourceTypeV2,d.replySourceId,d.text],c[3]=f[0],c[4]=f[1],c[5]=f[2],f)})},function(d){return b.db.table(9).fetch([[[a[0]]]]).next().then(function(a,b){var d=a.done;a=a.value;return d?c[7]=e:(b=a.item,c[7]=b.customEmoji)})},function(d){return b.i64.eq(c[0],b.i64.cast([0,6]))?c[9]=b.i64.cast([0,64]):(b.i64.eq(c[0],b.i64.cast([0,5]))?c[15]=b.i64.cast([0,4]):(b.i64.eq(c[0],b.i64.cast([0,3]))?c[16]=b.i64.cast([0,16384]):(b.i64.eq(c[0],b.i64.cast([0,2]))?c[17]=b.i64.cast([0,2]):(b.i64.eq(c[0],b.i64.cast([0,4]))?c[18]=b.i64.cast([0,2]):c[18]=a[5]?b.i64.cast([0,4096]):b.i64.cast([0,0]),c[17]=c[18]),c[16]=c[17]),c[15]=c[16]),c[9]=c[15]),c[10]=c[5]!==e&&c[5]!==""&&c[5]!==c[7]?b.i64.or_(c[9],b.i64.cast([0,1])):c[9],c[11]=c[7]!==e&&c[7]===c[5]?b.i64.or_(c[10],b.i64.cast([0,128])):c[10],c[12]=b.i64.eq(c[0],b.i64.cast([0,7]))?b.i64.or_(c[11],b.i64.cast([0,8])):c[11],c[13]=b.i64.eq(c[1],b.i64.cast([0,0]))?b.i64.or_(c[12],b.i64.cast([0,1024])):b.i64.eq(c[1],b.i64.cast([0,1]))?b.i64.or_(c[12],b.i64.cast([0,2048])):c[12],c[14]=b.i64.eq(c[3],b.i64.cast([0,2]))&&c[4]!==e?b.i64.or_(c[13],b.i64.cast([0,512])):c[13],b.fe(b.ftr(b.db.table(12).fetch([[[a[0],a[2],a[1]]]]),function(c){return b.i64.eq(c.threadKey,a[0])&&b.i64.eq(b.i64.cast([0,0]),b.i64.cast([0,0]))&&b.i64.eq(c.timestampMs,a[2])&&c.messageId===a[1]}),function(d){var e=d.update;d.item;return e({displayedContentTypes:a[4]?b.i64.cast([0,32]):b.i64.eq(c[3],b.i64.cast([0,3]))?b.i64.or_(c[14],b.i64.cast([0,8192])):c[14]})})}])},function(a){return b.resolve(d)}])}b=a;f["default"]=b}),66);
__d("LSUpsertReaction",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(8).put({threadKey:a[0],messageId:a[2],actorId:a[3],timestampMs:a[1],reaction:a[4],authorityLevel:a[5]})},function(a){return b.resolve(c)}])}b=a;f["default"]=b}),66);
__d("MAWWorkerBadStateRecovery",["QPLUserFlow","qpl","shouldUseMAWSharedWorker"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=d("shouldUseMAWSharedWorker").shouldUseMAWSharedWorker();c("QPLUserFlow").start(c("qpl")._(1056840252,"808"),{annotations:{bool:{isSharedWorker:a},string:{trigger:"hearbeat_timeout"}}});a||c("QPLUserFlow").endFailure(c("qpl")._(1056840252,"808"),"recovery_not_supported")}function b(){c("QPLUserFlow").addPoint(c("qpl")._(1056840252,"808"),"shared_worker_restart_start")}function e(){c("QPLUserFlow").addPoint(c("qpl")._(1056840252,"808"),"shared_worker_restart_success")}function f(a){c("QPLUserFlow").addPoint(c("qpl")._(1056840252,"808"),"shared_worker_restart_fail"),c("QPLUserFlow").addAnnotations(c("qpl")._(1056840252,"808"),{string:{sharedWorkerRestartFailureReason:a}})}function h(a){c("QPLUserFlow").endFailure(c("qpl")._(1056840252,"808"),a)}function i(){c("QPLUserFlow").endSuccess(c("qpl")._(1056840252,"808"))}g.workerInBadState=a;g.startSharedWorkerRestart=b;g.endSuccessSharedWorkerRestart=e;g.endFailureSharedWorkerRestart=f;g.workerRecoveryFailed=h;g.workerRecoverySucceeded=i}),98);
__d("LSResult",[],(function(a,b,c,d,e,f){"use strict";function a(a){return[a]}f["default"]=a}),66);
__d("isThreadLevelCutoverEnabled",["qex"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("qex")._("68")===!0||c("qex")._("555")===!0}g["default"]=a}),98);
__d("focusKeyboardEventPropagation",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a._stopFocusKeyboardPropagation===!0}function b(a){a._stopFocusKeyboardPropagation=!0}f.hasFocusKeyboardEventPropagationStopped=a;f.stopFocusKeyboardEventPropagation=b}),66);
__d("first",[],(function(a,b,c,d,e,f){"use strict";function a(a){for(var a=a,b=Array.isArray(a),c=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var d;if(b){if(c>=a.length)break;d=a[c++]}else{c=a.next();if(c.done)break;d=c.value}d=d;return d}return null}f["default"]=a}),66);
__d("WAProtoConst",[],(function(a,b,c,d,e,f){a={REPEATED:1<<6,PACKED:1<<7,REQUIRED:1<<8};b=31;c={INT32:1,INT64:2,UINT32:3,UINT64:4,SINT32:5,SINT64:6,BOOL:7,ENUM:8,FIXED64:9,SFIXED64:10,DOUBLE:11,STRING:12,BYTES:13,MESSAGE:14,FIXED32:15,SFIXED32:16,FLOAT:17};d={VARINT:0,BIT64:1,BINARY:2,BIT32:5};e={ONEOF:"__oneofs__",RESERVED:"__reserved__",RESERVED_TAGS:"tags",RESERVED_FIELDS:"fields"};f.FLAGS=a;f.TYPE_MASK=b;f.TYPES=c;f.ENC=d;f.KEYS=e}),66);
__d("WACommon.pb",["WAProtoConst"],(function(a,b,c,d,e,f,g){a={EVERYONE:1,SILENT:2,AI:3};b={PLACEHOLDER:0,NO_PLACEHOLDER:1,IGNORE:2};c={};e={};f={};var h={};c.internalSpec={remoteJid:[1,(d=d("WAProtoConst")).TYPES.STRING],fromMe:[2,d.TYPES.BOOL],id:[3,d.TYPES.STRING],participant:[4,d.TYPES.STRING]};e.internalSpec={commandType:[1,d.TYPES.ENUM,a],offset:[2,d.TYPES.UINT32],length:[3,d.TYPES.UINT32],validationToken:[4,d.TYPES.STRING]};f.internalSpec={text:[1,d.TYPES.STRING],mentionedJid:[2,d.FLAGS.REPEATED|d.TYPES.STRING],commands:[3,d.FLAGS.REPEATED|d.TYPES.MESSAGE,e]};h.internalSpec={payload:[1,d.TYPES.BYTES],version:[2,d.TYPES.INT32]};g.COMMAND_COMMAND_TYPE=a;g.FUTURE_PROOF_BEHAVIOR=b;g.MessageKeySpec=c;g.CommandSpec=e;g.MessageTextSpec=f;g.SubProtocolSpec=h}),98);
__d("WAArmadilloXMA.pb",["WACommon.pb","WAProtoConst"],(function(a,b,c,d,e,f,g){var h;a={INFO:0,EYE_OFF:1,NEWS_OFF:2,WARNING:3,PRIVATE:4,NONE:5,MEDIA_LABEL:6,POST_COVER:7,POST_LABEL:8,WARNING_SCREENS:9};b={OPEN_NATIVE:11};c={SINGLE:0,PORTRAIT:3,STANDARD_DXMA:12,LIST_DXMA:15};e={IG_STORY_PHOTO_MENTION:4,IG_SINGLE_IMAGE_POST_SHARE:9,IG_MULTIPOST_SHARE:10,IG_SINGLE_VIDEO_POST_SHARE:11,IG_STORY_PHOTO_SHARE:12,IG_STORY_VIDEO_SHARE:13,IG_CLIPS_SHARE:14,IG_IGTV_SHARE:15,IG_SHOP_SHARE:16,IG_PROFILE_SHARE:19,IG_STORY_PHOTO_HIGHLIGHT_SHARE:20,IG_STORY_VIDEO_HIGHLIGHT_SHARE:21,IG_STORY_REPLY:22,IG_STORY_REACTION:23,IG_STORY_VIDEO_MENTION:24,IG_STORY_HIGHLIGHT_REPLY:25,IG_STORY_HIGHLIGHT_REACTION:26,IG_EXTERNAL_LINK:27,IG_RECEIVER_FETCH:28,FB_FEED_SHARE:1e3,FB_STORY_REPLY:1001,FB_STORY_SHARE:1002,FB_STORY_MENTION:1003,FB_FEED_VIDEO_SHARE:1004,FB_GAMING_CUSTOM_UPDATE:1005,FB_PRODUCER_STORY_REPLY:1006,FB_EVENT:1007,FB_FEED_POST_PRIVATE_REPLY:1008,FB_SHORT:1009,FB_COMMENT_MENTION_SHARE:1010,MSG_EXTERNAL_LINK_SHARE:2e3,MSG_P2P_PAYMENT:2001,MSG_LOCATION_SHARING:2002,MSG_LOCATION_SHARING_V2:2003,MSG_HIGHLIGHTS_TAB_FRIEND_UPDATES_REPLY:2004,MSG_HIGHLIGHTS_TAB_LOCAL_EVENT_REPLY:2005,MSG_RECEIVER_FETCH:2006,MSG_IG_MEDIA_SHARE:2007,MSG_GEN_AI_SEARCH_PLUGIN_RESPONSE:2008,MSG_REELS_LIST:2009,MSG_CONTACT:2010,RTC_AUDIO_CALL:3e3,RTC_VIDEO_CALL:3001,RTC_MISSED_AUDIO_CALL:3002,RTC_MISSED_VIDEO_CALL:3003,RTC_GROUP_AUDIO_CALL:3004,RTC_GROUP_VIDEO_CALL:3005,RTC_MISSED_GROUP_AUDIO_CALL:3006,RTC_MISSED_GROUP_VIDEO_CALL:3007,DATACLASS_SENDER_COPY:4e3};f={};var i={};f.internalSpec={associatedMessage:[1,(h=d("WAProtoConst")).TYPES.MESSAGE,(d=d("WACommon.pb")).SubProtocolSpec],targetType:[2,h.TYPES.ENUM,e],targetUsername:[3,h.TYPES.STRING],targetId:[4,h.TYPES.STRING],targetExpiringAtSec:[5,h.TYPES.INT64],xmaLayoutType:[6,h.TYPES.ENUM,c],ctas:[7,h.FLAGS.REPEATED|h.TYPES.MESSAGE,i],previews:[8,h.FLAGS.REPEATED|h.TYPES.MESSAGE,d.SubProtocolSpec],titleText:[9,h.TYPES.STRING],subtitleText:[10,h.TYPES.STRING],maxTitleNumOfLines:[11,h.TYPES.UINT32],maxSubtitleNumOfLines:[12,h.TYPES.UINT32],favicon:[13,h.TYPES.MESSAGE,d.SubProtocolSpec],headerImage:[14,h.TYPES.MESSAGE,d.SubProtocolSpec],headerTitle:[15,h.TYPES.STRING],overlayIconGlyph:[16,h.TYPES.ENUM,a],overlayTitle:[17,h.TYPES.STRING],overlayDescription:[18,h.TYPES.STRING],sentWithMessageId:[19,h.TYPES.STRING],messageText:[20,h.TYPES.STRING],headerSubtitle:[21,h.TYPES.STRING],xmaDataclass:[22,h.TYPES.STRING],contentRef:[23,h.TYPES.STRING]};i.internalSpec={buttonType:[1,h.TYPES.ENUM,b],title:[2,h.TYPES.STRING],actionUrl:[3,h.TYPES.STRING],nativeUrl:[4,h.TYPES.STRING],ctaType:[5,h.TYPES.STRING]};g.EXTENDED_CONTENT_MESSAGE_OVERLAY_ICON_GLYPH=a;g.EXTENDED_CONTENT_MESSAGE_CTA_BUTTON_TYPE=b;g.EXTENDED_CONTENT_MESSAGE_XMA_LAYOUT_TYPE=c;g.EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE=e;g.ExtendedContentMessageSpec=f;g.ExtendedContentMessage$CTASpec=i}),98);
__d("LSInstagramE2EEEligibility",[],(function(a,b,c,d,e,f){a=Object.freeze({UNKNOWN:-1,INELIGIBLE:0,ELIGIBLE:1,REQUIRED:2,DUAL_SEND_ELIGIBLE:3,GROUPS_ELIGIBLE:4});f["default"]=a}),66);/*FB_PKG_DELIM*/
__d("PolarisAPIGetFrCookieQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"_request_data"},{defaultValue:null,kind:"LocalArgument",name:"payload"}],b=[{alias:null,args:[{kind:"Variable",name:"_request_data",variableName:"_request_data"},{kind:"Variable",name:"payload",variableName:"payload"}],concreteType:"XDTGetEncryptedCredentialsResponse",kind:"LinkedField",name:"xdt_api__v1__web__accounts__get_encrypted_credentials",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fr",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"PolarisAPIGetFrCookieQuery",selections:b,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"PolarisAPIGetFrCookieQuery",selections:b},params:{id:"6534825339958064",metadata:{},name:"PolarisAPIGetFrCookieQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("PolarisAPIGetFrCookie",["CometRelay","PolarisAPIGetFrCookieQuery.graphql","PolarisInstapi","err","justknobx"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h!==void 0?h:h=b("PolarisAPIGetFrCookieQuery.graphql");function a(a,b){return c("justknobx")._("999")?d("CometRelay").fetchQuery(b,i,{_request_data:{},payload:a}).toPromise().then(function(a){if(a==null)throw c("err")("Failed to get Fr cookie.");return{fr:a.xdt_api__v1__web__accounts__get_encrypted_credentials.fr}}):d("PolarisInstapi").apiPost("/api/v1/web/accounts/get_encrypted_credentials/",{body:{payload:a}}).then(function(a){return a.data})}g.getFrCookie=a}),98);
__d("buildIframeOriginUrl",["URI"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){return a}g["default"]=a}),98);
__d("PolarisFacebookCookieSyncConstants",["URI","buildIframeOriginUrl"],(function(a,b,c,d,e,f,g){"use strict";var h;a={error:"ig_iframe_error",ig_sync:"ig_iframe_ig_sync",ig_sync_error:"ig_iframe_ig_sync_error",ig_sync_success:"ig_iframe_ig_sync_success",ready:"ig_iframe_ready",success:"ig_iframe_success",sync:"ig_iframe_fb_sync"};b=c("buildIframeOriginUrl")("https://www.facebook.com");d=new(h||(h=c("URI")))(b).getDomain();e="fr";g.IFRAME_MESSAGES=a;g.IFRAME_ORIGIN=b;g.IFRAME_DOMAIN=d;g.FR_COOKIE_UPDATED_LOCAL_STORAGE_KEY=e}),98);
__d("IgFrCookieUpdaterFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5694");b=d("FalcoLoggerInternal").create("ig_fr_cookie_updater",a);e=b;g["default"]=e}),98);
__d("SecureMessageListener",["SecurePostMessage","URI"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){function a(a){var b=this;this.$3=null;this.$4=!1;this.$1=a;this.$5=function(a){b.run(a)}}var b=a.prototype;b.setEventHandler=function(a){this.$2=a;return this};b.setSupportedOrigins=function(a){this.$3=a;return this};b.skipOriginCheck_UNSAFE=function(){this.$4=!0;return this};b.beginListening=function(){this.$1.addEventListener("message",this.$5);return this};b.stopListening=function(){this.$1.removeEventListener("message",this.$5);return this};b.run=function(a){if(this.$3==null||this.$3.length===0){if(!this.$4&&a.origin!==this.$1.location.origin)return}else if(!this.isSupportedOrigin(this.$3,a.origin))return;if(this.$2)if(this.$2.length==1)this.$2(a);else{var b=function(b){d("SecurePostMessage").sendMessageToSpecificOrigin(a.source,b,a.origin)};this.$2(a,b)}};b.isSupportedOrigin=function(a,b){if(!new RegExp("^https://").test(b))return!1;var d=new(h||(h=c("URI")))(b);return a.some(function(a){return d.isSubdomainOfDomain(a)})};return a}();g["default"]=a}),98);
__d("XPolarisFacebookSyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/sync/instagram/",{})}),null);
__d("PolarisFacebookToInstagramCookieSync.react",["FBLogger","InstagramODS","PolarisFacebookCookieSyncConstants","SecureMessageListener","SecurePostMessage","XAsyncRequest","XPolarisFacebookSyncController","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useEffect;function a(a){var b=a.frameRef,e=a.onCleanUp;i(function(){var a=function(){c("InstagramODS").incr("web.cookie_sync.oo_cookie.start_fb_sync");var a=b.current;(a==null?void 0:a.contentWindow)!=null&&d("SecurePostMessage").sendMessageToSpecificOrigin(a.contentWindow,{eventName:d("PolarisFacebookCookieSyncConstants").IFRAME_MESSAGES.ig_sync},d("PolarisFacebookCookieSyncConstants").IFRAME_ORIGIN)},f=function(b){if(b.origin!==d("PolarisFacebookCookieSyncConstants").IFRAME_ORIGIN)return;var f=b.data.eventName;switch(f){case d("PolarisFacebookCookieSyncConstants").IFRAME_MESSAGES.ready:a();break;case d("PolarisFacebookCookieSyncConstants").IFRAME_MESSAGES.ig_sync_success:c("InstagramODS").incr("web.cookie_sync.oo_cookie.retrieve_success");f=c("XPolarisFacebookSyncController").getURIBuilder().getURI();new(c("XAsyncRequest"))().setURI(f).setMethod("POST").setData({encrypted_data:(f=b.data.data)==null?void 0:f.data}).setHandler(function(a){c("InstagramODS").incr("web.cookie_sync.oo_cookie.sync_success")}).setErrorHandler(function(a){c("InstagramODS").incr("web.cookie_sync.oo_cookie.sync_fail");a=(a=a.errorDescription)!=null?a:"Error when syncing ig cookies";c("FBLogger")("ig_web").mustfix(a)}).send();e();break;case d("PolarisFacebookCookieSyncConstants").IFRAME_MESSAGES.ig_sync_error:c("InstagramODS").incr("web.cookie_sync.oo_cookie.retrieve_error");b=(f=b.data.errorDescription)!=null?f:"Exception thrown when syncing cookie to sync ig cookie";c("FBLogger")("ig_web").mustfix(b);e()}},g=new(c("SecureMessageListener"))(window).setEventHandler(f).setSupportedOrigins([d("PolarisFacebookCookieSyncConstants").IFRAME_DOMAIN]).beginListening();return function(){g.stopListening()}},[b,e]);return null}g["default"]=a}),98);
__d("PolarisInstagramToFacebookCookieSync.react",["CometRelay","FBLogger","IgFrCookieUpdaterFalcoEvent","InstagramODS","PolarisAPIGetFrCookie","PolarisDOMListener.react","PolarisFacebookCookieSyncConstants","PolarisWebStorage","SecurePostMessage","browserHistory","gkx","react","usePolarisViewer"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useEffect,k=b.useRef,l=Number(new Date().getTime());function m(a){var b=new Date().getTime()-l;a.total_latency=b.toString();c("IgFrCookieUpdaterFalcoEvent").log(function(){return a})}function a(a){var b=a.frameRef,e=a.frData,f=a.onCleanUp,g=c("gkx")("4906");a=(a=c("usePolarisViewer")())==null?void 0:a.id;var h=d("browserHistory").getPath(d("browserHistory").browserHistory),l=d("CometRelay").useRelayEnvironment();h=k({browser_history_path:h,iframe_origin:d("PolarisFacebookCookieSyncConstants").IFRAME_ORIGIN,ig_user_id:a,is_blacklisted:!1,is_control_group:!1,is_local_storage_accessible:!1,local_storage_data:e,local_storage_same_as_api:!0,local_storage_updated:!1,show_iframe:!1});var n=h.current;j(function(){g||(n.is_blacklisted=!0,m(n),f())},[]);a=function(a){var b=a.data.eventName;n.iframe_message_origin=a.origin;if(a.origin!==d("PolarisFacebookCookieSyncConstants").IFRAME_ORIGIN){b in d("PolarisFacebookCookieSyncConstants").IFRAME_MESSAGES&&(n.iframe_message_origin_mismatch=!0,m(n));return}switch(b){case d("PolarisFacebookCookieSyncConstants").IFRAME_MESSAGES.ready:c("InstagramODS").incr("web.frcookie.iframe.ready");n.iframe_message_ready=!0;o();break;case d("PolarisFacebookCookieSyncConstants").IFRAME_MESSAGES.success:c("InstagramODS").incr("web.frcookie.iframe.success");n.iframe_message_success=!0;m(n);f();break;case d("PolarisFacebookCookieSyncConstants").IFRAME_MESSAGES.error:c("InstagramODS").incr("web.frcookie.iframe.error");p();n.iframe_message_error=!0;m(n);break}};var o=function(){n.iframe_non_null=!1;n.iframe_content_window_non_null=!1;var a=b.current;if(a==null)return;e==null&&c("InstagramODS").incr("web.frcookie.local_storage.empty");d("PolarisAPIGetFrCookie").getFrCookie(e,l).then(function(b){n.api_data=b.fr;if(b.fr===e){m(n);f();return}n.local_storage_same_as_api=!1;var g=c("PolarisWebStorage").getLocalStorage();if(g==null){m(n);f();return}n.is_local_storage_accessible=!0;if(b.fr===""){g.removeItem(d("PolarisFacebookCookieSyncConstants").FR_COOKIE_UPDATED_LOCAL_STORAGE_KEY);c("InstagramODS").incr("web.frcookie.local_storage.remove");m(n);f();return}g.setItem(d("PolarisFacebookCookieSyncConstants").FR_COOKIE_UPDATED_LOCAL_STORAGE_KEY,b.fr);n.show_iframe=!0;n.local_storage_updated=!0;n.iframe_payload=b.fr;n.iframe_non_null=!0;a.contentWindow!=null&&(n.iframe_content_window_non_null=!0,d("SecurePostMessage").sendMessageToSpecificOrigin(a.contentWindow,{data:b.fr,eventName:d("PolarisFacebookCookieSyncConstants").IFRAME_MESSAGES.sync},d("PolarisFacebookCookieSyncConstants").IFRAME_ORIGIN));c("InstagramODS").incr("web.frcookie.local_storage.update")})["catch"](function(a){c("InstagramODS").incr("web.frcookie.get.error"),n.exception=a.toString(),m(n),c("FBLogger")("ig_web").catching(a).mustfix("Exception thrown when getting frCookie"),p()})},p=function(){var a=c("PolarisWebStorage").getLocalStorage();c("PolarisWebStorage").isLocalStorageSupported()&&a!=null&&a.removeItem(d("PolarisFacebookCookieSyncConstants").FR_COOKIE_UPDATED_LOCAL_STORAGE_KEY);f()};return g&&i.jsx(c("PolarisDOMListener.react"),{event:"message",handler:a,target:window})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisFacebookCookieSyncImpl.react",["IgFrCookieUpdaterFalcoEvent","JSScheduler","PolarisDOMListener.react","PolarisFacebookCookieSyncConstants","PolarisFacebookToInstagramCookieSync.react","PolarisInstagramToFacebookCookieSync.react","PolarisReactRedux","PolarisUA","PolarisWebStorage","RunComet","browserHistory","react","usePolarisViewer"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));b=i;var k=b.useEffect,l=b.useRef,m=b.useState,n=d("PolarisFacebookCookieSyncConstants").IFRAME_ORIGIN+"/instagram/login_sync/",o=["terms","challenge"],p=3,q=Number(new Date().getTime());function r(a){var b=new Date().getTime()-q;a.total_latency=b.toString();c("IgFrCookieUpdaterFalcoEvent").log(function(){return a})}var s=function(){if(!d("PolarisUA").isIGWebview()&&c("PolarisWebStorage").isLocalStorageSupported()){var a=c("PolarisWebStorage").getLocalStorage();if(a!=null)return a.getItem(d("PolarisFacebookCookieSyncConstants").FR_COOKIE_UPDATED_LOCAL_STORAGE_KEY)}return null};function t(a){var b;a=a.frData;var e=l(null);b=(b=c("usePolarisViewer")())==null?void 0:b.id;b=l({browser_history_path:d("browserHistory").getPath(d("browserHistory").browserHistory),iframe_origin:d("PolarisFacebookCookieSyncConstants").IFRAME_ORIGIN,ig_user_id:b,is_blacklisted:!1,is_control_group:!1,is_local_storage_accessible:!1,local_storage_data:a,local_storage_same_as_api:!0,local_storage_updated:!1,show_iframe:!1});var f=b.current;b=function(){f.iframe_unload=!0};var g=m(!1),i=g[0],o=g[1];k(function(){var a=null,b=null,e=d("RunComet").onAfterLoad(function(){a=(h||(h=c("JSScheduler"))).scheduleLoggingPriCallback(function(){b=window.setTimeout(function(){o(!0)},p*1e3)})});return function(){b&&window.clearTimeout(b),a&&(h||(h=c("JSScheduler"))).cancelCallback(a),e&&e.remove()}},[]);g=m(!1);var q=g[0],s=g[1];g=m(!1);var t=g[0],u=g[1];g=q&&t;return!i?null:j.jsxs(j.Fragment,{children:[j.jsx("div",{hidden:!0,children:j.jsx("iframe",{onError:function(){f.iframe_on_error=!0,r(f)},onLoad:function(){f.iframe_on_load=!0},ref:e,src:n,style:{border:"none",display:"none",height:0,width:0},title:"fr"})}),g?null:j.jsxs(j.Fragment,{children:[j.jsx(c("PolarisInstagramToFacebookCookieSync.react"),{frameRef:e,frData:a,onCleanUp:function(){return s(!0)}}),j.jsx(c("PolarisFacebookToInstagramCookieSync.react"),{frameRef:e,onCleanUp:function(){return u(!0)}}),j.jsx(c("PolarisDOMListener.react"),{event:"beforeunload",handler:b,target:window})]})]})}t.displayName=t.name+" [from "+f.id+"]";function a(){var a,b=d("PolarisReactRedux").useSelector(function(a){return!!(a==null?void 0:(a=a.cookieModal)==null?void 0:a.visible)});a=(a=c("usePolarisViewer")())==null?void 0:a.id;if(b)return null;var e=d("browserHistory").getPath(d("browserHistory").browserHistory);if(o.some(function(a){return e.includes(a)})){r({browser_history_path:e,iframe_origin:d("PolarisFacebookCookieSyncConstants").IFRAME_ORIGIN,ig_user_id:a,is_blacklisted:!0,is_control_group:!1,is_local_storage_accessible:!1,local_storage_same_as_api:!0,local_storage_updated:!1,show_iframe:!1});return null}return j.jsx(t,{frData:s()})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("PolarisDesktopPostLoadingShimmer.react",["cx","PolarisIGTheme.react","PolarisReactRedux","PolarisSizing","polarisPostModalHelpers","polarisPostSelectors","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function k(a){var b,c=a.dimensions,e=a.postId,f=a.viewportHeight;a=a.viewportWidth;var g=a!=null&&a>d("PolarisSizing").MEDIUM_SCREEN_MIN;b=(b=d("PolarisReactRedux").useSelector(function(a){return d("polarisPostSelectors").getPostOrNullById(a,(a=e)!=null?a:"")}))==null?void 0:b.isSponsored;b=d("polarisPostModalHelpers").getMediaContainerProps({dimensions:c,hasFooter:b,hasSidebarInRedesign:g,viewportHeight:(b=f)!=null?b:0,viewportWidth:(f=a)!=null?f:0});return j.jsx("div",babelHelpers["extends"]({className:"_aas3"+(g&&c!=null&&c.width>=c.height?" _aas4":"")},b,{children:j.jsx(l,{dimensions:c})}))}k.displayName=k.name+" [from "+f.id+"]";function l(a){a=a.dimensions;var b={},c=d("PolarisIGTheme.react").useTheme();a&&(b.paddingBottom=d("PolarisSizing").getHeightPercent(a)+"%");return j.jsx("div",{className:"_aas5"+(c.getTheme()===d("PolarisIGTheme.react").IGTheme.Dark?" _aas6":""),style:b})}l.displayName=l.name+" [from "+f.id+"]";function m(a){var b=a.dimensions,c=a.postId,d=a.viewportHeight;a=a.viewportWidth;return j.jsx(k,{dimensions:b,postId:c,viewportHeight:d,viewportWidth:a})}m.displayName=m.name+" [from "+f.id+"]";function a(a){var b=a.dimensions,c=a.postId,d=a.viewportHeight;a=a.viewportWidth;var e={};b&&(e={flexDirection:"row"});return j.jsxs("div",{className:"_aas7",style:e,children:[j.jsx(m,{dimensions:b,postId:c,viewportHeight:d,viewportWidth:a}),j.jsxs("div",{className:"_aas8",children:[j.jsxs("div",{className:"_aas9",children:[j.jsx("div",{className:"_aasa"}),j.jsxs("div",{className:"_aasb",children:[j.jsx("div",{className:"_aasc"}),j.jsx("div",{className:"_aasd"})]})]}),j.jsxs("div",{className:"_aase",children:[j.jsx("div",{className:"_aasf"}),j.jsx("div",{className:"_aasg"}),j.jsx("div",{className:"_aash"})]})]})]})}a.displayName=a.name+" [from "+f.id+"]";g.SIDEBAR_VARIANT_CUTOFF=d("PolarisSizing").MEDIUM_SCREEN_MIN;g.DesktopPostLoadingShimmer=a}),98);
__d("PolarisPostModalLoading.react",["IGDSBox.react","IGDSSpinner.react","PolarisDesktopPostLoadingShimmer.react","PolarisPostConstants","PolarisUA","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.dimensions,e=a.postId,f=a.viewportHeight;a=a.viewportWidth;return d("PolarisUA").isDesktop()&&a>d("PolarisPostConstants").SIDEBAR_VARIANT_CUTOFF?i.jsx(d("PolarisDesktopPostLoadingShimmer.react").DesktopPostLoadingShimmer,{dimensions:b,postId:e,viewportHeight:f,viewportWidth:a}):i.jsx(c("IGDSBox.react"),{alignItems:"center",position:"relative",children:i.jsx(c("IGDSSpinner.react"),{color:"light",size:"medium"})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisPostModalPaginationArrow.react",["cx","IGDSChevronIcon","Locale","PolarisGenericStrings","PolarisIGCoreSVGIconButton","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=a.direction;a=a.onClick;var e=c("Locale").isRTL(),f=b==="back"&&!e||b==="next"&&e;e=b==="next"&&!e||b==="back"&&e;return j.jsx("div",{className:(f?"_aaqf":"")+(e?" _aaqg":"")+" _aaqh",children:j.jsx(c("PolarisIGCoreSVGIconButton"),{onClick:a,children:j.jsx(c("IGDSChevronIcon"),{alt:f?d("PolarisGenericStrings").GO_BACK:d("PolarisGenericStrings").NEXT,color:"web-always-black",direction:b,size:16})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisPostModalInternal.react",["cx","IGCoreModal","IGCoreModalLocation","PolarisAutoplayViewpointManager.react","PolarisConfig","PolarisDOMListener.react","PolarisLogger","PolarisPostActionLoadPost","PolarisPostModalLoading.react","PolarisPostModalPaginationArrow.react","PolarisPostModalRenderingContext","PolarisReactRedux","PolarisRoutes","PolarisThreadedCommentActions","getPolarisKeyCommandConfig","nullthrows","polarisPostModalHelpers","polarisPostSelectors","react","useGlobalKeyCommands","usePolarisDisplayProperties"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;var k=b.useCallback,l=b.useEffect,m=b.useMemo,n=b.useRef,o={isInModal:!0};function a(a){var b=a.analyticsContext,e=a.children,f=a.combinedPostIds,g=f===void 0?[]:f;f=a["data-testid"];f=a.dimensions;var h=a.mediaLinkBuilder,i=a.modalEntryPath;i=i===void 0?d("PolarisRoutes").FEED_PATH:i;var p=a.onClose,q=a.onlyReplaceModalHistory,r=a.onOpen,s=a.postCode,t=a.postId,u=a.showLoadingShimmer,v=a.skipMediaInfo,w=d("PolarisReactRedux").useDispatch(),x=n(null);a=d("PolarisReactRedux").useSelector(function(a){return d("polarisPostSelectors").getAreCommentsFetched(a,t)});var y=d("PolarisReactRedux").useSelector(function(a){return d("polarisPostSelectors").getIsPostDataFetched(a,s)}),z=d("PolarisConfig").isLoggedIn()===!0?y:y&&a;y=k(function(){z||(v===!0?w(d("PolarisThreadedCommentActions").requestInitialComments(t)):w(d("PolarisPostActionLoadPost").loadPost(s,t)))},[v,z,w,s,t]);l(y,[y]);var A=g.findIndex(function(a){return a===t}),B=k(function(a){return a>=0&&a<g.length},[g.length]),C=k(function(a){a=A+a;B(a)&&r&&r(c("nullthrows")(g[a]),a)},[g,A,B,r]),D=k(function(a){p(a),x.current!=null&&x.current.returnToEntry()},[p]);a=m(function(){return[d("getPolarisKeyCommandConfig").getPolarisKeyCommandConfig("postModal","navigateLeft",function(){C(d("polarisPostModalHelpers").LEFT_DELTA)}),d("getPolarisKeyCommandConfig").getPolarisKeyCommandConfig("postModal","navigateRight",function(){C(d("polarisPostModalHelpers").RIGHT_DELTA)}),d("getPolarisKeyCommandConfig").getPolarisKeyCommandConfig("postModal","exit",function(){D()})]},[C,D]);c("useGlobalKeyCommands")(a);y=function(a){return function(b){if(b.metaKey||b.ctrlKey)return;b.preventDefault();b.stopPropagation();C(a);d("PolarisLogger").logAction("postModalArrowClick")}};a=k(function(){var a=d("polarisPostModalHelpers").getModalPageIdFromAnalyticsContext(b);a.length>0&&d("PolarisLogger").logPageView(a,{page_id:a,post_id:t})},[b,t]);var E=B(A-1),F=B(A+1);E=j.jsx("div",{className:"_aeap _aeaq",children:j.jsxs("div",{className:"_aear",children:[E&&j.jsx(c("PolarisPostModalPaginationArrow.react"),{direction:"back",onClick:y(d("polarisPostModalHelpers").LEFT_DELTA)}),F&&j.jsx(c("PolarisPostModalPaginationArrow.react"),{direction:"next",onClick:y(d("polarisPostModalHelpers").RIGHT_DELTA)})]})});F=c("usePolarisDisplayProperties")();y=F.viewportHeight;F=F.viewportWidth;u=j.jsx(j.Fragment,{children:!z&&u?j.jsx(c("PolarisPostModalLoading.react"),{dimensions:f,postId:t,viewportHeight:y,viewportWidth:F}):e});f=j.jsx(c("IGCoreModal"),{aboveContent:E,backgroundColor:"DEPRECATED_transparent",closeButtonPosition:"background","data-testid":void 0,onClose:D,size:"fullscreenResponsive",children:u});return j.jsxs(j.Fragment,{children:[j.jsx(d("PolarisAutoplayViewpointManager.react").FullscreenAutoplayViewpointClipRegion,{id:"postModal"}),j.jsx(c("IGCoreModalLocation"),{entryPath:i,nativeReplace:!0,onlyReplaceModalHistory:q,onUpdateHistory:a,pageID:"postPage",parentModule:"PolarisPostModal",path:h(s),ref:x}),j.jsx(c("PolarisDOMListener.react"),{event:"popstate",handler:D,once:!0,target:window}),j.jsx(d("PolarisPostModalRenderingContext").PolarisPostModalRenderingContext.Provider,{value:o,children:f})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisProfileTabTaggedPhotosConstants",[],(function(a,b,c,d,e,f){"use strict";a="tagged";f.TAGGED_TAB_ID=a}),66);
__d("PolarisInstantPostModal.react",["PolarisPostModalInternal.react","PolarisProfileTabTaggedPhotosConstants","polarisPostModalHelpers","polarisPostSelectors","react","usePolarisSelector"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b,e=!1,f=d("polarisPostModalHelpers").getModalPageIdFromAnalyticsContext(a.analyticsContext)==="profilePageModal";b=((b=a.modalEntryPath)==null?void 0:b.endsWith("/"+d("PolarisProfileTabTaggedPhotosConstants").TAGGED_TAB_ID+"/"))===!0;f=a.skipMediaInfo!=null?a.skipMediaInfo:f&&!b;var g=c("usePolarisSelector")(function(b){return d("polarisPostSelectors").getPostOrNullById(b,a.postId)});(g==null||b&&g.isVideo===!0)&&(e=!0);return i.jsx(c("PolarisPostModalInternal.react"),babelHelpers["extends"]({},a,{showLoadingShimmer:e,skipMediaInfo:f}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisDynamicExplorePostModal.react",["PolarisDynamicExploreMediaHelpers","PolarisDynamicExploreTypes","PolarisInstantPostModal.react","PolarisIsLoggedInDesktop","PolarisLinkBuilder","PolarisPost.react","PolarisReactRedux","polarisDynamicExploreSelectors","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.analyticsContext,e=a.exploreGridQuery,f=a.exploreGridType,g=a.modalEntryPath,h=a.onClose,j=a.onOpen,k=a.postId;a=d("PolarisReactRedux").useSelector(function(a){return d("polarisDynamicExploreSelectors").getPostModalCompatibleGridItemIds(a,f,e)});var l=d("PolarisReactRedux").useSelector(function(a){return d("polarisDynamicExploreSelectors").getGridItems(a,f,e).find(function(a){return d("PolarisDynamicExploreMediaHelpers").getPostId(a)===k})});return l!=null&&i.jsx(c("PolarisInstantPostModal.react"),{analyticsContext:b,combinedPostIds:a,dimensions:d("PolarisDynamicExploreMediaHelpers").getPostDimensions(l),mediaLinkBuilder:d("PolarisLinkBuilder").buildMediaLink,modalEntryPath:g,onClose:h,onlyReplaceModalHistory:f===d("PolarisDynamicExploreTypes").DYNAMIC_EXPLORE_GRID_TYPES.keyword_grid,onOpen:j,postCode:d("PolarisDynamicExploreMediaHelpers").getPostCode(l),postId:k,children:i.jsx(c("PolarisPost.react"),{analyticsContext:b+"Modal",autoplay:d("PolarisIsLoggedInDesktop").isLoggedInDesktop(),id:k,isVisible:!0,visiblePosition:0})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisMediaBrowserPostModal.react",["invariant","PolarisInstantPostModal.react","PolarisIsLoggedInDesktop","PolarisPost.react","PolarisPostVariants","PolarisReactRedux","PolarisRoutes","isStringNullOrEmpty","nullthrows","polarisPostSelectors","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react")),k=i.useEffect;function a(a){var b=a.analyticsContext,e=a.combinedPosts,f=a.mediaLinkBuilder,g=a.modalEntryPath,i=a.onClose,l=a.onOpen,m=a.postId,n=d("PolarisReactRedux").useSelector(function(a){return d("polarisPostSelectors").getDeletedIds(a)});a=e.map(function(a){return a.id});var o=d("PolarisReactRedux").useSelector(function(a){return d("polarisPostSelectors").getPostOrNullById(a,m)});k(function(){o==null&&(n.includes(m)||h(0,51476),i())},[n,i,o,m]);return o==null?null:j.jsx(c("PolarisInstantPostModal.react"),{analyticsContext:b,combinedPostIds:a,dimensions:o.dimensions,mediaLinkBuilder:f,modalEntryPath:c("isStringNullOrEmpty")(g)?d("PolarisRoutes").FEED_PATH:g,onClose:i,onOpen:l,postCode:c("nullthrows")(o.code),postId:m,children:j.jsx(c("PolarisPost.react"),{analyticsContext:b+"Modal",autoplay:d("PolarisIsLoggedInDesktop").isLoggedInDesktop(),id:m,isVisible:!0,shortcode:o.code,testid:void 0,variant:d("PolarisPostVariants").VARIANTS.flexible,visiblePosition:0})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisPostModal.react",["PolarisPostModalInternal.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsx(c("PolarisPostModalInternal.react"),babelHelpers["extends"]({},a,{showLoadingShimmer:!0}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisClipsItemModal.react",["IGRouter","PolarisClipsHelpers","PolarisLinkBuilder","PolarisPost.react","PolarisPostModal.react","PolarisPostVariants","nullthrows","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useRef;function a(a){var b=a.analyticsContext,e=a.clips,f=a.history,g=a.onClose,h=a.onOpen;a=a.postId;f=j(f.location.pathname);var k=d("PolarisClipsHelpers").getClipItemFromPostID(e,a);if(!k)return null;e=e.map(function(a){return c("nullthrows")((a=a.media)==null?void 0:a.pk)});return i.jsx(c("PolarisPostModal.react"),{analyticsContext:b,combinedPostIds:e,dimensions:d("PolarisClipsHelpers").getClipDimensionsFromItemDict(k),mediaLinkBuilder:d("PolarisLinkBuilder").buildClipsMediaLink,modalEntryPath:f.current,onClose:g,onOpen:h,postCode:c("nullthrows")((e=k.media)==null?void 0:e.code),postId:a,children:i.jsx(c("PolarisPost.react"),{analyticsContext:b+"Modal",autoplay:!0,id:a,isVisible:!0,variant:d("PolarisPostVariants").VARIANTS.flexible,visiblePosition:0})})}a.displayName=a.name+" [from "+f.id+"]";b=d("IGRouter").withIGRouter(a);g["default"]=b}),98);/*FB_PKG_DELIM*/
__d("LSDataTraceFlushDeferred",["MetaConfig","Promise","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i=c("requireDeferred")("LSDataTraceFlush").__setRef("LSDataTraceFlushDeferred");function a(a){if(!c("MetaConfig")._("62"))return(h||(h=b("Promise"))).resolve(function(){});else return i.load().then(function(b){return b.flushExpiredDataTraces(a)})}g.watchForExpiredTraces=a}),98);
__d("LSClearEpochBeforeResumeSync",["Promise","ReQL"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){return a.runInTransaction(function(a){var c;return(c=d("ReQL")).toArrayAsync(c.mergeJoin(c.fromTableAscending(a.table("sync_groups")),c.fromTableAscending(a.table("network_requests")).getKeyRange(""))).then(function(c){return(h||(h=b("Promise"))).all(c.map(function(b){b=b[1];return a.table("network_requests").put({epochId:void 0,failureCount:b.failureCount,lastDelayedRequestTimestampMs:b.lastDelayedRequestTimestampMs,lastSentTimestampMs:b.lastSentTimestampMs,lastSyncRequestTimestampMs:b.lastSyncRequestTimestampMs,networkTaskIdentifier:b.networkTaskIdentifier,syncDatabaseId:b.syncDatabaseId,taskQueueName:b.taskQueueName})}))}).then(function(){return d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.table("network_requests")).filter(function(a){return a.taskQueueName!==""})).then(function(c){return(h||(h=b("Promise"))).all(c.map(function(b){return a.table("network_requests").put({epochId:void 0,failureCount:b.failureCount,lastDelayedRequestTimestampMs:b.lastDelayedRequestTimestampMs,lastSentTimestampMs:b.lastSentTimestampMs,lastSyncRequestTimestampMs:b.lastSyncRequestTimestampMs,networkTaskIdentifier:b.networkTaskIdentifier,syncDatabaseId:b.syncDatabaseId,taskQueueName:b.taskQueueName})}))})})},"readwrite","ui").then(function(){return(h||(h=b("Promise"))).resolve()})}g.call=a}),98);
__d("LSPlatformArmadilloUtils",["MAWTTRCSafe","cr:6998","cr:7349"],(function(a,b,c,d,e,f,g){"use strict";var h=(f=b("cr:6998"))!=null?f:b("cr:7349");function a(){h==null?void 0:h.maybeEndOccamadilloThreadMapping()}function c(){d("MAWTTRCSafe").markEvent("ls_init_end")}function e(a){d("MAWTTRCSafe").fail("init_sync_failure",a)}g.maybeEndOccamadilloThreadMapping=a;g.reportInitEnd=c;g.reportInitSyncFailure=e}),98);
__d("LSPlatformHardcodedInitSync",["CurrentMessengerUser","FBLogger","I64","InteractionTracing.xplat","LSDatabaseProviderType","LSDict","LSIntEnum","LSJson","LSPlatformArmadilloUtils","LSPlatformGraphQLTransport","LSPlatformLsInitLog","MWPBumpEntityKey","MetaConfig","Promise","QuickPerformanceLogger","ReQL","asyncToGeneratorRuntime","getErrorSafe","gkx","isArmadillo","isInstamadillo","isRegisterArmadilloOnIgEnabled","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=c("isArmadillo")()||c("isRegisterArmadilloOnIgEnabled")()&&!c("isInstamadillo")(),m=!d("CurrentMessengerUser").isWorkUser()||!c("gkx")("3944");function n(a){return a.runInTransaction(function(a){return(k||(k=b("Promise"))).all([a.table("network_requests").put({epochId:void 0,failureCount:(i||(i=d("I64"))).zero,lastDelayedRequestTimestampMs:void 0,lastSentTimestampMs:i.zero,lastSyncRequestTimestampMs:i.zero,networkTaskIdentifier:void 0,syncDatabaseId:(j||(j=d("LSIntEnum"))).ofNumber(1),taskQueueName:""}),m?a.table("network_requests").put({epochId:void 0,failureCount:(i||(i=d("I64"))).zero,lastDelayedRequestTimestampMs:void 0,lastSentTimestampMs:(i||(i=d("I64"))).zero,lastSyncRequestTimestampMs:(i||(i=d("I64"))).zero,networkTaskIdentifier:void 0,syncDatabaseId:(j||(j=d("LSIntEnum"))).ofNumber(2),taskQueueName:""}):(k||(k=b("Promise"))).resolve(),l?a.table("network_requests").put({epochId:void 0,failureCount:(i||(i=d("I64"))).zero,lastDelayedRequestTimestampMs:void 0,lastSentTimestampMs:(i||(i=d("I64"))).zero,lastSyncRequestTimestampMs:(i||(i=d("I64"))).zero,networkTaskIdentifier:void 0,syncDatabaseId:(j||(j=d("LSIntEnum"))).ofNumber(95),taskQueueName:""}):(k||(k=b("Promise"))).resolve()])},"readwrite").then(function(){return(k||(k=b("Promise"))).resolve()})}function o(a,b){return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.table("network_requests")).getKeyRange("",(j||(j=d("LSIntEnum"))).ofNumber(b)))}function p(a){return a.runInTransaction(function(a){return(k||(k=b("Promise"))).all([o(a,1),m?o(a,2):(k||(k=b("Promise"))).resolve(),l?o(a,95):(k||(k=b("Promise"))).resolve()]).then(function(c){var e=c[0],f=c[1];c=c[2];e=e!=null?a.table("network_requests").put({epochId:(i||(i=d("I64"))).zero,failureCount:e.failureCount,lastDelayedRequestTimestampMs:e.lastDelayedRequestTimestampMs,lastSentTimestampMs:e.lastSentTimestampMs,lastSyncRequestTimestampMs:e.lastSyncRequestTimestampMs,networkTaskIdentifier:e.networkTaskIdentifier,syncDatabaseId:e.syncDatabaseId,taskQueueName:e.taskQueueName}):(k||(k=b("Promise"))).resolve();f=m&&f!=null?a.table("network_requests").put({epochId:(i||(i=d("I64"))).zero,failureCount:f.failureCount,lastDelayedRequestTimestampMs:f.lastDelayedRequestTimestampMs,lastSentTimestampMs:f.lastSentTimestampMs,lastSyncRequestTimestampMs:f.lastSyncRequestTimestampMs,networkTaskIdentifier:f.networkTaskIdentifier,syncDatabaseId:f.syncDatabaseId,taskQueueName:f.taskQueueName}):(k||(k=b("Promise"))).resolve();c=l&&c!=null?a.table("network_requests").put({epochId:(i||(i=d("I64"))).zero,failureCount:c.failureCount,lastDelayedRequestTimestampMs:c.lastDelayedRequestTimestampMs,lastSentTimestampMs:c.lastSentTimestampMs,lastSyncRequestTimestampMs:c.lastSyncRequestTimestampMs,networkTaskIdentifier:c.networkTaskIdentifier,syncDatabaseId:c.syncDatabaseId,taskQueueName:c.taskQueueName}):(k||(k=b("Promise"))).resolve();return(k||(k=b("Promise"))).all([e,f,c]).then(function(){})})},"readwrite","ui")}function q(a){if(d("LSDatabaseProviderType").isProviderPersisted(a)&&c("MetaConfig")._("76"))return a.runInTransaction(function(a){return o(a,1).then(function(c){if(c!=null)return a.table("network_requests").put({epochId:void 0,failureCount:c.failureCount,lastDelayedRequestTimestampMs:c.lastDelayedRequestTimestampMs,lastSentTimestampMs:c.lastSentTimestampMs,lastSyncRequestTimestampMs:c.lastSyncRequestTimestampMs,networkTaskIdentifier:c.networkTaskIdentifier,syncDatabaseId:c.syncDatabaseId,taskQueueName:c.taskQueueName});else return(k||(k=b("Promise"))).resolve()})},"readwrite","ui");else return(k||(k=b("Promise"))).resolve()}function r(a){d("CurrentMessengerUser").isWorkUser()&&(h||(h=c("QuickPerformanceLogger"))).markerPoint(c("qpl")._(1036588047,"310"),a)}function a(a,b,c,d){return s.apply(this,arguments)}function s(){s=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f,g){try{var o,s=d("CurrentMessengerUser").isWorkUser();yield p(f);var u=(yield (k||(k=b("Promise"))).all([d("ReQL").firstAsync(d("ReQL").fromTableAscending(f.table("sync_groups")).getKeyRange((j||(j=d("LSIntEnum"))).ofNumber(1))),m?d("ReQL").firstAsync(d("ReQL").fromTableAscending(f.table("sync_groups")).getKeyRange((j||(j=d("LSIntEnum"))).ofNumber(2))):(k||(k=b("Promise"))).resolve(),l?d("ReQL").firstAsync(d("ReQL").fromTableAscending(f.table("sync_groups")).getKeyRange((j||(j=d("LSIntEnum"))).ofNumber(95))):(k||(k=b("Promise"))).resolve()])),v=u[0],w=u[1];u=u[2];v=v==null?void 0:v.currentCursor;w=w==null?void 0:w.currentCursor;u=u==null?void 0:u.currentCursor;var x=new(c("LSDict"))().set("database",j.ofNumber(1)).set("epoch_id",(i||(i=d("I64"))).zero).set("last_applied_cursor",v).set("sync_params",a.syncParams.mailbox).set("version",i.of_string(a.schemaVersion)),y=new(c("LSDict"))().set("database",j.ofNumber(2)).set("epoch_id",i.zero).set("last_applied_cursor",w).set("sync_params",a.syncParams.contact).set("version",i.of_string(a.schemaVersion));o=new(c("LSDict"))().set("database",j.ofNumber(95)).set("epoch_id",i.zero).set("last_applied_cursor",u).set("sync_params",(o=a.syncParams.e2ee)!=null?o:"{}").set("version",i.of_string(a.schemaVersion));var z={string:{contactsSync:m?w!=null?"resume":"init":"disabled",mailboxSync:v!=null?"resume":"init"}};s&&(h||(h=c("QuickPerformanceLogger"))).markerAnnotate(c("qpl")._(1036588047,"310"),z);d("LSPlatformLsInitLog").addPoint("ls_sync_start",z);t("ls_sync_start");d("LSPlatformLsInitLog").addPoint("gql_fetch_start");t("gql_fetch_start");r("start_contact");r("start_mailbox");s=d("LSPlatformGraphQLTransport").publish(g,0,v!=null?(j||(j=d("LSIntEnum"))).ofNumber(2):(j||(j=d("LSIntEnum"))).ofNumber(1),d("LSJson").stringify(x),a.executeGraphQLLightSpeedRequest).then(function(a){r("mailbox_synced");return a});z=m?d("LSPlatformGraphQLTransport").publish(g,1,w!=null?(j||(j=d("LSIntEnum"))).ofNumber(2):(j||(j=d("LSIntEnum"))).ofNumber(1),d("LSJson").stringify(y),a.executeGraphQLLightSpeedRequest).then(function(a){r("contact_synced");return a}):(k||(k=b("Promise"))).resolve([(k||(k=b("Promise"))).resolve(),"",void 0,void 0]);x=l?d("LSPlatformGraphQLTransport").publish(g,2,u!=null?(j||(j=d("LSIntEnum"))).ofNumber(2):(j||(j=d("LSIntEnum"))).ofNumber(1),d("LSJson").stringify(o),a.executeGraphQLLightSpeedRequest):(k||(k=b("Promise"))).resolve([(k||(k=b("Promise"))).resolve(),"",void 0,void 0]);w=(yield k.all([s,z,x]));y=w[0];g=w[1];u=w[2];o=u[0];a=u[1];s=u[2];z=u[3];x=g[0];w=g[1];u=g[2];g=g[3];var A=y[0],B=y[1],C=y[2];y=y[3];d("LSPlatformLsInitLog").addPoint("gql_fetch_end");t("gql_fetch_end");d("LSPlatformLsInitLog").addPoint("gql_deps_start");t("gql_deps_start");yield k.all([o,x,A]);d("LSPlatformLsInitLog").addPoint("gql_deps_end");t("gql_deps_end");d("LSPlatformLsInitLog").addPoint("ls_sync_execute_start");t("ls_sync_execute_start");yield e({experiments:C,priority:"ui",syncScript:B,target:y});m&&(yield e({experiments:u,priority:"ui",syncScript:w,target:g}));l&&(yield e({experiments:s,priority:"ui",syncScript:a,target:z}));v!=null&&(yield q(f));r("sync_completed");d("LSPlatformArmadilloUtils").reportInitEnd();d("LSPlatformLsInitLog").addPoint("ls_sync_execute_end");t("ls_sync_execute_end");d("LSPlatformLsInitLog").addPoint("ls_sync_end");t("ls_sync_end");d("LSPlatformLsInitLog").endSuccess();l&&d("LSPlatformArmadilloUtils").maybeEndOccamadilloThreadMapping();d("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw_graphql","init_sync.success");d("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw_ls","init_sync.success")}catch(a){o=c("getErrorSafe")(a);d("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw_ls","init_sync.fail");r("sync_failed");d("LSPlatformLsInitLog").fail("init_sync_failure");try{d("LSPlatformArmadilloUtils").reportInitSyncFailure(o)}catch(a){}c("FBLogger")("messenger_web_product").catching(o).mustfix("Encountered an error while performining preloaded init sync request via graphql");return n(f)}});return s.apply(this,arguments)}function t(a){c("InteractionTracing.xplat").getPendingInteractions().forEach(function(b){b.addMarkerPoint(a,"AppTiming")})}g.sendHardcodedInitSync=a}),98);
__d("LSPlatformSyncSystemMaybeDeferred",["cr:6963"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:6963")}),98);
__d("LSPlatformTaskSystemTransportMaybeDeferred",["cr:6989"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:6989")}),98);
__d("LSPlatformClientInit",["LSClearEpochBeforeResumeSync","LSDataTraceFlushDeferred","LSDeleteAllAndInsertConnectivityStatus","LSFactory","LSIntEnum","LSInternetConnectionState","LSPlatformHardcodedInitSync","LSPlatformLsInitLog","LSPlatformRealtimeTransport","LSPlatformSyncSystemMaybeDeferred","LSPlatformTaskSystemTransportMaybeDeferred","MWPlatformTaskSystem","MessengerLogHistory","asyncToGeneratorRuntime","cr:1265","cr:3260","emptyFunction","gkx","promiseDone","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("MessengerLogHistory").getInstance("client_init");function j(a){var d=c("emptyFunction");b("cr:3260")!=null&&c("gkx")("7110")&&(d=b("cr:3260").listenForChangesToBackupState(a));return function(){d&&d()}}function k(a,b){c("promiseDone")(a.runInTransaction(function(a){return c("LSDeleteAllAndInsertConnectivityStatus")(b==="Connected"?(h||(h=d("LSIntEnum"))).ofNumber(c("LSInternetConnectionState").CONNECTED):(h||(h=d("LSIntEnum"))).ofNumber(c("LSInternetConnectionState").NOT_CONNECTED),c("LSFactory")(a))},"readwrite"))}function a(a,b,c,d,e){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f,g,h){var l;i.debug("Platform client sync starting...");(l=d("LSPlatformLsInitLog")).addPoint("onstart_callback");g();l.addPoint("onstart_callback_end");i.debug("Getting datascript evaluator...");l.addPoint("ds_eval_registration");g=(yield e.getEval());i.debug("Getting datascript evaluator success");var m;try{m=b("cr:1265")!=null?b("cr:1265").registerEval(g)()(a):g()(a)}catch(b){c("recoverableViolation")("fail to register datascriptEvaluator","messenger_web_product",{error:b}),m=g()(a)}d("LSPlatformLsInitLog").addPoint("ds_eval_registration_end");i.debug("Clearing epoch before resume sync...");yield d("LSClearEpochBeforeResumeSync").call(a);i.debug("Clearing epoch before resume sync success");d("LSPlatformLsInitLog").addPoint("create_client_end");e.sendHardcodedInitSync&&(i.debug("Starting hard-coded init sync..."),yield d("LSPlatformHardcodedInitSync").sendHardcodedInitSync(e,m,a,f),i.debug("Starting hard-coded init sync success"));i.debug("Starting realtime transport");var n=d("LSPlatformRealtimeTransport").LSPlatformRealtimeTransport(e.realtimeUnderylingTransport,e.appId,f);i.debug("Starting task system");var o=null;c("promiseDone")(c("LSPlatformTaskSystemTransportMaybeDeferred")(),function(b){o=new(c("MWPlatformTaskSystem"))(a,new b(a,n,m,e.schemaVersion))});i.debug("Starting sync system");var p=null;c("promiseDone")(c("LSPlatformSyncSystemMaybeDeferred")(),function(b){p=b(a,n,m,e.schemaVersion,f,e.executeGraphQLLightSpeedRequest)});i.debug("Starting backup state listeners");var q=j(a),r;i.debug("Watching for expired traces");c("promiseDone")(d("LSDataTraceFlushDeferred").watchForExpiredTraces(a).then(function(a){r=a}));i.debug("Subscribing to mqtt sync status change events");n.onConnectionStatusChange(function(b){k(a,b)});i.debug("Platform client sync starting sucess");return{cleanup:function(){var b;h(a);(b=o)==null?void 0:b.cleanup();(b=p)==null?void 0:b.cleanup();n.cleanup();q();r==null?void 0:r()}}});return l.apply(this,arguments)}g.init=a}),98);/*FB_PKG_DELIM*/
__d("XControllerURIBuilder",["invariant","URI","gkx","isInternalFBURI"],(function(a,b,c,d,e,f,g,h){var i;a=function(){function a(a,b){this.$1={},this.$2=a,this.$3=b}var b=a.prototype;b.setInt=function(a,b){return this.__setParam(a,"Int",b)};b.setFBID=function(a,b){return this.__setParam(a,"FBID",b)};b.setFloat=function(a,b){return this.__setParam(a,"Float",b)};b.setString=function(a,b){return this.__setParam(a,"String",b)};b.setExists=function(a,b){b===!1&&(b=void 0);return this.__setParam(a,"Exists",b)};b.setBool=function(a,b){return this.__setParam(a,"Bool",b)};b.setBoolVector=function(a,b){return this.__setParam(a,"BoolVector",b)};b.setEnum=function(a,b){return this.__setParam(a,"Enum",b)};b.setPath=function(a,b){return this.__setParam(a,"Path",b)};b.setIntVector=function(a,b){return this.__setParam(a,"IntVector",b)};b.setIntKeyset=function(a,b){return this.__setParam(a,"IntKeyset",b)};b.setIntSet=function(a,b){return this.__setParam(a,"IntSet",b.join(","))};b.setFloatVector=function(a,b){return this.__setParam(a,"FloatVector",b)};b.setFloatSet=function(a,b){return this.__setParam(a,"FloatSet",b.join(","))};b.setStringVector=function(a,b){return this.__setParam(a,"StringVector",b)};b.setStringKeyset=function(a,b){return this.__setParam(a,"StringKeyset",b)};b.setStringSet=function(a,b){return this.__setParam(a,"StringSet",b)};b.setFBIDVector=function(a,b){return this.__setParam(a,"FBIDVector",b)};b.setFBIDSet=function(a,b){return this.__setParam(a,"FBIDSet",b)};b.setFBIDKeyset=function(a,b){return this.__setParam(a,"FBIDKeyset",b)};b.setEnumVector=function(a,b){return this.__setParam(a,"EnumVector",b)};b.setEnumSet=function(a,b){return this.__setParam(a,"EnumSet",b)};b.setEnumKeyset=function(a,b){return this.__setParam(a,"EnumKeyset",b)};b.setIntToIntMap=function(a,b){return this.__setParam(a,"IntToIntMap",b)};b.setIntToFloatMap=function(a,b){return this.__setParam(a,"IntToFloatMap",b)};b.setIntToStringMap=function(a,b){return this.__setParam(a,"IntToStringMap",b)};b.setIntToBoolMap=function(a,b){return this.__setParam(a,"IntToBoolMap",b)};b.setStringToIntMap=function(a,b){return this.__setParam(a,"StringToIntMap",b)};b.setStringToFloatMap=function(a,b){return this.__setParam(a,"StringToFloatMap",b)};b.setStringToStringMap=function(a,b){return this.__setParam(a,"StringToStringMap",b)};b.setStringToNullableStringMap=function(a,b){return this.__setParam(a,"StringToNullableStringMap",b)};b.setStringToBoolMap=function(a,b){return this.__setParam(a,"StringToBoolMap",b)};b.setStringToEnumMap=function(a,b){return this.__setParam(a,"StringToEnumMap",b)};b.setEnumToStringVectorMap=function(a,b){return this.__setParam(a,"EnumToStringVectorMap",b)};b.setEnumToStringMap=function(a,b){return this.__setParam(a,"EnumToStringMap",b)};b.setEnumToBoolMap=function(a,b){return this.__setParam(a,"EnumToBoolMap",b)};b.setEnumToEnumMap=function(a,b){return this.__setParam(a,"EnumToEnumMap",b)};b.setEnumToIntMap=function(a,b){return this.__setParam(a,"EnumToIntMap",b)};b.setEnumToFBIDVectorMap=function(a,b){return this.__setParam(a,"EnumToFBIDVectorMap",b)};b.setStringToIntDict=function(a,b){return this.__setParam(a,"StringToIntDict",b)};b.setStringToNullableIntDict=function(a,b){return this.__setParam(a,"StringToNullableIntDict",b)};b.setStringToFloatDict=function(a,b){return this.__setParam(a,"StringToFloatDict",b)};b.setStringToStringKeysetDict=function(a,b){return this.__setParam(a,"StringToStringKeysetDict",b)};b.setStringToNullableFloatDict=function(a,b){return this.__setParam(a,"StringToNullableFloatDict",b)};b.setStringToStringDict=function(a,b){return this.__setParam(a,"StringToStringDict",b)};b.setStringToNullableStringDict=function(a,b){return this.__setParam(a,"StringToNullableStringDict",b)};b.setStringToBoolDict=function(a,b){return this.__setParam(a,"StringToBoolDict",b)};b.setStringToEnumDict=function(a,b){return this.__setParam(a,"StringToEnumDict",b)};b.setEnumToIntDict=function(a,b){return this.__setParam(a,"EnumToIntDict",b)};b.setEnumToStringDict=function(a,b){return this.__setParam(a,"EnumToStringDict",b)};b.setHackType=function(a,b){return this.__setParam(a,"HackType",b)};b.setTypeAssert=function(a,b){return this.__setParam(a,"TypeAssert",b)};b.__validateRequiredParamsExistence=function(){for(var a in this.$3)!this.$3[a].required||Object.prototype.hasOwnProperty.call(this.$1,a)||h(0,903,a)};b.setParams=function(a){for(var b in a){this.__assertParamExists(b);var c=this.$3[b].type;this.__setParam(b,c,a[b])}return this};b.__assertParamExists=function(a){a in this.$3||h(0,37339,a)};b.__setParam=function(a,b,c){this.__assertParamExists(a);var d=this.$3[a].type,e={StringOrPFBID:"String",IntOrPFBID:"Int",FBIDOrPFBID:"FBID",PaymentLegacyAdAccountID:"Int"};e=e[d];d===b||e===b||h(0,37340,a,b,d);this.__setParamInt(a,c);return this};b.__setParamInt=function(a,b){this.$1[a]=b};b.getRequest_LEGACY_UNTYPED=function(a){return a.setReplaceTransportMarkers().setURI(this.getURI())};b.setPreviousActorIsPageVoice=function(a){this.__setParamInt("paipv",a?1:0);return this};b.getURI=function(){this.__validateRequiredParamsExistence();var a={},b="",d=/^(.*)?\{(\?)?(\*)?(.+?)\}(.*)?$/,e=this.$2.split("/"),f=!1;for(var g=0;g<e.length;g++){var j=e[g];if(j==="")continue;var k=d.exec(j);if(!k)b+="/"+j;else{j=k[2]==="?";var l=k[4],m=this.$3[l];m||h(0,11837,l,this.$2);if(j&&f)continue;if(this.$1[l]==null&&j){f=!0;continue}j=this.$1[l]!=null?this.$1[l]:m.defaultValue;j!=null||h(0,907,l);m=k[1]?k[1]:"";k=k[5]?k[5]:"";b+="/"+m+j+k;a[l]=!0}}this.$2.slice(-1)==="/"&&(b+="/");b===""&&(b="/");m=new(i||(i=c("URI")))(b);for(j in this.$1){k=this.$1[j];if(!a[j]&&k!=null){l=this.$3[j];m.addQueryData(j,l&&l.type==="Exists"?null:k)}}return m};b.getLookasideURI=function(){var a="lookaside.facebook.com";c("isInternalFBURI")((i||(i=c("URI"))).getRequestURI())?a="lookaside.internalfb.com":c("gkx")("996940")&&(a="lookaside.internmc.facebook.com");return this.getURI().setDomain(a).setProtocol("https")};a.create=function(b,c){return function(){return new a(b,c)}};return a}();a.prototype.getRequest=function(a){return this.getRequest_LEGACY_UNTYPED(a)};g["default"]=a}),98);
__d("XRequest",["invariant"],(function(a,b,c,d,e,f,g){var h=function a(b,c,d){var e;switch(b){case"Bool":e=c&&c!=="false"&&c!=="0"||!1;break;case"Int":e=c.toString();/-?\d+/.test(e)||g(0,11839,c);break;case"Float":e=parseFloat(c,10);isNaN(e)&&g(0,11840,c);break;case"FBID":e=c.toString();for(var f=0;f<e.length;++f){var h=e.charCodeAt(f);48<=h&&h<=57||g(0,11841,c)}break;case"String":e=c.toString();break;case"Enum":d===0?e=a("Int",c,null):d===1?e=a("String",c,null):d===2?e=c:g(0,5044,d);break;default:if(h=/^Nullable(\w+)$/.exec(b))c===null?e=null:e=a(h[1],c,d);else if(f=/^(\w+)Vector$/.exec(b)){!Array.isArray(c)?(e=c.toString(),e=e===""?[]:e.split(",")):e=c;var i=f[1];typeof i==="string"||g(0,5045);e=e.map(function(b){return a(i,b,d&&d.member)})}else if(h=/^(\w+)(Set|Keyset)$/.exec(b))!Array.isArray(c)?(e=c.toString(),e=e===""?[]:e.split(",")):e=c,e=e.reduce(function(a,b){a[b]=b;return a},{}),i=h[1],typeof i==="string"||g(0,5045),e=Object.keys(e).map(function(b){return a(i,e[b],d&&d.member)});else if(f=/^(\w+)To(\w+)Map$/.exec(b)){e={};var j=f[1],k=f[2];typeof j==="string"&&typeof k==="string"||g(0,5045);Object.keys(c).forEach(function(b){e[a(j,b,d&&d.key)]=a(k,c[b],d&&d.value)})}else g(0,11842,b)}return e};a=function(){function a(a,b,c){var d=this;this.$1=b;this.$2=babelHelpers["extends"]({},c.getQueryData());b=a.split("/").filter(function(a){return a});a=c.getPath().split("/").filter(function(a){return a});var e;for(var f=0;f<b.length;++f){var h=/^\{(\?)?(\*)?(\w+)\}$/.exec(b[f]);if(!h){b[f]===a[f]||g(0,5047,c.getPath());continue}var i=!!h[1],j=!!h[2];!j||f===b.length-1||g(0,11843,e);e=h[3];Object.prototype.hasOwnProperty.call(this.$1,e)||g(0,11844,e);this.$1[e].required?i&&g(0,5050,e):i||g(0,5057,e);a[f]&&(this.$2[e]=j?a.slice(f).join("/"):a[f])}Object.keys(this.$1).forEach(function(a){!d.$1[a].required||Object.prototype.hasOwnProperty.call(d.$2,a)||g(0,5051)})}var b=a.prototype;b.getExists=function(a){return this.$2[a]!==void 0};b.getBool=function(a){return this.$3(a,"Bool")};b.getInt=function(a){return this.$3(a,"Int")};b.getFloat=function(a){return this.$3(a,"Float")};b.getFBID=function(a){return this.$3(a,"FBID")};b.getString=function(a){return this.$3(a,"String")};b.getEnum=function(a){return this.$3(a,"Enum")};b.getOptionalInt=function(a){return this.$4(a,"Int")};b.getOptionalFloat=function(a){return this.$4(a,"Float")};b.getOptionalFBID=function(a){return this.$4(a,"FBID")};b.getOptionalString=function(a){return this.$4(a,"String")};b.getOptionalEnum=function(a){return this.$4(a,"Enum")};b.getIntVector=function(a){return this.$3(a,"IntVector")};b.getFloatVector=function(a){return this.$3(a,"FloatVector")};b.getFBIDVector=function(a){return this.$3(a,"FBIDVector")};b.getStringVector=function(a){return this.$3(a,"StringVector")};b.getEnumVector=function(a){return this.$3(a,"EnumVector")};b.getOptionalIntVector=function(a){return this.$4(a,"IntVector")};b.getOptionalFloatVector=function(a){return this.$4(a,"FloatVector")};b.getOptionalFBIDVector=function(a){return this.$4(a,"FBIDVector")};b.getOptionalStringVector=function(a){return this.$4(a,"StringVector")};b.getOptionalEnumVector=function(a){return this.$4(a,"EnumVector")};b.getIntSet=function(a){return this.$3(a,"IntSet")};b.getFBIDSet=function(a){return this.$3(a,"FBIDSet")};b.getFBIDKeyset=function(a){return this.$3(a,"FBIDKeyset")};b.getStringSet=function(a){return this.$3(a,"StringSet")};b.getEnumKeyset=function(a){return this.$3(a,"EnumKeyset")};b.getOptionalIntSet=function(a){return this.$4(a,"IntSet")};b.getOptionalFBIDSet=function(a){return this.$4(a,"FBIDSet")};b.getOptionalFBIDKeyset=function(a){return this.$4(a,"FBIDKeyset")};b.getOptionalStringSet=function(a){return this.$4(a,"StringSet")};b.getEnumToBoolMap=function(a){return this.$3(a,"EnumToBoolMap")};b.getEnumToEnumMap=function(a){return this.$3(a,"EnumToEnumMap")};b.getEnumToFloatMap=function(a){return this.$3(a,"EnumToFloatMap")};b.getEnumToIntMap=function(a){return this.$3(a,"EnumToIntMap")};b.getEnumToStringMap=function(a){return this.$3(a,"EnumToStringMap")};b.getIntToBoolMap=function(a){return this.$3(a,"IntToBoolMap")};b.getIntToEnumMap=function(a){return this.$3(a,"IntToEnumMap")};b.getIntToFloatMap=function(a){return this.$3(a,"IntToFloatMap")};b.getIntToIntMap=function(a){return this.$3(a,"IntToIntMap")};b.getIntToStringMap=function(a){return this.$3(a,"IntToStringMap")};b.getStringToBoolMap=function(a){return this.$3(a,"StringToBoolMap")};b.getStringToEnumMap=function(a){return this.$3(a,"StringToEnumMap")};b.getStringToFloatMap=function(a){return this.$3(a,"StringToFloatMap")};b.getStringToIntMap=function(a){return this.$3(a,"StringToIntMap")};b.getStringToStringMap=function(a){return this.$3(a,"StringToStringMap")};b.getOptionalEnumToBoolMap=function(a){return this.$4(a,"EnumToBoolMap")};b.getOptionalEnumToEnumMap=function(a){return this.$4(a,"EnumToEnumMap")};b.getOptionalEnumToFloatMap=function(a){return this.$4(a,"EnumToFloatMap")};b.getOptionalEnumToIntMap=function(a){return this.$4(a,"EnumToIntMap")};b.getOptionalEnumToStringMap=function(a){return this.$4(a,"EnumToStringMap")};b.getOptionalIntToBoolMap=function(a){return this.$4(a,"IntToBoolMap")};b.getOptionalIntToEnumMap=function(a){return this.$4(a,"IntToEnumMap")};b.getOptionalIntToFloatMap=function(a){return this.$4(a,"IntToFloatMap")};b.getOptionalIntToIntMap=function(a){return this.$4(a,"IntToIntMap")};b.getOptionalIntToStringMap=function(a){return this.$4(a,"IntToStringMap")};b.getOptionalStringToBoolMap=function(a){return this.$4(a,"StringToBoolMap")};b.getOptionalStringToEnumMap=function(a){return this.$4(a,"StringToEnumMap")};b.getOptionalStringToFloatMap=function(a){return this.$4(a,"StringToFloatMap")};b.getOptionalStringToIntMap=function(a){return this.$4(a,"StringToIntMap")};b.getOptionalStringToStringMap=function(a){return this.$4(a,"StringToStringMap")};b.getEnumToNullableEnumMap=function(a){return this.$3(a,"EnumToNullableEnumMap")};b.getEnumToNullableFloatMap=function(a){return this.$3(a,"EnumToNullableFloatMap")};b.getEnumToNullableIntMap=function(a){return this.$3(a,"EnumToNullableIntMap")};b.getEnumToNullableStringMap=function(a){return this.$3(a,"EnumToNullableStringMap")};b.getIntToNullableEnumMap=function(a){return this.$3(a,"IntToNullableEnumMap")};b.getIntToNullableFloatMap=function(a){return this.$3(a,"IntToNullableFloatMap")};b.getIntToNullableIntMap=function(a){return this.$3(a,"IntToNullableIntMap")};b.getIntToNullableStringMap=function(a){return this.$3(a,"IntToNullableStringMap")};b.getStringToNullableEnumMap=function(a){return this.$3(a,"StringToNullableEnumMap")};b.getStringToNullableFloatMap=function(a){return this.$3(a,"StringToNullableFloatMap")};b.getStringToNullableIntMap=function(a){return this.$3(a,"StringToNullableIntMap")};b.getStringToNullableStringMap=function(a){return this.$3(a,"StringToNullableStringMap")};b.getOptionalEnumToNullableEnumMap=function(a){return this.$4(a,"EnumToNullableEnumMap")};b.getOptionalEnumToNullableFloatMap=function(a){return this.$4(a,"EnumToNullableFloatMap")};b.getOptionalEnumToNullableIntMap=function(a){return this.$4(a,"EnumToNullableIntMap")};b.getOptionalEnumToNullableStringMap=function(a){return this.$4(a,"EnumToNullableStringMap")};b.getOptionalIntToNullableEnumMap=function(a){return this.$4(a,"IntToNullableEnumMap")};b.getOptionalIntToNullableFloatMap=function(a){return this.$4(a,"IntToNullableFloatMap")};b.getOptionalIntToNullableIntMap=function(a){return this.$4(a,"IntToNullableIntMap")};b.getOptionalIntToNullableStringMap=function(a){return this.$4(a,"IntToNullableStringMap")};b.getOptionalStringToNullableEnumMap=function(a){return this.$4(a,"StringToNullableEnumMap")};b.getOptionalStringToNullableFloatMap=function(a){return this.$4(a,"StringToNullableFloatMap")};b.getOptionalStringToNullableIntMap=function(a){return this.$4(a,"StringToNullableIntMap")};b.getOptionalStringToNullableStringMap=function(a){return this.$4(a,"StringToNullableStringMap")};b.$3=function(a,b){this.$5(a,b);var c=this.$1[a];if(!Object.prototype.hasOwnProperty.call(this.$2,a)&&c.defaultValue!=null){c.required&&g(0,5052);return h(b,c.defaultValue,c.enumType)}c.required||b==="Bool"||c.defaultValue!=null||g(0,11845,b,a,b,a);return h(b,this.$2[a],c.enumType)};b.$4=function(a,b){this.$5(a,b);var c=this.$1[a];c.required&&g(0,11846,b,a,b,a);c.defaultValue&&g(0,5052);return Object.prototype.hasOwnProperty.call(this.$2,a)?h(b,this.$2[a],c.enumType):null};b.$5=function(a,b){Object.prototype.hasOwnProperty.call(this.$1,a)||g(0,37317,a),this.$1[a].type===b||g(0,11848,a,b,this.$1[a].type)};return a}();f["default"]=a}),66);
__d("XController",["XControllerURIBuilder","XRequest"],(function(a,b,c,d,e,f,g){a=function(){function a(a,b){this.$1=a,this.$2=b}var b=a.prototype;b.getURIBuilder=function(a){var b=this,d=new(c("XControllerURIBuilder"))(this.$1,this.$2);if(a){var e=this.getRequest(a);Object.keys(this.$2).forEach(function(a){var c=b.$2[a],f="";!c.required&&!Object.prototype.hasOwnProperty.call(c,"defaultValue")&&(f="Optional");f="get"+f+c.type;f=e[f](a);if(f==null||Object.prototype.hasOwnProperty.call(c,"defaultValue")&&f===c.defaultValue)return;c="set"+c.type;d[c](a,f)})}return d};b.getRequest=function(a){return new(c("XRequest"))(this.$1,this.$2,a)};a.create=function(b,c){return new a(b,c)};return a}();g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("PolarisFeedActionFetchFeedDataFromNative",["invariant","InteractionTracing","PolarisAPIFetchFeedTimeline","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.cursor,e=a.feedViewInfo,f=a.getFeedQuery;a=a.paginationSource;if(f!=null){var g=f();g.status==="LOADING"&&(yield g.promise);g=f();g.status!=="LOADING"||h(0,61393);if(g.status==="ERROR")throw g.error;var i=g.response;c("InteractionTracing").getPendingInteractions().forEach(function(a){a.addAnnotationInt("feed_preload_num_items",i.num_results)});return i}else return d("PolarisAPIFetchFeedTimeline").fetchFeedTimeline({cursor:b,feedViewInfo:e,paginationSource:a})});return i.apply(this,arguments)}g.fetchFeedDataFromNative=a}),98);
__d("getPolarisClientViewStateMediaList",["PolarisFeedState","PolarisLoggerUtils","filterNulls"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b){if(a.type===d("PolarisFeedState").END_OF_FEED_DEMARCATOR_TYPE)return{id:a.id,type:0};if(a.type===d("PolarisFeedState").GRAPH_SUGGESTED_USER_FEED_UNIT_TYPE){var c;return{id:a.id,type:Number((c=(c=a.trackingInfo)==null?void 0:c.type)!=null?c:0)}}b=b.get((c=a.postId)!=null?c:"");c=a.postId;a=b==null?void 0:(a=b.owner)==null?void 0:a.id;if(c!=null&&a!=null){return{id:d("PolarisLoggerUtils").getFormattedMediaID(c,a),type:(c=b==null?void 0:b.viewStateItemType)!=null?c:0}}return null}function a(a,b){if(a==null)return null;a=a.map(function(a){return h(a,b)});return JSON.stringify(c("filterNulls")(a.toArray()))}g["default"]=a}),98);
__d("getPolarisFeedRecsPagingToken",["PolarisFeedState","PolarisLoggerUtils","PolarisMediaConstants"],(function(a,b,c,d,e,f,g){"use strict";var h=-1;function i(a,b,c){for(var d=a.length-1;d>=0;d--){var e=a[d].postId;e=b.get((e=e)!=null?e:"");if(c){if(e!=null&&e.isSponsored===!1)return d}else if(e!=null&&e.isSponsored===!0)return d}return h}function j(a,b,c){var e=i(a,b,c);if(e===h)return null;a=a[e];a=a.postId;b=(b=b.get((b=a)!=null?b:""))==null?void 0:(b=b.owner)==null?void 0:b.id;if(a!=null&&b!=null){a={id:d("PolarisLoggerUtils").getFormattedMediaID(a,b),index:e};c||(a.type=d("PolarisMediaConstants").UnitItemType.AD);return a}return null}function k(a){return a.findIndex(function(a){return a.type===d("PolarisFeedState").END_OF_FEED_DEMARCATOR_TYPE})}function a(a,b){if(a==null)return null;var c=k(a),d=a.length-1;if(c===h||c===d)return null;var e={total_num_items:d-c};a=a.slice(c+1,d+1);c=j(a,b,!1);c!=null&&(e.last_non_organic_item=c);d=j(a,b,!0);d!=null&&(e.last_organic_item=d);return JSON.stringify(e)}g.getPolarisFeedRecsPagingToken=a}),98);
__d("PolarisFeedActionLoadNextPage",["invariant","PolarisAPIFetchFeedTimeline","PolarisFeedActionBuildPastPostsAction","PolarisFeedLogger","PolarisFeedTypes","PolarisInstajax","PolarisLogger","PolarisMonitorErrors","PolarisPrioritizedTask","Promise","getPolarisClientViewStateMediaList","getPolarisFeedRecsPagingToken","isStringNullOrEmpty","nullthrows","polarisFeedReducer","processPolarisFeedItems"],(function(a,b,c,d,e,f,g,h){"use strict";var i;function a(a,e){a===void 0&&(a={priority:d("PolarisPrioritizedTask").HIGH_PRIORITY});return function(f,g){g=g();var j=g.feed,k=j.currentFeed;j=j.nextPageTask;var l=d("polarisFeedReducer").getFeedContent(g.feed),m=l.isLoadingNextPage,n=l.items,o=l.paginationInfo;if(j){j.setOptions(a);return(i||(i=b("Promise"))).resolve()}if(m)return(i||(i=b("Promise"))).resolve();var p=null,q=c("getPolarisClientViewStateMediaList")(n,g.posts.byId);o||h(0,51375);l=o.moreAvailable;p=o.cursor;l===!0&&!c("isStringNullOrEmpty")(p)||h(0,51379);d("PolarisLogger").logAction("feedNextPageAttempt");var r=d("getPolarisFeedRecsPagingToken").getPolarisFeedRecsPagingToken(n==null?void 0:n.toArray(),g.posts.byId),s=null,t=!1;j=new(d("PolarisPrioritizedTask").PrioritizedTask)(a,function(){return t?(i||(i=b("Promise"))).resolve():d("PolarisAPIFetchFeedTimeline").fetchFeedTimeline({before:function(a){s=a},clientViewStateMediaList:q,cursor:p,feedRecsPagingToken:r,feedViewInfo:e,paginationSource:o==null?void 0:o.paginationSource}).then(function(a){var b=c("nullthrows")(a.feed_items);b=c("processPolarisFeedItems")({items:b,previousItems:n});d("PolarisLogger").logAction("feedNextPageSuccess");var e=d("PolarisFeedActionBuildPastPostsAction").buildPastPostsAction(b);e&&f(e);return{ads:b.ads,comments:b.comments,feedItems:b.feedItems,feedToUpdate:k,groups:b.groups,paginationInfo:{cursor:a.next_max_id,moreAvailable:a.more_available,paginationSource:d("PolarisFeedTypes").PaginationSource.cast(a.pagination_source)},posts:b.posts,type:"FEED_NEXT_PAGE_LOADED_V2",users:b.users}}).then(f)["catch"](function(a){d("PolarisLogger").logAction("feedNextPageFailure"),d("PolarisFeedLogger").logFeedNextPageLoadFailure(a),f({type:"FEED_NEXT_PAGE_FAILED"}),a instanceof d("PolarisInstajax").AjaxError||d("PolarisMonitorErrors").logError(a)})});f({abort:function(){t=!0,s&&s.abort()},task:j,type:"FEED_NEXT_PAGE_REQUESTED"});return j.run()}}g.loadNextPage=a}),98);
__d("PolarisFeedActionLoadFeedPageFromNative",["InteractionTracing","PolarisAdsActions","PolarisAdsGatingHelpers","PolarisFeedActionBuildFeedPageLoadedActionV2","PolarisFeedActionConstants","PolarisFeedActionFetchFeedDataFromNative","PolarisFeedActionLoadFeedPageExtras","PolarisFeedActionLoadNextPage","PolarisFeedTypes","PolarisLogger","PolarisMediaPrefetchActions","PolarisPrioritizedTask","QuickPerformanceLogger","asyncToGeneratorRuntime","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var e=a.backgroundFetch,f=a.feedViewInfo,g=a.getFeedQuery,i=a.getStoryTrayQuery,j=a.preloadedFeedQueryId;return function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){(h||(h=c("QuickPerformanceLogger"))).markerStart(c("qpl")._(27459585,"2172"));a(d("PolarisFeedActionLoadFeedPageExtras").loadFeedPageExtras(i));j!=null?(h||(h=c("QuickPerformanceLogger"))).markerPoint(c("qpl")._(27459585,"2172"),"feed_early_flush_wait"):(h||(h=c("QuickPerformanceLogger"))).markerPoint(c("qpl")._(27459585,"2172"),"network_request");try{d("PolarisLogger").logAction("feedFirstPageAttempt");e?d("PolarisLogger").logAction("feedBackgroundFetchAttempt"):d("PolarisLogger").logAction("feedForegroundFetchAttempt");var k=d("PolarisFeedActionFetchFeedDataFromNative").fetchFeedDataFromNative({feedViewInfo:f,getFeedQuery:g}).then(function(f){c("InteractionTracing").getPendingInteractions().forEach(function(a){a.addAnnotationInt("num_feed_items_from_feed_action",f.num_results)});var g=d("PolarisFeedActionBuildFeedPageLoadedActionV2").buildFeedPageLoadedActionV2(a,f,"home");if(d("PolarisAdsGatingHelpers").isStoryAdsPrefetchingAfterFeedRequestEnabled()){var h=b();a(d("PolarisAdsActions").loadInjectedStoryUnitsPrefetch(h))}d("PolarisLogger").logAction("feedFirstPageSuccess");e?d("PolarisLogger").logAction("feedBackgroundFetchSuccess"):d("PolarisLogger").logAction("feedForegroundFetchSuccess");return g});k["catch"](function(a){d("PolarisLogger").logAction("feedFirstPageFailure"),e?d("PolarisLogger").logAction("feedBackgroundFetchFailure",{error_message:a==null?void 0:a.message}):d("PolarisLogger").logAction("feedForegroundFetchFailure",{error_message:a==null?void 0:a.message})});a(yield k);k=b().feed.content.home.paginationInfo;(k==null?void 0:k.paginationSource)===d("PolarisFeedTypes").PaginationSource.FEED_RECS&&a(d("PolarisFeedActionLoadNextPage").loadNextPage({priority:d("PolarisPrioritizedTask").HIGH_PRIORITY}));(h||(h=c("QuickPerformanceLogger"))).markerPoint(c("qpl")._(27459585,"2172"),"network_response");a(d("PolarisMediaPrefetchActions").startMediaPrefetch(d("PolarisFeedActionConstants").FEED_VIEW))}catch(a){(h||(h=c("QuickPerformanceLogger"))).markerPoint(c("qpl")._(27459585,"2172"),"network_response_failure"),h.markerEnd(c("qpl")._(27459585,"2172"),3),d("PolarisLogger").logAction("feedFirstPageFailure"),e?d("PolarisLogger").logAction("feedBackgroundFetchFailure",{error_message:a==null?void 0:a.message}):d("PolarisLogger").logAction("feedForegroundFetchFailure",{error_message:a==null?void 0:a.message})}});return function(b,c){return a.apply(this,arguments)}}()}g.loadFeedPageFromNative=a}),98);
__d("PolarisFeedActionInitFeed",["PolarisFeedActionLoadFeedPageFromNative","asyncToGeneratorRuntime","polarisFeedReducer"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var c=a.backgroundFetch,e=c===void 0?!1:c,f=a.feedViewInfo,g=a.preloadedFeedQuery,h=a.preloadedFeedQueryId,i=a.preloadedStoryTrayQuery,j=a.preloadedStoryTrayQueryId,k=a.queryStore;return function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){b=b();b=d("polarisFeedReducer").getFeedContent(b.feed,"home");var c=b.isLoadingPosts;b=b.items;b=!b&&!c;if(b){a({type:"FEED_LOADING"});c=null;b=null;if(k!=null){if(g!=null&&(g.preloadEnabledOnInit||g.preloadEnabledOnNav)){var l=k.loadPostQuery([g.request.url,g.request.params],void 0,h);c=function(){return k.getPostResponse(l)}}if(i!=null&&(i.preloadEnabledOnInit||i.preloadEnabledOnNav)){var m=k.loadGetQuery([i.request.url,i.request.params],void 0,j);b=function(){return k.getGetResponse(m)}}}a(d("PolarisFeedActionLoadFeedPageFromNative").loadFeedPageFromNative({backgroundFetch:e,feedViewInfo:f,getFeedQuery:c,getStoryTrayQuery:b,preloadedFeedQueryId:h}))}});return function(b,c){return a.apply(this,arguments)}}()}g.initFeed=a}),98);/*FB_PKG_DELIM*/
__d("PolarisLiveCreationModalLazy.react",["CometPlaceholder.react","IGCoreModal","IGDSBox.react","IGDSSpinner.react","JSResourceForInteraction","PolarisSizing","lazyLoadComponent","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j=c("lazyLoadComponent")(c("JSResourceForInteraction")("PolarisLiveCreationModal.react").__setRef("PolarisLiveCreationModalLazy.react"));function a(a){return i.jsx(c("CometPlaceholder.react"),{fallback:i.jsx(c("IGCoreModal"),{backdropColor:"dark",children:i.jsx(c("IGDSBox.react"),{alignItems:"center",height:112,justifyContent:"center",maxWidth:d("PolarisSizing").FEED_WIDTH_WIDE,position:"relative",width:"100%",children:i.jsx(c("IGDSSpinner.react"),{size:"medium"})})}),children:i.jsx(j,babelHelpers["extends"]({},a))})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisSwitchAccountsModalLazy.react",["CometPlaceholder.react","IGCoreModal","IGDSBox.react","IGDSSpinner.react","JSResourceForInteraction","lazyLoadComponent","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j=c("lazyLoadComponent")(c("JSResourceForInteraction")("PolarisSwitchAccountsModal.react").__setRef("PolarisSwitchAccountsModalLazy.react"));function a(){return i.jsx(c("CometPlaceholder.react"),{fallback:i.jsx(c("IGCoreModal"),{children:i.jsx(c("IGDSBox.react"),{alignItems:"center",height:112,justifyContent:"center",position:"relative",width:"100%",children:i.jsx(c("IGDSSpinner.react"),{size:"medium"})})}),children:i.jsx(j,{})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisPaidAdsPixelContainerDeferredV2.react",["deferredLoadComponent","react","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h;h||d("react");a=c("deferredLoadComponent")(c("requireDeferred")("PolarisPaidAdsPixelsContainerV2.react").__setRef("PolarisPaidAdsPixelContainerDeferredV2.react"));g["default"]=a}),98);
__d("XRefererFrameControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/common/referer_frame.php",Object.freeze({no_lower:!1}),void 0);b=a;g["default"]=b}),98);
__d("getRequestConstUri",["ConstUriUtils","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=d("ConstUriUtils").getUri(window.location.href);if(a==null)throw c("unrecoverableViolation")("Cannot create ConstUriImpl of current request","comet_infra");return a}g["default"]=a}),98);
__d("isDollyFBURI",["isFacebookURI"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return c("isFacebookURI")(a)&&a.getSubdomain()==="store"}g["default"]=a}),98);
__d("isWhatsAppBlogURI",[],(function(a,b,c,d,e,f){var g=new RegExp("^blog\\.whatsapp\\.com$","i"),h=["https"];function a(a){if(a.isEmpty()&&a.toString()!=="#")return!1;return!a.getDomain()&&!a.getProtocol()?!1:h.indexOf(a.getProtocol())!==-1&&g.test(a.getDomain())}f["default"]=a}),66);
__d("ControlledReferer",["invariant","Bootloader","ConstUriUtils","CookieConsent","XRefererFrameControllerRouteBuilder","getRequestConstUri","gkx","isDollyFBURI","isInstagramURI","isInternalFBURI","isMessengerDotComURI","isMetaDotComURI","isOculusDotComURI","isWhatsAppBlogURI","isWorkplaceDotComURI","lowerFacebookDomain"],(function(a,b,c,d,e,f,g,h){var i;function j(a,b,e){if(!(i||(i=c("CookieConsent"))).isThirdPartyIframeAllowed(a)){c("Bootloader").loadModules(["ODS"],function(a){a.bumpEntityKey(2966,"defer_cookies","block_controlled_referer_iframe")},"ControlledReferer");return}function f(){var c="";try{c=a.contentWindow.location.pathname}catch(a){return}if(c!=="/intern/common/referer_frame.php"&&c!=="/common/referer_frame.php"&&c!=="/common/referer_frame.php/")return;a.contentWindow.document.body.style.margin=0;b()}var g=c("gkx")("708253")&&c("gkx")("4142")&&!c("lowerFacebookDomain").isValidDocumentDomain();g=c("XRefererFrameControllerRouteBuilder").buildUri({no_lower:g});var j;c("isMessengerDotComURI")(c("getRequestConstUri")())||c("isInstagramURI")(c("getRequestConstUri")())||c("isWhatsAppBlogURI")(c("getRequestConstUri")())||c("isMetaDotComURI")(c("getRequestConstUri")())||c("isDollyFBURI")(c("getRequestConstUri")())||c("isWorkplaceDotComURI")(c("getRequestConstUri")())?j=g:c("isOculusDotComURI")(c("getRequestConstUri")())?j=g:c("isInternalFBURI")(c("getRequestConstUri")())?j=d("ConstUriUtils").getUri("/intern/common/referer_frame.php"):j=g;e==null&&c("isWorkplaceDotComURI")(c("getRequestConstUri")())&&(e="workplace");if(e){j=(g=j)==null?void 0:g.addQueryParam("fb_source",e)}j!=null||h(0,67317);a.onload=f;a.src=j.toString()}function a(a,b,c){j(a,function(){a.contentWindow.document.body.innerHTML=b},c)}g.shouldUseFacebookReferer=j;g.useFacebookRefererHtml=a}),98);
__d("StaticContainer.react",["React"],(function(a,b,c,d,e,f,g){var h=d("React");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.shouldComponentUpdate=function(a){return!!a.shouldUpdate};c.render=function(){var a=this.props.children;return a===null||a===!1?null:h.Children.only(a)};return b}(h.Component);g["default"]=a}),98);
__d("ControlledRefererIFrame.react",["ControlledReferer","ControlledRefererIFrameConfig","SecurePostMessage","StaticContainer.react","TrustedTypesNoOpPolicy_DO_NOT_USE","URI","isTruthy","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var e=b.prototype;e.mountFrameRef=function(a){this.frame=a};e.updateFrame=function(){var a=this,b=this.frame;if(!b)return;this.props.onBeforeFrameRender&&this.props.onBeforeFrameRender(this.props);d("ControlledReferer").shouldUseFacebookReferer(b,function(){var e=b.contentWindow.document;e.body.innerHTML=c("TrustedTypesNoOpPolicy_DO_NOT_USE").createHTML('\n        <form method="GET" id="theform"></form>\n        '+d("ControlledRefererIFrameConfig").additional_markup+"\n      ");var f=new(h||(h=c("URI")))(a.props.src).qualify(),g=e.getElementById("theform");g.action=f.toString();f=f.getQueryData();for(var i in f)if(Object.prototype.hasOwnProperty.call(f,i)){var j=e.createElement("input");j.name=i;j.setAttribute("value",f[i]);j.autocomplete="off";j.type="hidden";g.appendChild(j)}j='\n        <iframe\n          frameborder="0"\n          width="1"\n          height="1"\n          onload="document.getElementById(\'theform\').submit()"\n        />\n      ';if(c("isTruthy")(a.props.useTrustedHtml)){g=c("TrustedTypesNoOpPolicy_DO_NOT_USE").createHTML(e.body.innerHTML+j);a.props.onFrameRender&&a.props.onFrameRender(a.props);e.body.innerHTML=g}else e.body.innerHTML+=j;a.props.onFrameRender&&a.props.onFrameRender(a.props)})};e.componentDidMount=function(){this.updateFrame()};e.componentDidUpdate=function(a){a.src!==this.props.src&&this.updateFrame()};e.UNSAFE_componentWillReceiveProps=function(a){var b=this.frame;b&&(a.width!==this.props.width||a.height!==this.props.height)&&(a.width!=null&&(b.width=""+a.width),a.height!=null&&(b.height=""+a.height))};e.render=function(){var a=this,b=this.props;b.src;b.onFrameRender;b.onBeforeFrameRender;b.useTrustedHtml;b=babelHelpers.objectWithoutPropertiesLoose(b,["src","onFrameRender","onBeforeFrameRender","useTrustedHtml"]);return j.jsx(c("StaticContainer.react"),{children:j.jsx("iframe",babelHelpers["extends"]({},b,{ref:function(b){return a.mountFrameRef(b)}}))})};e.postMessage=function(a,b){this.frame&&c("SecurePostMessage").sendMessageToSpecificOrigin(this.frame.contentWindow,a,b)};return b}(j.PureComponent);g["default"]=a}),98);
__d("PolarisPaidAdsPixelsContainerV2.react",["ControlledRefererIFrame.react","PolarisErrorBoundary.react","PolarisWebStorage","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");b=1e3*60*60*24;var j=b*7,k="pixel_fire_ts";function l(){var a=c("PolarisWebStorage").getLocalStorage();if(!a)return null;var b=parseInt(a.getItem(k),10);return Date.now()-b<j?null:i.jsx(c("ControlledRefererIFrame.react"),{hidden:!0,onFrameRender:function(){a.setItem(k,Date.now().toString())},src:"/paid_ads/generete_pixels/"},"pixels_iframe")}l.displayName=l.name+" [from "+f.id+"]";function a(){return i.jsx(c("PolarisErrorBoundary.react"),{children:i.jsx(l,{})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("MAWHexUtils",["err"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=a.toString(16);return(a.length-1).toString(16)+a}function b(a){for(var b=1;b<a.length;b++){var d=a.substring(0,b),e=a.substring(b);if(e.length-1===parseInt(d,16))return parseInt(e,16)}throw c("err")("Cannot convert the order-preserving-hex back to number")}g.orderPreservingHex=a;g.reverseOrderPreservingHex=b}),98);
__d("MAWDbMsg",["FBLogger","MAWDbChatId","MAWHexUtils","MAWMsgType","OfflineThreadingId"],(function(a,b,c,d,e,f,g){"use strict";var h;h=[(h=d("MAWMsgType")).MSG_TYPE.REVOKED,h.MSG_TYPE.EPHEMERAL_SYNC_RESPONSE,h.MSG_TYPE.EPHEMERAL_SETTING_CHANGE_FROM_CURRENT_DEVICE,h.MSG_TYPE.GROUP_INVITE,h.MSG_TYPE.SK_DISTRIBUTION,h.MSG_TYPE.RAVEN_ACTION];function a(a){return q(a)?a:null}var i="futureproof",j="toBeRead",k="spam",l="futureproof_spam",m=void 0,n="e2ee_admin_msg",o="cutover_admin_msg";function p(a,b){return d("MAWHexUtils").orderPreservingHex(a)+"_"+d("MAWHexUtils").orderPreservingHex(b)+"_m"}function b(a,b){return d("MAWHexUtils").orderPreservingHex(a)+"_"+d("MAWHexUtils").orderPreservingHex(b)+"_DEBUG_"+d("MAWHexUtils").orderPreservingHex(Math.floor(Math.random()*1e4))}function q(a){var b=a.indexOf("_");if(b<=0)return!1;b=a.indexOf("_",b+2);return b!==a.length-2?!1:a.charAt(a.length-1)==="m"}function e(a){return a+"_"+j}function f(a){return a+"_"+n}function r(a){return a+"_"+o}function s(a){a=a.split("_");a=a[0];return d("MAWDbChatId").unsafeCoerceToChatId(d("MAWHexUtils").reverseOrderPreservingHex(a))}function t(a){a=a.split("_");a[0];a=a[1];return d("MAWHexUtils").reverseOrderPreservingHex(a)}function u(a){return d("MAWHexUtils").orderPreservingHex(a)+"_"}function v(a){return d("MAWHexUtils").orderPreservingHex(a)+"_z"}function w(a){try{var b=s(a);a=t(a);return p(b,a+1)+"_o"}catch(a){return d("OfflineThreadingId").createOfflineThreadingID()}}function x(a){switch(a.type){case d("MAWMsgType").MSG_TYPE.XMA:return!0;case d("MAWMsgType").MSG_TYPE.IMAGE:case d("MAWMsgType").MSG_TYPE.VIDEO:case d("MAWMsgType").MSG_TYPE.PTT:case d("MAWMsgType").MSG_TYPE.GIF:case d("MAWMsgType").MSG_TYPE.STICKER:case d("MAWMsgType").MSG_TYPE.DOCUMENT_FILE:case d("MAWMsgType").MSG_TYPE.TEXT:case d("MAWMsgType").MSG_TYPE.FUTUREPROOF:case d("MAWMsgType").MSG_TYPE.CIPHERTEXT:case d("MAWMsgType").MSG_TYPE.UNAVAILABLE:case d("MAWMsgType").MSG_TYPE.ADMIN:case d("MAWMsgType").MSG_TYPE.REVOKED:case d("MAWMsgType").MSG_TYPE.EXPIRED_EPHEMERAL:case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SETTING_ADMIN:case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SYNC_RESPONSE:case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SCREENSHOT_ACTION:case d("MAWMsgType").MSG_TYPE.ICDC_ALERT:case d("MAWMsgType").MSG_TYPE.GROUP_INVITE:case d("MAWMsgType").MSG_TYPE.RAVEN:return!1}throw c("FBLogger")("mpf_web_foundations").mustfixThrow('Invalid msg type for isXMAMsg check: "%s"',a.type)}function y(a){switch(a.type){case d("MAWMsgType").MSG_TYPE.IMAGE:case d("MAWMsgType").MSG_TYPE.VIDEO:case d("MAWMsgType").MSG_TYPE.PTT:case d("MAWMsgType").MSG_TYPE.GIF:case d("MAWMsgType").MSG_TYPE.STICKER:case d("MAWMsgType").MSG_TYPE.DOCUMENT_FILE:case d("MAWMsgType").MSG_TYPE.RAVEN:return!0;case d("MAWMsgType").MSG_TYPE.TEXT:case d("MAWMsgType").MSG_TYPE.FUTUREPROOF:case d("MAWMsgType").MSG_TYPE.CIPHERTEXT:case d("MAWMsgType").MSG_TYPE.UNAVAILABLE:case d("MAWMsgType").MSG_TYPE.ADMIN:case d("MAWMsgType").MSG_TYPE.REVOKED:case d("MAWMsgType").MSG_TYPE.EXPIRED_EPHEMERAL:case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SETTING_ADMIN:case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SYNC_RESPONSE:case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SCREENSHOT_ACTION:case d("MAWMsgType").MSG_TYPE.ICDC_ALERT:case d("MAWMsgType").MSG_TYPE.GROUP_INVITE:case d("MAWMsgType").MSG_TYPE.XMA:return!1}throw c("FBLogger")("mpf_web_foundations").mustfixThrow('Invalid msg type for isMediaMsg check: "%s"',a.type)}function z(a){switch(a.type){case d("MAWMsgType").MSG_TYPE.TEXT:case d("MAWMsgType").MSG_TYPE.IMAGE:case d("MAWMsgType").MSG_TYPE.VIDEO:case d("MAWMsgType").MSG_TYPE.PTT:case d("MAWMsgType").MSG_TYPE.GIF:case d("MAWMsgType").MSG_TYPE.STICKER:case d("MAWMsgType").MSG_TYPE.DOCUMENT_FILE:case d("MAWMsgType").MSG_TYPE.REVOKED:case d("MAWMsgType").MSG_TYPE.DELETE_FOR_ME:case d("MAWMsgType").MSG_TYPE.XMA:case d("MAWMsgType").MSG_TYPE.RAVEN:return!0;case d("MAWMsgType").MSG_TYPE.FUTUREPROOF:case d("MAWMsgType").MSG_TYPE.CIPHERTEXT:case d("MAWMsgType").MSG_TYPE.UNAVAILABLE:case d("MAWMsgType").MSG_TYPE.ADMIN:case d("MAWMsgType").MSG_TYPE.EXPIRED_EPHEMERAL:case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SETTING_ADMIN:case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SYNC_RESPONSE:case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SCREENSHOT_ACTION:case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SETTING_CHANGE_FROM_CURRENT_DEVICE:case d("MAWMsgType").MSG_TYPE.ICDC_ALERT:case d("MAWMsgType").MSG_TYPE.GROUP_INVITE:case d("MAWMsgType").MSG_TYPE.SK_DISTRIBUTION:case d("MAWMsgType").MSG_TYPE.RAVEN_ACTION:case d("MAWMsgType").MSG_TYPE.EDIT_ACTION:return!1}throw c("FBLogger")("mpf_web_foundations").mustfixThrow('Invalid msg type for isContentMsg check: "%s"',a.type)}function A(a){switch(a.type){case d("MAWMsgType").MSG_TYPE.TEXT:case d("MAWMsgType").MSG_TYPE.IMAGE:case d("MAWMsgType").MSG_TYPE.VIDEO:case d("MAWMsgType").MSG_TYPE.PTT:case d("MAWMsgType").MSG_TYPE.GIF:case d("MAWMsgType").MSG_TYPE.STICKER:case d("MAWMsgType").MSG_TYPE.DOCUMENT_FILE:case d("MAWMsgType").MSG_TYPE.XMA:case d("MAWMsgType").MSG_TYPE.RAVEN:return!0;case d("MAWMsgType").MSG_TYPE.FUTUREPROOF:case d("MAWMsgType").MSG_TYPE.CIPHERTEXT:case d("MAWMsgType").MSG_TYPE.UNAVAILABLE:case d("MAWMsgType").MSG_TYPE.ADMIN:case d("MAWMsgType").MSG_TYPE.EXPIRED_EPHEMERAL:case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SETTING_ADMIN:case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SYNC_RESPONSE:case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SCREENSHOT_ACTION:case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SETTING_CHANGE_FROM_CURRENT_DEVICE:case d("MAWMsgType").MSG_TYPE.ICDC_ALERT:case d("MAWMsgType").MSG_TYPE.GROUP_INVITE:case d("MAWMsgType").MSG_TYPE.REVOKED:case d("MAWMsgType").MSG_TYPE.DELETE_FOR_ME:case d("MAWMsgType").MSG_TYPE.SK_DISTRIBUTION:case d("MAWMsgType").MSG_TYPE.EDIT_ACTION:return!1}throw c("FBLogger")("mpf_web_foundations").mustfixThrow('Invalid msg type for isMsgEligibleForTriggeringEphemeralSyncResponse check: "%s"',a.type)}function B(a){return D(a.type)}function C(a){return a.type===d("MAWMsgType").MSG_TYPE.ADMIN}function D(a){return a==="EphemeralSyncResponse"||a==="EphemeralSettingChangeFromCurrentDevice"||a==="GroupInvite"||a==="SenderKeyDistribution"||a==="RavenAction"||a==="EditAction"}function E(a){return a==="RavenAction"}function F(a){return a.originalTs!=null?a.originalTs:G(a)}function G(a){return a.serverTs!=null?a.serverTs:a.ts}function H(a){if(a.sortOrderMs!=null)return a.sortOrderMs;else return G(a)*1e3}function I(a,b){if(a.serverTs!=null)return Math.max(b+1,a.serverTs*1e3);else return b+1}function J(a){switch(a.type){case d("MAWMsgType").MSG_TYPE.TEXT:return a.msgContent;case d("MAWMsgType").MSG_TYPE.EDIT_ACTION:return a.editMsgContent;case d("MAWMsgType").MSG_TYPE.IMAGE:case d("MAWMsgType").MSG_TYPE.VIDEO:case d("MAWMsgType").MSG_TYPE.PTT:case d("MAWMsgType").MSG_TYPE.GIF:case d("MAWMsgType").MSG_TYPE.STICKER:case d("MAWMsgType").MSG_TYPE.DOCUMENT_FILE:case d("MAWMsgType").MSG_TYPE.REVOKED:case d("MAWMsgType").MSG_TYPE.DELETE_FOR_ME:case d("MAWMsgType").MSG_TYPE.FUTUREPROOF:case d("MAWMsgType").MSG_TYPE.CIPHERTEXT:case d("MAWMsgType").MSG_TYPE.UNAVAILABLE:case d("MAWMsgType").MSG_TYPE.ADMIN:case d("MAWMsgType").MSG_TYPE.EXPIRED_EPHEMERAL:case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SETTING_ADMIN:case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SYNC_RESPONSE:case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SCREENSHOT_ACTION:case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SETTING_CHANGE_FROM_CURRENT_DEVICE:case d("MAWMsgType").MSG_TYPE.ICDC_ALERT:case d("MAWMsgType").MSG_TYPE.GROUP_INVITE:case d("MAWMsgType").MSG_TYPE.XMA:case d("MAWMsgType").MSG_TYPE.RAVEN:return}throw c("FBLogger")("mpf_web_foundations").mustfixThrow('Invalid msg type for getMsgContent check: "%s"',a.type)}g.NO_CONTENT_MESSAGE_TYPES_ALLOWLIST=h;g.toMsgId=a;g.FUTUREPROOF_ALT_INDEX=i;g.SPAM_ALT_INDEX=k;g.FUTUREPROOF_SPAM_ALT_INDEX=l;g.UNDEFINED_ALT_INDEX=m;g.craftMsgId=p;g.craftDebugMsgId=b;g.isValidMsgId=q;g.craftToBeReadAltIndex=e;g.craftE2eeAdminMsgAltIndex=f;g.craftCutoverAdminMsgAltIndex=r;g.getThreadIdFromMsgId=s;g.getInChatMsgIdFromMsgId=t;g.msgIdsInChatLowerBound=u;g.msgIdsInChatUpperBound=v;g.getNextOptimisticId=w;g.isXMAMsg=x;g.isMediaMsg=y;g.isContentMsg=z;g.isMsgEligibleForTriggeringEphemeralSyncResponse=A;g.isUnrenderedMsg=B;g.isAdminMsg=C;g.isUnrenderedMsgType=D;g.isRavenActionMsgType=E;g.getOriginalTsFromMsg=F;g.getCanonicalTsFromMsg=G;g.getSortOrderWithFallback=H;g.getSortOrderFromPrevious=I;g.getMsgContent=J}),98);
__d("MAWRestoreRewriteUtils",["gkx","qex"],(function(a,b,c,d,e,f,g){"use strict";var h=function(){return c("qex")._("680")===!0};a=function(){return h()&&c("gkx")("10618")};g.isOneDBEnabled=h;g.shouldUseRestoreLLA=a}),98);
__d("MAWThreadId",["I64","LSMessagingThreadTypeUtil","ODS","ReQL","WALogger","asyncToGeneratorRuntime","recoverableViolation","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,b){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.table("mi_act_mapping_table").index("chat_id")).getKeyRange((h||(h=d("I64"))).of_int32(b))));if(a!=null)return a.serverThreadKey;throw c("unrecoverableViolation")("Tried to convert a rowId to thread key but couldn't find a\n      corresponding row in the mapping table. This can mean that\n      there is a race condition between the time a thread was created\n      on the WA backend, and the time it was inserted into the mapping table.\n      i.e. this function is called before the fn that inserts the mapping\n      into the mapping table","messenger_web_product")});return j.apply(this,arguments)}var k=new Set();function e(a,b){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.table("mi_act_mapping_table").index("chat_id")).getKeyRange((h||(h=d("I64"))).of_int32(b))));if(a!=null){k["delete"](b);return a.serverThreadKey}k.has(b)||(d("WALogger").LOG(["[Occamadillo] Thread id: "+b.toString()+" is not yet in miActMapping table."]),(i||(i=d("ODS"))).bumpEntityKey(5765,"thread_not_in_miActMapping","[Occamadillo] Thread id: "+b.toString()+" is not yet in miActMapping table."),k.add(b));return});return l.apply(this,arguments)}function f(a){c("recoverableViolation")("Checking if a threadKey is a secure thread key in Occamadillo. We should be\n      checking the thread's thread type instead","messenger_web_product");return!1}function m(a,b){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.table("threads")).getKeyRange(b)));if(a==null)return;return a.threadType});return n.apply(this,arguments)}function o(a,b){return p.apply(this,arguments)}function p(){p=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a=(yield m(a,b));return a==null?!1:d("LSMessagingThreadTypeUtil").isSecure(a)});return p.apply(this,arguments)}function q(a,b){return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.table("threads")).getKeyRange(b))}g.toThreadKey_DEPRECATED=a;g.toThreadKeyMaybe_DEPRECATED=e;g.isThreadId=f;g.isSecureThreadId=o;g.getThreadFromJid=q}),98);/*FB_PKG_DELIM*/
__d("LSDeleteBackupOnClient",["LSAppendDataTraceAddon","LSFlushDataTrace.nop","LSIsMobileClient","LSLogMebClientEvent.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.seq([function(e){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsDeleteBackupOnClientStoredProcedure] Beginning execution."),a[3]!==f?c.sp(b("LSAppendDataTraceAddon"),a[3],c.i64.cast([0,1423]),c.i64.cast([0,2]),f,f):c.resolve()},function(a){return c.sp(b("LSIsMobileClient")).then(function(a){return a=a,d[1]=a[0],a})},function(a){return d[1]?d[2]=!0:d[2]=!1,d[2]?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[10]=c.createArray(),f!==f?d[11]=(d[10].push(f),d[10]):0,c.nop(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",d[10],c.i64.cast([0,3]))):c.resolve()},function(b){return c.i64.neq(a[0],f)?c.fe(c.db.table(168).fetch([[[a[0]]]]),function(a){return a["delete"]()}):c.fe(c.db.table(168).fetch(),function(a){return a["delete"]()})},function(b){return c.i64.neq(a[0],f)?c.fe(c.db.table(169).fetch([[[a[0]]],"fk_secure_encrypted_backups_client_state"]),function(a){return a["delete"]()}):c.fe(c.db.table(169).fetch(),function(a){return a["delete"]()})},function(a){return c.fe(c.db.table(190).fetch(),function(a){return a["delete"]()})},function(a){return c.fe(c.db.table(174).fetch(),function(a){return a["delete"]()})},function(b){return a[1]==="fetch_virtual_device"?c.db.table(178).put({pk:c.i64.cast([0,1]),recoveryCodeStatus:c.i64.cast([0,4])}):c.resolve()},function(e){return a[2]?c.seq([function(d){return a[3]!==f?c.sp(b("LSAppendDataTraceAddon"),a[3],c.i64.cast([0,1891]),c.i64.cast([0,2]),f,f):c.resolve()},function(a){return c.sp(b("LSIsMobileClient")).then(function(a){return a=a,d[10]=a[0],a})},function(a){return d[10]?d[11]=!0:d[11]=!1,d[11]?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[16]=c.createArray(),f!==f?d[17]=(d[16].push(f),d[16]):0,c.nop(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",d[16],c.i64.cast([0,3]))):c.resolve()},function(a){return c.fe(c.db.table(172).fetch([[[c.i64.cast([0,1])]]]),function(a){var b=a.update;a.item;return b({backupId:f})})},function(d){return a[3]!==f?c.sp(b("LSAppendDataTraceAddon"),a[3],c.i64.cast([0,1892]),c.i64.cast([0,2]),f,f):c.resolve()},function(a){return c.sp(b("LSIsMobileClient")).then(function(a){return a=a,d[12]=a[0],a})},function(a){return d[12]?d[13]=!0:d[13]=!1,d[13]?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[16]=c.createArray(),f!==f?d[17]=(d[16].push(f),d[16]):0,c.nop(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",d[16],c.i64.cast([0,3]))):c.resolve()},function(b){return c.i64.neq(a[0],f)?c.fe(c.ftr(c.db.table(184).fetch(),function(b){return c.i64.eq(b.backupId,a[0])}),function(a){return a["delete"]()}):c.fe(c.db.table(184).fetch(),function(a){return a["delete"]()})},function(d){return a[3]!==f?c.sp(b("LSAppendDataTraceAddon"),a[3],c.i64.cast([0,1893]),c.i64.cast([0,2]),f,f):c.resolve()},function(a){return c.sp(b("LSIsMobileClient")).then(function(a){return a=a,d[14]=a[0],a})},function(a){return d[14]?d[15]=!0:d[15]=!1,d[15]?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[16]=c.createArray(),f!==f?d[17]=(d[16].push(f),d[16]):0,c.nop(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",d[16],c.i64.cast([0,3]))):c.resolve()},function(b){return c.i64.neq(a[0],f)?c.fe(c.db.table(196).fetch([[[a[0]]]]),function(a){return a["delete"]()}):c.fe(c.db.table(196).fetch(),function(a){return a["delete"]()})}]):c.resolve()},function(e){return a[5]?c.seq([function(e){return a[5]?c.seq([function(d){return a[3]!==f?c.sp(b("LSAppendDataTraceAddon"),a[3],c.i64.cast([0,84]),c.i64.cast([0,2]),f,f):c.resolve()},function(a){return c.sp(b("LSIsMobileClient")).then(function(a){return a=a,d[12]=a[0],a})},function(a){return d[12]?d[13]=!0:d[13]=!1,d[13]?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[14]=c.createArray(),f!==f?d[15]=(d[14].push(f),d[14]):0,c.nop(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",d[14],c.i64.cast([0,3]))):c.resolve()}]):a[3]!==f?c.seq([function(d){return a[3]!==f?c.sp(b("LSAppendDataTraceAddon"),a[3],c.i64.cast([0,85]),c.i64.cast([0,2]),"The flow did not succeed",f):c.resolve()},function(a){return c.sp(b("LSIsMobileClient")).then(function(a){return a=a,d[12]=a[0],a})},function(a){return d[12]?d[13]=!0:d[13]=!1,d[13]?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[14]=c.createArray(),f!==f?d[15]=(d[14].push(f),d[14]):0,c.nop(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",d[14],c.i64.cast([0,3]))):c.resolve()}]):c.resolve()},function(d){return a[3]!==f?c.nop(b("LSFlushDataTrace.nop"),a[3]):c.resolve()},function(a){return c.sp(b("LSIsMobileClient")).then(function(a){return a=a,d[10]=a[0],a})},function(a){return d[10]?d[11]=!0:d[11]=!1,d[11]?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[12]=c.createArray(),f!==f?d[13]=(d[12].push(f),d[12]):0,c.nop(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",d[12],c.i64.cast([0,3]))):c.resolve()}]):a[4]!==f?c.seq([function(e){return d[13]=["[EncryptedBackups][LSEncryptedBackupsDeleteBackupOnClientStoredProcedure] ","",a[4]].join(""),function(a){c.logger(a).mustfix(a)}(d[13]),d[10]=c.createArray(),a[3]!==f?d[14]=(d[10].push(a[3]),d[10]):0,c.nop(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsDeleteBackupOnClientStoredProcedure",a[4],d[10],c.i64.cast([0,3]))},function(e){return a[3]!==f?c.seq([function(e){return a[3]!==f?c.sp(b("LSAppendDataTraceAddon"),a[3],c.i64.cast([0,85]),c.i64.cast([0,2]),d[13],f):c.resolve()},function(a){return c.sp(b("LSIsMobileClient")).then(function(a){return a=a,d[14]=a[0],a})},function(a){return d[14]?d[15]=!0:d[15]=!1,d[15]?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[16]=c.createArray(),f!==f?d[17]=(d[16].push(f),d[16]):0,c.nop(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",d[16],c.i64.cast([0,3]))):c.resolve()}]):c.resolve()},function(d){return a[3]!==f?c.nop(b("LSFlushDataTrace.nop"),a[3]):c.resolve()},function(a){return c.sp(b("LSIsMobileClient")).then(function(a){return a=a,d[11]=a[0],a})},function(a){return d[11]?d[12]=!0:d[12]=!1,d[12]?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[14]=c.createArray(),f!==f?d[15]=(d[14].push(f),d[14]):0,c.nop(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",d[14],c.i64.cast([0,3]))):c.resolve()}]):c.seq([function(e){return a[3]!==f?c.seq([function(d){return a[3]!==f?c.sp(b("LSAppendDataTraceAddon"),a[3],c.i64.cast([0,85]),c.i64.cast([0,2]),["[EncryptedBackups][LSEncryptedBackupsDeleteBackupOnClientStoredProcedure] ","",""].join(""),f):c.resolve()},function(a){return c.sp(b("LSIsMobileClient")).then(function(a){return a=a,d[12]=a[0],a})},function(a){return d[12]?d[13]=!0:d[13]=!1,d[13]?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[14]=c.createArray(),f!==f?d[15]=(d[14].push(f),d[14]):0,c.nop(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",d[14],c.i64.cast([0,3]))):c.resolve()}]):c.resolve()},function(d){return a[3]!==f?c.nop(b("LSFlushDataTrace.nop"),a[3]):c.resolve()},function(a){return c.sp(b("LSIsMobileClient")).then(function(a){return a=a,d[10]=a[0],a})},function(a){return d[10]?d[11]=!0:d[11]=!1,d[11]?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[12]=c.createArray(),f!==f?d[13]=(d[12].push(f),d[12]):0,c.nop(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",d[12],c.i64.cast([0,3]))):c.resolve()}])},function(a){return d[3]=c.i64.of_float(Date.now()),d[5]="Finishing execution. Execution time: ",d[6]=c.i64.to_string(c.i64.sub(d[3],d[0])),d[8]=" ms",d[4]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][LSEncryptedBackupsDeleteBackupOnClientStoredProcedure] ",d[4],d[5],d[4],d[6],d[4],d[8]].join("")),d[7]=",",d[9]=c.createArray(),f!==f?d[10]=(d[9].push(f),d[9]):0,c.nop(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsDeleteBackupOnClientStoredProcedure",[d[5],d[7],d[6],d[7],d[8]].join(""),d[9],c.i64.cast([0,4]))}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("EncryptedBackupsSymmetricEncryptionUtils",[],(function(a,b,c,d,e,f){"use strict";a=16;b=28;c=16;d=128;f.hChaCha20SubKeyNonceLengthInBytes=a;f.totalNonceLengthInBytes=b;f.aesGcmTagLengthInBytes=c;f.aesGcmTagLength=d}),66);
__d("HChaCha20",["err"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){}a.fromHexString=function(a){var b=a.match(/[A-Fa-f0-9]{1,2}/g);if(a.length===0||a.length%2!==0||b==null)throw c("err")('The string "'+a+'" is not valid hex.');return new Uint8Array(b.map(function(a){return parseInt(a,16)}))};a.bufferToUint32Array=function(a){var b=new DataView(a),c=[];a=a.byteLength/4;for(var d=0;d<a;d++)c.push(new DataView(b.buffer.slice(d*4,d*4+4)).getInt32(0));return Uint32Array.from(c)};a.rotate=function(a,b){a=a&4294967295;b=b&31;return(a<<b|a>>>32-b)>>>0};a.quarterRound=function(b,c,d,e){b=b;c=c;d=d;e=e;b=b+c&4294967295;e=a.rotate(e^b,16);d=d+e&4294967295;c=a.rotate(c^d,12);b=b+c&4294967295;e=a.rotate(e^b,8);d=d+e&4294967295;c=a.rotate(c^d,7);return[b>>>0,c>>>0,d>>>0,e>>>0]};var b=a.prototype;b.createHCtx=function(b,d){var e=new Uint32Array(16),f=a.fromHexString("657870616e642033322d62797465206b");if(f.byteLength!==16)throw c("err")("Could not create context. Invalid constant buffer length of "+f.byteLength+". Expected a length of 16");else if(b.byteLength!==32)throw c("err")("Could not create context. Invalid key buffer length of "+b.byteLength+". Expected a length of 32");else if(d.byteLength!==16)throw c("err")("Could not create context. Invalid nonce buffer length of "+d.byteLength+". Expected a length of 16");f=a.bufferToUint32Array(f.buffer);b=a.bufferToUint32Array(b);d=a.bufferToUint32Array(d);e.set(f);e.set(b,f.length);e.set(d,f.length+b.length);return e.buffer};b.hChaCha20Bytes=function(b,c){c=new DataView(this.createHCtx(c,b));b=c.getInt32(0);var d=c.getInt32(1<<2),e=c.getInt32(2<<2),f=c.getInt32(3<<2),g=c.getInt32(4<<2),h=c.getInt32(5<<2),i=c.getInt32(6<<2),j=c.getInt32(7<<2),k=c.getInt32(8<<2),l=c.getInt32(9<<2),m=c.getInt32(10<<2),n=c.getInt32(11<<2),o=c.getInt32(12<<2),p=c.getInt32(13<<2),q=c.getInt32(14<<2);c=c.getInt32(15<<2);for(var r=0;r<10;r++){var s=a.quarterRound(b,g,k,o);b=s[0];g=s[1];k=s[2];o=s[3];s=a.quarterRound(d,h,l,p);d=s[0];h=s[1];l=s[2];p=s[3];s=a.quarterRound(e,i,m,q);e=s[0];i=s[1];m=s[2];q=s[3];s=a.quarterRound(f,j,n,c);f=s[0];j=s[1];n=s[2];c=s[3];s=a.quarterRound(b,h,m,c);b=s[0];h=s[1];m=s[2];c=s[3];s=a.quarterRound(d,i,n,o);d=s[0];i=s[1];n=s[2];o=s[3];s=a.quarterRound(e,j,k,p);e=s[0];j=s[1];k=s[2];p=s[3];s=a.quarterRound(f,g,l,q);f=s[0];g=s[1];l=s[2];q=s[3]}return Uint32Array.from([b,d,e,f,o,p,q,c]).buffer};return a}();g.HChaCha20=a}),98);
__d("SymmetricEncryptionPaddingUtils",["LSTextEncoder"],(function(a,b,c,d,e,f,g){"use strict";function h(a){if(a<10)return 10-a;var b=Math.floor(Math.log2(a)),c=Math.floor(Math.log2(b))+1;b=b-c;c=(1<<b)-1;b=a+c&(c^-1);return b-a}function i(a){var b=Uint32Array.BYTES_PER_ELEMENT,c=a.byteLength,d=h(c);d=b+c+d;d=new DataView(new ArrayBuffer(d));d.setUint32(0,c);c=new Uint8Array(d.buffer);c.set(new Uint8Array(a),b);return c.buffer}function a(a){var b=new TextEncoder();return i(d("LSTextEncoder").encodeToArrayBuffer(b,a))}function b(a){var b=Uint32Array.BYTES_PER_ELEMENT,c=new DataView(a);if(c.byteLength<b)return;var d=a.byteLength;c=c.getUint32(0);d=d-b;if(c>=0&&c<=d)return a.slice(b,b+c)}g.getPaddingLength=h;g.padData=i;g.pad=a;g.stripPadding=b}),98);/*FB_PKG_DELIM*/
__d("LSClearLoadingFlagsForThreadRange",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[],e;return b.seq([function(d){return a[1]?b.fe(b.db.table(10).fetch([[[a[0]]]]),function(a){var b=a.update;a.item;return b({isLoadingAfter:!1})}):b.seq([function(d){return b.i64.eq(b.i64.cast([0,0]),a[0])?b.seq([function(c){return b.fe(b.db.table(198).fetch([[[a[2]]]]),function(a){var b=a.update;a.item;return b({isLoadingBefore:!1})})},function(a){return c[8]=b.i64.cast([0,0]),c[9]=e,c[10]=!1,c[11]=!1,b.fe(b.db.table(198).fetch(),function(a){a=a.item;return c[12]=a.minLastActivityTimestampMs,c[14]=a.minThreadKey,c[13]=b.i64.lt(c[8]==null?c[12]:c[8],c[12]),c[8]=c[13]?c[12]:c[8],c[9]=c[13]?c[14]:c[9],c[10]=c[10]||a.isLoadingBefore,c[11]=c[11]||b.i64.gt(c[12],b.i64.cast([0,1]))&&b.i64.gt(c[14],b.i64.cast([-2147483648,0]))})},function(a){return a=[c[8],c[9],c[10],c[11]],c[0]=a[0],c[1]=a[1],c[2]=a[2],c[3]=a[3],a}]):b.resolve((d=[b.i64.cast([0,0]),e,!1,!1],c[0]=d[0],c[1]=d[1],c[2]=d[2],c[3]=d[3],d))},function(c){return b.fe(b.db.table(220).fetch([[[a[2],a[0]]]]),function(a){var b=a.update;a.item;return b({isLoadingBefore:!1})})},function(d){return c[4]=c[0],c[5]=c[1],c[6]=c[2],c[7]=c[3],b.fe(b.ftr(b.db.table(220).fetch(),function(c){return b.i64.eq(c.parentThreadKey,a[0])}),function(a){a=a.item;return c[8]=a.minLastActivityTimestampMs,c[10]=a.minThreadKey,c[9]=b.i64.lt(c[4]==null?c[8]:c[4],c[8]),c[4]=c[9]?c[8]:c[4],c[5]=c[9]?c[10]:c[5],c[6]=c[6]||a.isLoadingBefore,c[7]=c[7]||b.i64.gt(c[8],b.i64.cast([0,1]))&&b.i64.gt(c[10],b.i64.cast([-2147483648,0]))})},function(d){return b.fe(b.db.table(10).fetch([[[a[0]]]]),function(a){var b=a.update;a.item;return b({isLoadingBefore:c[6]})})}])},function(a){return b.resolve(d)}])}b=a;f["default"]=b}),66);
__d("LSClearMessagePlaceholderRange",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.fe(b.ftr(b.db.table(13).fetch([[[a[0],b.i64.cast([0,0])]]]),function(c){return b.i64.eq(c.threadKey,a[0])&&c.minMessageId===a[1]&&b.i64.eq(b.i64.cast([0,0]),c.minTimestampMs)&&b.i64.eq(a[2],c.maxTimestampMs)}),function(a){return a["delete"]()})},function(a){return b.resolve(c)}])}b=a;f["default"]=b}),66);
__d("LSInsertNewMessageRange",["LSClearMessagePlaceholderRange"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[];return c.seq([function(e){return c.seq([function(d){return c.sp(b("LSClearMessagePlaceholderRange"),a[0],a[9],c.i64.cast([0,0]))},function(b){return c.ftr(c.db.table(13).fetch([[[a[0],{lte:a[5]}]]]),function(b){return c.i64.eq(b.threadKey,a[0])&&c.i64.le(b.minTimestampMs,a[5])&&c.i64.ge(b.maxTimestampMs,a[5])}).next().then(function(b,c){var e=b.done;b=b.value;return e?(e=[a[1],a[3],a[7]],d[0]=e[0],d[1]=e[1],d[2]=e[2],e):(c=b.item,e=[c.minTimestampMs,c.minMessageId,c.hasMoreBefore],d[0]=e[0],d[1]=e[1],d[2]=e[2],e)})},function(b){return c.ftr(c.db.table(13).fetch([[[a[0],{lte:a[6]}]]]),function(b){return c.i64.eq(b.threadKey,a[0])&&c.i64.le(b.minTimestampMs,a[6])&&c.i64.ge(b.maxTimestampMs,a[6])}).next().then(function(b,c){var e=b.done;b=b.value;return e?(e=[a[2],a[4],a[8]],d[4]=e[0],d[5]=e[1],d[6]=e[2],e):(c=b.item,e=[c.maxTimestampMs,c.maxMessageId,c.hasMoreAfter],d[4]=e[0],d[5]=e[1],d[6]=e[2],e)})},function(b){return c.fe(c.ftr(c.db.table(13).fetch([[[a[0],{lte:a[6]}]]]),function(b){return c.i64.eq(b.threadKey,a[0])&&c.i64.ge(a[6],b.minTimestampMs)&&c.i64.le(a[5],b.maxTimestampMs)}),function(a){return a["delete"]()})},function(b){return c.db.table(13).put({threadKey:a[0],minTimestampMs:d[0],minMessageId:d[1],maxTimestampMs:d[4],maxMessageId:d[5],isLoadingBefore:!1,isLoadingAfter:!1,hasMoreBefore:d[2],hasMoreAfter:d[6]})}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSUpsertInboxThreadsRange",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(198).put({syncGroup:a[0],minLastActivityTimestampMs:a[1],hasMoreBefore:a[2],isLoadingBefore:a[3],minThreadKey:a[4]})},function(a){return b.resolve(c)}])}b=a;f["default"]=b}),66);
__d("LSUpsertSyncGroupThreadsRange",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(220).put({syncGroup:a[0],parentThreadKey:a[1],minLastActivityTimestampMs:a[2],hasMoreBefore:a[3],isLoadingBefore:a[4],minThreadKey:a[5]})},function(a){return b.resolve(c)}])}b=a;f["default"]=b}),66);
__d("LSThreadsRangesQuery",["LSClearLoadingFlagsForThreadRange","LSGetCursor","LSIssueNewTaskAndGetTaskID","LSUpsertInboxThreadsRange","LSUpsertSyncGroupThreadsRange"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.seq([function(e){return a[1]&&c.i64.eq(a[6],c.i64.cast([0,0]))?c.sp(b("LSClearLoadingFlagsForThreadRange"),a[0],!1,c.i64.cast([0,1])):(a[1]&&c.i64.neq(a[6],f)&&c.i64.neq(a[3],f)||a[2]&&c.i64.neq(a[5],f)&&c.i64.neq(a[4],f))&&!(a[1]&&c.i64.neq(a[6],f)&&c.i64.neq(a[3],f)&&a[2]&&c.i64.neq(a[5],f)&&c.i64.neq(a[4],f))?c.seq([function(e){return d[16]=a[3]==null?c.i64.cast([-2147483648,0]):a[3],d[15]=a[6]==null?c.i64.cast([0,1]):a[6],d[17]=c.i64.gt(d[15],c.i64.cast([0,1]))&&c.i64.gt(d[16],c.i64.cast([-2147483648,0])),d[4]=c.i64.eq(c.i64.cast([0,1]),c.i64.cast([0,1]))||c.i64.eq(c.i64.cast([0,1]),c.i64.cast([0,95])),d[4]&&c.i64.eq(a[0],c.i64.cast([0,0]))?c.seq([function(a){return c.sp(b("LSUpsertInboxThreadsRange"),c.i64.cast([0,1]),d[15],d[17],!0,d[16])},function(a){return d[18]=d[15],d[19]=d[16],d[20]=!0,d[21]=d[17],c.fe(c.db.table(198).fetch(),function(a){a=a.item;return d[22]=a.minLastActivityTimestampMs,d[24]=a.minThreadKey,d[23]=c.i64.lt(d[18]==null?d[22]:d[18],d[22]),d[18]=d[23]?d[22]:d[18],d[19]=d[23]?d[24]:d[19],d[20]=d[20]||a.isLoadingBefore,d[21]=d[21]||c.i64.gt(d[22],c.i64.cast([0,1]))&&c.i64.gt(d[24],c.i64.cast([-2147483648,0]))})},function(a){return a=[d[18],d[19],d[20],d[21]],d[0]=a[0],d[1]=a[1],d[2]=a[2],d[3]=a[3],a}]):c.resolve((e=[d[15],d[16],!0,d[17]],d[0]=e[0],d[1]=e[1],d[2]=e[2],d[3]=e[3],e))},function(e){return d[4]?c.seq([function(e){return c.sp(b("LSUpsertSyncGroupThreadsRange"),c.i64.cast([0,1]),a[0],d[15],d[17],!0,d[16])},function(b){return d[18]=d[15],d[19]=d[16],d[20]=!0,d[21]=d[17],c.fe(c.ftr(c.db.table(220).fetch(),function(b){return c.i64.eq(b.parentThreadKey,a[0])}),function(a){a=a.item;return d[22]=a.minLastActivityTimestampMs,d[24]=a.minThreadKey,d[23]=c.i64.lt(d[18]==null?d[22]:d[18],d[22]),d[18]=d[23]?d[22]:d[18],d[19]=d[23]?d[24]:d[19],d[20]=d[20]||a.isLoadingBefore,d[21]=d[21]||c.i64.gt(d[22],c.i64.cast([0,1]))&&c.i64.gt(d[24],c.i64.cast([-2147483648,0]))})},function(a){return a=[d[18],d[19],d[20],d[21]],d[5]=a[0],d[6]=a[1],d[7]=a[2],d[8]=a[3],a}]):c.resolve((e=[d[0],d[1],d[2],d[3]],d[5]=e[0],d[6]=e[1],d[7]=e[2],d[8]=e[3],e))},function(a){return c.sp(b("LSGetCursor"),c.i64.cast([0,1])).then(function(a){return a=a,d[9]=a[0],a})},function(e){return d[10]=new c.Map(),d[10].set("is_after",a[2]),d[10].set("parent_thread_key",a[0]),d[10].set("reference_thread_key",a[2]?a[4]:a[3]),d[10].set("reference_activity_timestamp",a[2]?a[5]:a[6]),d[10].set("additional_pages_to_fetch",a[7]),d[10].set("cursor",d[9]),d[10].set("messaging_tag",f),d[10].set("sync_group",c.i64.cast([0,1])),c.i64.gt(c.i64.cast([0,0]),c.i64.cast([0,0]))?(d[18]=c.i64.of_float(Date.now()),d[11]=c.i64.add(d[18],c.i64.cast([0,0]))):d[11]=c.i64.cast([0,0]),d[12]=c.toJSON(d[10]),c.sp(b("LSIssueNewTaskAndGetTaskID"),"trq",c.i64.cast([0,145]),d[12],f,f,c.i64.cast([0,0]),c.i64.cast([0,0]),f,f,d[11],c.i64.cast([0,0])).then(function(a){return a=a,d[13]=a[0],a})},function(b){return c.db.table(10).fetch([[[a[0]]]]).next().then(function(b,e){e=b.done;b=b.value;return e?c.db.table(10).add({parentThreadKey:a[0],minThreadKey:d[6]==null?c.i64.cast([-2147483648,0]):d[6],minLastActivityTimestampMs:d[5]==null?c.i64.cast([0,1]):d[5],maxLastActivityTimestampMs:c.i64.cast([0,1]),maxThreadKey:c.i64.cast([-2147483648,0]),isLoadingBefore:d[7],isLoadingAfter:!1,hasMoreBefore:d[8],hasMoreAfter:!1}):(b.item,c.fe(c.db.table(10).fetch([[[a[0]]]]),function(a){var b=a.update;a.item;return b({isLoadingBefore:d[7],isLoadingAfter:!1,hasMoreBefore:d[8],hasMoreAfter:!1})}))})}]):c.resolve()},function(e){return a[1]&&c.i64.eq(a[6],c.i64.cast([0,0]))?c.sp(b("LSClearLoadingFlagsForThreadRange"),a[0],!1,c.i64.cast([0,95])):(a[1]&&c.i64.neq(a[6],f)&&c.i64.neq(a[3],f)||a[2]&&c.i64.neq(a[5],f)&&c.i64.neq(a[4],f))&&!(a[1]&&c.i64.neq(a[6],f)&&c.i64.neq(a[3],f)&&a[2]&&c.i64.neq(a[5],f)&&c.i64.neq(a[4],f))?c.seq([function(e){return d[16]=a[3]==null?c.i64.cast([-2147483648,0]):a[3],d[15]=a[6]==null?c.i64.cast([0,1]):a[6],d[17]=c.i64.gt(d[15],c.i64.cast([0,1]))&&c.i64.gt(d[16],c.i64.cast([-2147483648,0])),d[4]=c.i64.eq(c.i64.cast([0,95]),c.i64.cast([0,1]))||c.i64.eq(c.i64.cast([0,95]),c.i64.cast([0,95])),d[4]&&c.i64.eq(a[0],c.i64.cast([0,0]))?c.seq([function(a){return c.sp(b("LSUpsertInboxThreadsRange"),c.i64.cast([0,95]),d[15],d[17],!0,d[16])},function(a){return d[18]=d[15],d[19]=d[16],d[20]=!0,d[21]=d[17],c.fe(c.db.table(198).fetch(),function(a){a=a.item;return d[22]=a.minLastActivityTimestampMs,d[24]=a.minThreadKey,d[23]=c.i64.lt(d[18]==null?d[22]:d[18],d[22]),d[18]=d[23]?d[22]:d[18],d[19]=d[23]?d[24]:d[19],d[20]=d[20]||a.isLoadingBefore,d[21]=d[21]||c.i64.gt(d[22],c.i64.cast([0,1]))&&c.i64.gt(d[24],c.i64.cast([-2147483648,0]))})},function(a){return a=[d[18],d[19],d[20],d[21]],d[0]=a[0],d[1]=a[1],d[2]=a[2],d[3]=a[3],a}]):c.resolve((e=[d[15],d[16],!0,d[17]],d[0]=e[0],d[1]=e[1],d[2]=e[2],d[3]=e[3],e))},function(e){return d[4]?c.seq([function(e){return c.sp(b("LSUpsertSyncGroupThreadsRange"),c.i64.cast([0,95]),a[0],d[15],d[17],!0,d[16])},function(b){return d[18]=d[15],d[19]=d[16],d[20]=!0,d[21]=d[17],c.fe(c.ftr(c.db.table(220).fetch(),function(b){return c.i64.eq(b.parentThreadKey,a[0])}),function(a){a=a.item;return d[22]=a.minLastActivityTimestampMs,d[24]=a.minThreadKey,d[23]=c.i64.lt(d[18]==null?d[22]:d[18],d[22]),d[18]=d[23]?d[22]:d[18],d[19]=d[23]?d[24]:d[19],d[20]=d[20]||a.isLoadingBefore,d[21]=d[21]||c.i64.gt(d[22],c.i64.cast([0,1]))&&c.i64.gt(d[24],c.i64.cast([-2147483648,0]))})},function(a){return a=[d[18],d[19],d[20],d[21]],d[5]=a[0],d[6]=a[1],d[7]=a[2],d[8]=a[3],a}]):c.resolve((e=[d[0],d[1],d[2],d[3]],d[5]=e[0],d[6]=e[1],d[7]=e[2],d[8]=e[3],e))},function(a){return c.sp(b("LSGetCursor"),c.i64.cast([0,95])).then(function(a){return a=a,d[9]=a[0],a})},function(e){return d[10]=new c.Map(),d[10].set("is_after",a[2]),d[10].set("parent_thread_key",a[0]),d[10].set("reference_thread_key",a[2]?a[4]:a[3]),d[10].set("reference_activity_timestamp",a[2]?a[5]:a[6]),d[10].set("additional_pages_to_fetch",a[7]),d[10].set("cursor",d[9]),d[10].set("messaging_tag",f),d[10].set("sync_group",c.i64.cast([0,95])),c.i64.gt(c.i64.cast([0,0]),c.i64.cast([0,0]))?(d[18]=c.i64.of_float(Date.now()),d[11]=c.i64.add(d[18],c.i64.cast([0,0]))):d[11]=c.i64.cast([0,0]),d[12]=c.toJSON(d[10]),c.sp(b("LSIssueNewTaskAndGetTaskID"),"trq",c.i64.cast([0,145]),d[12],f,f,c.i64.cast([0,0]),c.i64.cast([0,0]),f,f,d[11],c.i64.cast([0,0])).then(function(a){return a=a,d[13]=a[0],a})},function(b){return c.db.table(10).fetch([[[a[0]]]]).next().then(function(b,e){e=b.done;b=b.value;return e?c.db.table(10).add({parentThreadKey:a[0],minThreadKey:d[6]==null?c.i64.cast([-2147483648,0]):d[6],minLastActivityTimestampMs:d[5]==null?c.i64.cast([0,1]):d[5],maxLastActivityTimestampMs:c.i64.cast([0,1]),maxThreadKey:c.i64.cast([-2147483648,0]),isLoadingBefore:d[7],isLoadingAfter:!1,hasMoreBefore:d[8],hasMoreAfter:!1}):(b.item,c.fe(c.db.table(10).fetch([[[a[0]]]]),function(a){var b=a.update;a.item;return b({isLoadingBefore:d[7],isLoadingAfter:!1,hasMoreBefore:d[8],hasMoreAfter:!1})}))})}]):c.resolve()}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);/*FB_PKG_DELIM*/
__d("LSVerifyContactRowExists",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.ftr(c.db.table(7).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.id,a[0])&&c.i64.eq(c.i64.cast([0,1]),c.i64.cast([0,1]))}).next().then(function(e){var g=e.done;e.value;return g?c.seq([function(b){return d[0]=a[3]==null?"":a[3],c.fe(c.ftr(c.db.table(7).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.id,a[0])&&c.i64.eq(c.i64.cast([0,1]),c.i64.cast([0,1]))&&c.i64.lt(b.authorityLevel,a[14])}),function(a){return a["delete"]()})},function(b){return c.db.table(7).add({id:a[0],profilePictureUrl:a[2]==null?"":a[2],profilePictureFallbackUrl:a[5],name:d[0],secondaryName:a[20],normalizedNameForSearch:d[0],isMemorialized:a[9],blockedByViewerStatus:a[11],canViewerMessage:a[12],profilePictureLargeUrl:"",isMessengerUser:!0,rank:0,contactType:a[4],contactTypeExact:c.i64.cast([0,0]),requiresMultiway:!1,authorityLevel:a[14],workForeignEntityType:c.i64.cast([0,0]),capabilities:a[15],capabilities2:a[16],contactViewerRelationship:a[19],gender:a[18]})},function(e){return d[1]=new c.Map(),d[1].set("contact_id",a[0]),d[2]=c.toJSON(d[1]),c.sp(b("LSIssueNewTask"),"cpq_v2",c.i64.cast([0,207]),d[2],f,f,c.i64.cast([0,0]),c.i64.cast([0,0]),f,f,c.i64.cast([0,0]),c.i64.cast([0,0]))}]):0})},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSDeleteThenInsertMessageRequest",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(34).put({threadKey:a[0],messageRequestStatus:a[2]})},function(a){return b.resolve(c)}])}b=a;f["default"]=b}),66);
__d("LSDeleteThenInsertThread",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[],e;return b.seq([function(d){return b.db.table(9).fetch([[[a[7]]]]).next().then(function(d,f){var g=d.done;d=d.value;return g?b.db.table(9).put({threadKey:a[7],lastReadWatermarkTimestampMs:a[1],authorityLevel:a[6],mailboxType:a[8],threadType:a[9],folderName:a[10],ongoingCallState:a[29],parentThreadKey:a[35],lastActivityTimestampMs:a[0],snippet:a[2],threadName:a[3],threadPictureUrl:a[4],needsAdminApprovalForNewParticipant:a[5],threadPictureUrlFallback:a[11],threadPictureUrlExpirationTimestampMs:a[12],removeWatermarkTimestampMs:a[13],muteExpireTimeMs:a[14],muteCallsExpireTimeMs:a[15],groupNotificationSettings:a[16],isAdminSnippet:a[17],snippetSenderContactId:a[18],snippetStringHash:a[21],snippetStringArgument1:a[22],snippetAttribution:a[23],snippetAttributionStringHash:a[24],disappearingSettingTtl:a[25],disappearingSettingUpdatedTs:a[26],disappearingSettingUpdatedBy:a[27],cannotReplyReason:a[30],customEmoji:a[31],customEmojiImageUrl:a[32],outgoingBubbleColor:a[33],themeFbid:a[34],nullstateDescriptionText1:a[36],nullstateDescriptionType1:a[37],nullstateDescriptionText2:a[38],nullstateDescriptionType2:a[39],nullstateDescriptionText3:a[40],nullstateDescriptionType3:a[41],snippetHasEmoji:a[42],hasPersistentMenu:a[43],disableComposerInput:a[44],cannotUnsendReason:a[45],viewedPluginKey:a[46],viewedPluginContext:a[47],clientThreadKey:a[48],capabilities:a[49],shouldRoundThreadPicture:a[50],proactiveWarningDismissTime:a[51],isCustomThreadPicture:a[52],otidOfFirstMessage:a[53],normalizedSearchTerms:a[54],additionalThreadContext:a[55],disappearingThreadKey:a[56],isDisappearingMode:a[57],disappearingModeInitiator:a[58],unreadDisappearingMessageCount:a[59],lastMessageCtaId:a[61],lastMessageCtaType:a[62],consistentThreadFbid:a[63],threadDescription:a[64],unsendLimitMs:a[65],syncGroup:a[66],threadInvitesEnabled:a[67],threadInviteLink:a[68],numUnreadSubthreads:a[69],subthreadCount:a[70],threadInvitesEnabledV2:a[71],eventStartTimestampMs:a[72],eventEndTimestampMs:a[73],takedownState:a[74],memberCount:a[75],secondaryParentThreadKey:a[76],igFolder:a[77],inviterId:a[78],threadTags:a[79],threadStatus:a[80],threadSubtype:a[81],pauseThreadTimestamp:a[82]}):(f=d.item,c[1]=f.lastActivityTimestampMs,c[3]=f.parentThreadKey,c[2]=f.disappearingThreadKey,c[4]=f.isDisappearingMode,b.i64.le(f.authorityLevel,a[6])?b.i64.gt(c[1],a[0])&&b.i64.neq(c[2],e)?(b.i64.eq(a[35],b.i64.cast([-1,4294967286]))&&b.i64.eq(c[3],b.i64.cast([0,0]))?(g=[c[3],f.folderName],c[5]=g[0],c[6]=g[1],g):(d=[a[35],a[10]],c[5]=d[0],c[6]=d[1],d),b.db.table(9).put({threadKey:a[7],lastReadWatermarkTimestampMs:f.lastReadWatermarkTimestampMs,authorityLevel:a[6],mailboxType:a[8],threadType:a[9],folderName:c[6],ongoingCallState:a[29],parentThreadKey:c[5],lastActivityTimestampMs:c[1],snippet:a[2],threadName:a[3],threadPictureUrl:a[4],needsAdminApprovalForNewParticipant:a[5],threadPictureUrlFallback:a[11],threadPictureUrlExpirationTimestampMs:a[12],removeWatermarkTimestampMs:a[13],muteExpireTimeMs:a[14],muteCallsExpireTimeMs:a[15],groupNotificationSettings:a[16],isAdminSnippet:a[17],snippetSenderContactId:a[18],snippetStringHash:a[21],snippetStringArgument1:a[22],snippetAttribution:a[23],snippetAttributionStringHash:a[24],disappearingSettingTtl:a[25],disappearingSettingUpdatedTs:a[26],disappearingSettingUpdatedBy:a[27],cannotReplyReason:a[30],customEmoji:a[31],customEmojiImageUrl:a[32],outgoingBubbleColor:a[33],themeFbid:a[34],nullstateDescriptionText1:a[36],nullstateDescriptionType1:a[37],nullstateDescriptionText2:a[38],nullstateDescriptionType2:a[39],nullstateDescriptionText3:a[40],nullstateDescriptionType3:a[41],snippetHasEmoji:a[42],hasPersistentMenu:a[43],disableComposerInput:a[44],cannotUnsendReason:a[45],viewedPluginKey:a[46],viewedPluginContext:a[47],clientThreadKey:a[48],capabilities:a[49],shouldRoundThreadPicture:a[50],proactiveWarningDismissTime:a[51],isCustomThreadPicture:a[52],otidOfFirstMessage:a[53],normalizedSearchTerms:a[54],additionalThreadContext:a[55],disappearingThreadKey:c[2],isDisappearingMode:c[4],disappearingModeInitiator:a[58],unreadDisappearingMessageCount:a[59],lastMessageCtaId:a[61],lastMessageCtaType:a[62],consistentThreadFbid:a[63],threadDescription:a[64],unsendLimitMs:a[65],syncGroup:a[66],threadInvitesEnabled:a[67],threadInviteLink:a[68],numUnreadSubthreads:a[69],subthreadCount:a[70],threadInvitesEnabledV2:a[71],eventStartTimestampMs:a[72],eventEndTimestampMs:a[73],takedownState:a[74],memberCount:a[75],secondaryParentThreadKey:a[76],igFolder:a[77],inviterId:a[78],threadTags:a[79],threadStatus:a[80],threadSubtype:a[81],pauseThreadTimestamp:a[82]})):b.db.table(9).put({threadKey:a[7],lastReadWatermarkTimestampMs:a[1],authorityLevel:a[6],mailboxType:a[8],threadType:a[9],folderName:a[10],ongoingCallState:a[29],parentThreadKey:a[35],lastActivityTimestampMs:a[0],snippet:a[2],threadName:a[3],threadPictureUrl:a[4],needsAdminApprovalForNewParticipant:a[5],threadPictureUrlFallback:a[11],threadPictureUrlExpirationTimestampMs:a[12],removeWatermarkTimestampMs:a[13],muteExpireTimeMs:a[14],muteCallsExpireTimeMs:a[15],groupNotificationSettings:a[16],isAdminSnippet:a[17],snippetSenderContactId:a[18],snippetStringHash:a[21],snippetStringArgument1:a[22],snippetAttribution:a[23],snippetAttributionStringHash:a[24],disappearingSettingTtl:a[25],disappearingSettingUpdatedTs:a[26],disappearingSettingUpdatedBy:a[27],cannotReplyReason:a[30],customEmoji:a[31],customEmojiImageUrl:a[32],outgoingBubbleColor:a[33],themeFbid:a[34],nullstateDescriptionText1:a[36],nullstateDescriptionType1:a[37],nullstateDescriptionText2:a[38],nullstateDescriptionType2:a[39],nullstateDescriptionText3:a[40],nullstateDescriptionType3:a[41],snippetHasEmoji:a[42],hasPersistentMenu:a[43],disableComposerInput:a[44],cannotUnsendReason:a[45],viewedPluginKey:a[46],viewedPluginContext:a[47],clientThreadKey:a[48],capabilities:a[49],shouldRoundThreadPicture:a[50],proactiveWarningDismissTime:a[51],isCustomThreadPicture:a[52],otidOfFirstMessage:a[53],normalizedSearchTerms:a[54],additionalThreadContext:a[55],disappearingThreadKey:c[2],isDisappearingMode:c[4],disappearingModeInitiator:a[58],unreadDisappearingMessageCount:a[59],lastMessageCtaId:a[61],lastMessageCtaType:a[62],consistentThreadFbid:a[63],threadDescription:a[64],unsendLimitMs:a[65],syncGroup:a[66],threadInvitesEnabled:a[67],threadInviteLink:a[68],numUnreadSubthreads:a[69],subthreadCount:a[70],threadInvitesEnabledV2:a[71],eventStartTimestampMs:a[72],eventEndTimestampMs:a[73],takedownState:a[74],memberCount:a[75],secondaryParentThreadKey:a[76],igFolder:a[77],inviterId:a[78],threadTags:a[79],threadStatus:a[80],threadSubtype:a[81],pauseThreadTimestamp:a[82]}):b.resolve())})},function(a){return b.resolve(d)}])}b=a;f["default"]=b}),66);/*FB_PKG_DELIM*/
__d("WALoggerDeferred",["requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("WATagsLogger").__setRef("WALoggerDeferred");function a(a){for(var b=arguments.length,c=new Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];return h.load().then(function(b){return b.whenReady().then(function(){var d;return(d=b.TAGS([])).DEV.apply(d,[a].concat(c))})})}function b(a){for(var b=arguments.length,c=new Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];return h.load().then(function(b){return b.whenReady().then(function(){var d;return(d=b.TAGS([])).DEV_XMPP.apply(d,[a].concat(c))})})}function d(a){for(var b=arguments.length,c=new Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];return h.load().then(function(b){return b.whenReady().then(function(){var d;return(d=b.TAGS([])).LOG.apply(d,[a].concat(c))})})}function e(a){for(var b=arguments.length,c=new Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];return h.load().then(function(b){return b.whenReady().then(function(){var d;return(d=b.TAGS([])).WARN.apply(d,[a].concat(c))})})}function f(a){for(var b=arguments.length,c=new Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];return h.load().then(function(b){return b.whenReady().then(function(){var d;return(d=b.TAGS([])).ERROR.apply(d,[a].concat(c))})})}function i(a,b,c){return h.load().then(function(d){return d.whenReady().then(function(){return d.TAGS(a)}).then(function(a){a[c](b)})})}g.DEV=a;g.DEV_XMPP=b;g.LOG=d;g.WARN=e;g.ERROR=f;g.logWithTags=i}),98);
__d("LSDataTraceType",[],(function(a,b,c,d,e,f){a=Object.freeze({TASK:1,SYNC:2,RECEIVE_MSG:3,RICH_MEDIA_SEND:4,RICH_MEDIA_DOWNLOAD:5,TASK_CLIENT_MODE:6,ENCRYPTED_BACKUPS_FETCH_BACKUP_STATUS:69,ENCRYPTED_BACKUPS_INIT:70,ENCRYPTED_BACKUPS_ADD_DEVICE:71,ENCRYPTED_BACKUPS_UPLOAD:72,ENCRYPTED_BACKUPS_RESTORE:73,ENCRYPTED_BACKUPS_DELETE_BACKUP:75,ENCRYPTED_BACKUPS_CREATE_EXTRA_VIRTUAL_DEVICE:76,ENCRYPTED_BACKUPS_QR_ADD_DEVICE:77,ENCRYPTED_BACKUPS_SYNC_EPOCHS:78,ENCRYPTED_BACKUPS_OPEN_EPOCH:79,ENCRYPTED_BACKUPS_OPT_OUT_OF_BACKUP:80,ENCRYPTED_BACKUPS_MEDIA_BACKUP:81,ENCRYPTED_BACKUPS_MEDIA_RESTORE:82,ENCRYPTED_BACKUPS_THIRD_PARTY_ID_GENERATION:83,ENCRYPTED_BACKUPS_FETCH_BACKUPS_METADATA:86,ENCRYPTED_BACKUPS_REMOVE_VIRTUAL_DEVICE:87,ENCRYPTED_BACKUPS_QR_ADD_DEVICE_RECEIVER:88,ENCRYPTED_BACKUPS_DERIVE_AND_STORE_EPOCHS:89,ENCRYPTED_BACKUPS_GET_OPEN_EPOCH_KEYS:90,ENCRYPTED_BACKUPS_END_TO_END_THREAD_RESTORE:190,SAP_VESTA_REGISTRATION:251,SAP_VESTA_LOGIN:252,ENCRYPTED_BACKUPS_SHADOW_FETCH_BACKUP_STATUS:197,ENCRYPTED_BACKUPS_SHADOW_INIT:198,ENCRYPTED_BACKUPS_SHADOW_ADD_DEVICE:199,ENCRYPTED_BACKUPS_SHADOW_UPLOAD:200,ENCRYPTED_BACKUPS_SHADOW_RESTORE:201,ENCRYPTED_BACKUPS_SHADOW_DELETE_BACKUP:203,ENCRYPTED_BACKUPS_SHADOW_CREATE_EXTRA_VIRTUAL_DEVICE:204,ENCRYPTED_BACKUPS_SHADOW_QR_ADD_DEVICE:205,ENCRYPTED_BACKUPS_SHADOW_SYNC_EPOCHS:206,ENCRYPTED_BACKUPS_SHADOW_OPEN_EPOCH:207,ENCRYPTED_BACKUPS_SHADOW_QR_ADD_DEVICE_RECEIVER:216,ENCRYPTED_BACKUPS_ENCRYPTION_VERSIONING_UPSERT_VERSION_DATA:240,ENCRYPTED_BACKUPS_ENCRYPTION_VERSIONING_DELETE_VERSION_DATA:241,ENCRYPTED_BACKUPS_ENCRYPTION_VERSIONING_SYNC_VERSION_DATA:242,ENCRYPTED_BACKUPS_MESSAGE_INTEGRITY_CHECKER:243});f["default"]=a}),66);/*FB_PKG_DELIM*/
__d("LSSetIGE2EEEligibility",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.ftr(c.db.table(176).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.contactId,a[0])&&c.i64.eq(b.e2eeEligibility,a[1])}).next().then(function(e,g){g=e.done;e=e.value;return g?(d[1]=new c.Map(),d[1].set("contact_id",a[0]),d[1].set("new_eligibility",a[1]),d[2]=c.toJSON(d[1]),c.sp(b("LSIssueNewTask"),"ig_set_e2ee_eligibility",c.i64.cast([0,60001]),d[2],f,f,c.i64.cast([0,0]),c.i64.cast([0,0]),f,f,c.i64.cast([0,0]),c.i64.cast([0,0]))):(e.item,0)})},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSVerifyContactRowExistsStoredProcedure",["LSVerifyContactRowExists"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.id;d[1]=b.contactIdType;d[2]=b.profilePictureUrl;d[3]=b.name;d[4]=b.contactType;d[5]=b.profilePictureFallbackUrl;d[6]=b.profilePictureUrlExpirationTimestampMs;d[7]=b.urlExpirationTimestampMs;d[8]=b.normalizedNameForSearch;d[9]=b.isMemorialized;d[10]=b.isBlocked;d[11]=b.blockedByViewerStatus;d[12]=b.canViewerMessage;d[13]=b.isSelf;d[14]=b.authorityLevel;d[15]=b.capabilities;d[16]=b.capabilities2;d[17]=b.workForeignEntityType;d[18]=b.gender;d[19]=b.contactViewerRelationship;d[20]=b.secondaryName;return c("LSVerifyContactRowExists").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("LSIssueNewErrorStoredProcedure",["LSIssueNewError"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.taskId;d[1]=b.errorCode;d[2]=b.errorTitleText;d[3]=b.errorBodyText;d[4]=b.errorExtraData;d[5]=b.presentationStyle;return c("LSIssueNewError").apply(void 0,d.concat([a]))}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("PolarisDirectMQTTInstance",["PolarisDirectLogger","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("PolarisDirectMQTT").__setRef("PolarisDirectMQTTInstance"),i=null,j=new Set();function a(){return i}function b(a){j.add(a);return function(){j["delete"](a)}}function e(a,b,c,e){var g=new(d("PolarisDirectLogger").DirectLogger)("DirectMQTTInstance",e);g.debugTrace("lazy_load_start");return h.load().then(function(a){return a.DirectMQTT}).then(function(d){g.debugTrace("lazy_load_end");i?(g.debugTrace("disconnect_existing"),i.disconnect()):g.debugTrace("nothing_to_disconnect");i=new d({seq_id:a,snapshot_app_version:"web",snapshot_at_ms:b,subscription_type:c},e);j.forEach(function(a){a(i)});window.__mqtt=i;return i},function(a){g.logError("lazy_load_failed",a);return null})}g.getMqttInstance=a;g.subscribeToMQTTCreated=b;g.createMqttInstance=e}),98);
__d("usePolarisMQTT",["PolarisDirectMQTTInstance","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useSyncExternalStore;function a(){return i(d("PolarisDirectMQTTInstance").subscribeToMQTTCreated,d("PolarisDirectMQTTInstance").getMqttInstance,function(){return null})}g["default"]=a}),98);
__d("PolarisIncomingCallActions",[],(function(a,b,c,d,e,f){"use strict";function a(){return{type:"ACK_INCOMING_CALL"}}function b(a,b,c,d,e,f){return{avatarUris:e,callerName:f,hasVideo:c,igThreadId:b,serverInfoData:a,threadName:d,type:"UPDATE_INCOMING_CALL"}}f.ackCall=a;f.updateCall=b}),66);/*FB_PKG_DELIM*/
__d("IGDSVideoChatPanoOutlineIcon",["IGDSSVGIconBase.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(c("IGDSSVGIconBase.react"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:[i.jsx("rect",{fill:"none",height:"18",rx:"3",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",width:"16.999",x:"1",y:"3"}),i.jsx("path",{d:"m17.999 9.146 2.495-2.256A1.5 1.5 0 0 1 23 8.003v7.994a1.5 1.5 0 0 1-2.506 1.113L18 14.854",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"})]}))}a.displayName=a.name+" [from "+f.id+"]";b=i.memo(a);g["default"]=b}),98);/*FB_PKG_DELIM*/
__d("IGDSLocationPanoFilledIcon",["IGDSSVGIconBase.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsx(c("IGDSSVGIconBase.react"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:i.jsx("path",{d:"M12.053 1a8.684 8.684 0 0 0-8.708 8.66c0 5.699 6.14 11.495 8.108 13.123a.939.939 0 0 0 1.2 0c1.969-1.628 8.109-7.424 8.109-13.123A8.684 8.684 0 0 0 12.053 1Zm0 10.313a1.604 1.604 0 1 1 1.604-1.604 1.604 1.604 0 0 1-1.604 1.604Z"})}))}a.displayName=a.name+" [from "+f.id+"]";b=i.memo(a);g["default"]=b}),98);